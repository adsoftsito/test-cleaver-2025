"use strict";(self.webpackChunkangular_16_firestore_crud=self.webpackChunkangular_16_firestore_crud||[]).push([[179],{2011:(lt,Ie,R)=>{R.d(Ie,{Dh:()=>Re,GT:()=>le,cc:()=>be,hO:()=>Pe,on:()=>U,pX:()=>ne,xv:()=>de});var i=R(2223),$=R(9260),O=R(4976);lt=R.hmd(lt);const X=["ngOnDestroy"],ne=(ke,_t,ht,te={})=>new Proxy(ke,{get:(pe,K)=>ht.runOutsideAngular(()=>{var he;if(ke[K])return!(null===(he=te?.spy)||void 0===he)&&he.get&&te.spy.get(K,ke[K]),ke[K];if(X.indexOf(K)>-1)return()=>{};const Ce=_t.toPromise().then(Ue=>{const ie=Ue&&Ue[K];return"function"==typeof ie?ie.bind(Ue):ie&&ie.then?ie.then(He=>ht.run(()=>He)):ht.run(()=>ie)});return new Proxy(()=>{},{get:(Ue,ie)=>Ce[ie],apply:(Ue,ie,He)=>Ce.then(jt=>{var fr;const Gr=jt&&jt(...He);return!(null===(fr=te?.spy)||void 0===fr)&&fr.apply&&te.spy.apply(K,He,Gr),Gr})})})}),le=(ke,_t)=>{_t.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(te=>{Object.defineProperty(ke.prototype,te,Object.getOwnPropertyDescriptor(ht.prototype||ht,te))})})};class fe{constructor(_t){return _t}}const Re=new i.OlP("angularfire2.app.options"),de=new i.OlP("angularfire2.app.name");function U(ke,_t,ht){const pe="object"==typeof ht&&ht||{};pe.name=pe.name||"string"==typeof ht&&ht||"[DEFAULT]";const he=$.Z.apps.filter(Ce=>Ce&&Ce.name===pe.name)[0]||_t.runOutsideAngular(()=>$.Z.initializeApp(ke,pe));try{JSON.stringify(ke)!==JSON.stringify(he.options)&&Z("error",`${he.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(he)}const Z=(ke,..._t)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ke](..._t)},Q={provide:fe,useFactory:U,deps:[Re,i.R0b,[new i.FiY,de]]};let Pe=(()=>{class ke{constructor(ht){$.Z.registerVersion("angularfire",O.q4.full,"core"),$.Z.registerVersion("angularfire",O.q4.full,"app-compat"),$.Z.registerVersion("angular",i.q4F.full,ht.toString())}static initializeApp(ht,te){return{ngModule:ke,providers:[{provide:Re,useValue:ht},{provide:de,useValue:te}]}}}return ke.\u0275fac=function(ht){return new(ht||ke)(i.LFG(i.Lbi))},ke.\u0275mod=i.oAB({type:ke}),ke.\u0275inj=i.cJS({providers:[Q]}),ke})();function be(ke,_t,ht,te,pe){const[,K,he]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===ke)||[];if(K)return function Je(ke,_t){try{return ke.toString()===_t.toString()}catch{return ke===_t}}(pe,he)||(Ge("error",`${_t} was already initialized on the ${ht} Firebase App with different settings.${Se?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:pe,was:he})),K;{const Ce=te();return globalThis.\u0275AngularfireInstanceCache.push([ke,Ce,pe]),Ce}}const Se=!!lt.hot,Ge=(ke,..._t)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ke](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(lt,Ie,R)=>{R.d(Ie,{q4:()=>Qo,iC:()=>cp,HU:()=>sh,vb:()=>op,JM:()=>vo});var i=R(2223),$=R(259),O=R(5861),X=R(6881),ne=R(2090),le=R(4859),fe=R(1877);const Re=(I,b)=>b.some(S=>I instanceof S);let de,U;const Pe=new WeakMap,be=new WeakMap,Je=new WeakMap,Se=new WeakMap,Ge=new WeakMap;let ht={get(I,b,S){if(I instanceof IDBTransaction){if("done"===b)return be.get(I);if("objectStoreNames"===b)return I.objectStoreNames||Je.get(I);if("store"===b)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return he(I[b])},set:(I,b,S)=>(I[b]=S,!0),has:(I,b)=>I instanceof IDBTransaction&&("done"===b||"store"===b)||b in I};function K(I){return"function"==typeof I?function pe(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...b){return I.apply(Ce(this),b),he(Pe.get(this))}:function(...b){return he(I.apply(Ce(this),b))}:function(b,...S){const L=I.call(Ce(this),b,...S);return Je.set(L,b.sort?b.sort():[b]),he(L)}}(I):(I instanceof IDBTransaction&&function _t(I){if(be.has(I))return;const b=new Promise((S,L)=>{const H=()=>{I.removeEventListener("complete",z),I.removeEventListener("error",ue),I.removeEventListener("abort",ue)},z=()=>{S(),H()},ue=()=>{L(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",z),I.addEventListener("error",ue),I.addEventListener("abort",ue)});be.set(I,b)}(I),Re(I,function Z(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ht):I)}function he(I){if(I instanceof IDBRequest)return function ke(I){const b=new Promise((S,L)=>{const H=()=>{I.removeEventListener("success",z),I.removeEventListener("error",ue)},z=()=>{S(he(I.result)),H()},ue=()=>{L(I.error),H()};I.addEventListener("success",z),I.addEventListener("error",ue)});return b.then(S=>{S instanceof IDBCursor&&Pe.set(S,I)}).catch(()=>{}),Ge.set(b,I),b}(I);if(Se.has(I))return Se.get(I);const b=K(I);return b!==I&&(Se.set(I,b),Ge.set(b,I)),b}const Ce=I=>Ge.get(I),He=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],fr=new Map;function Gr(I,b){if(!(I instanceof IDBDatabase)||b in I||"string"!=typeof b)return;if(fr.get(b))return fr.get(b);const S=b.replace(/FromIndex$/,""),L=b!==S,H=jt.includes(S);if(!(S in(L?IDBIndex:IDBObjectStore).prototype)||!H&&!He.includes(S))return;const z=function(){var ue=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let bt=it.store;return L&&(bt=bt.index(Be.shift())),(yield Promise.all([bt[S](...Be),H&&it.done]))[0]});return function(Be){return ue.apply(this,arguments)}}();return fr.set(b,z),z}!function te(I){ht=I(ht)}(I=>({...I,get:(b,S,L)=>Gr(b,S)||I.get(b,S,L),has:(b,S)=>!!Gr(b,S)||I.has(b,S)}));const Ls="@firebase/installations",oe="0.6.4",_e=1e4,we=`w:${oe}`,Me="FIS_v2",qe="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,tt=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function yn({projectId:I}){return`${qe}/projects/${I}/installations`}function tn(I){return{token:I.token,requestStatus:2,expiresIn:eo(I.expiresIn),creationTime:Date.now()}}function Nn(I,b){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(I,b){const L=(yield b.json()).error;return tt.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ti({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function $r(I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,O.Z)(function*(I){const b=yield I();return b.status>=500&&b.status<600?I():b})).apply(this,arguments)}function eo(I){return Number(I.replace("s","000"))}function ni(){return(ni=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:b},{fid:S}){const L=yn(I),H=ti(I),z=b.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({fid:S,authVersion:Me,appId:I.appId,sdkVersion:we})},Be=yield $r(()=>fetch(L,ze));if(Be.ok){const it=yield Be.json();return{fid:it.fid||S,registrationStatus:2,refreshToken:it.refreshToken,authToken:tn(it.authToken)}}throw yield Nn("Create Installation",Be)})).apply(this,arguments)}function ri(I){return new Promise(b=>{setTimeout(b,I)})}const Aa=/^[cdef][\w-]{21}$/,$e="";function pt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const S=function vt(I){return function Ps(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Aa.test(S)?S:$e}catch{return $e}}function ln(I){return`${I.appName}!${I.appId}`}const Cn=new Map;function zr(I,b){const S=ln(I);Ma(S,b),function cn(I,b){const S=function Bt(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=I=>{Ma(I.data.key,I.data.fid)}),Sr}();S&&S.postMessage({key:I,fid:b}),function es(){0===Cn.size&&Sr&&(Sr.close(),Sr=null)}()}(S,b)}function Ma(I,b){const S=Cn.get(I);if(S)for(const L of S)L(b)}let Sr=null;const no="firebase-installations-database",Sa=1,ii="firebase-installations-store";let ts=null;function gr(){return ts||(ts=function Ue(I,b,{blocked:S,upgrade:L,blocking:H,terminated:z}={}){const ue=indexedDB.open(I,b),ze=he(ue);return L&&ue.addEventListener("upgradeneeded",Be=>{L(he(ue.result),Be.oldVersion,Be.newVersion,he(ue.transaction))}),S&&ue.addEventListener("blocked",()=>S()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}(no,Sa,{upgrade:(I,b)=>{0===b&&I.createObjectStore(ii)}})),ts}function nr(I,b){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(I,b){const S=ln(I),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),ue=yield z.get(S);return yield z.put(b,S),yield H.done,(!ue||ue.fid!==b.fid)&&zr(I,b.fid),b})).apply(this,arguments)}function ns(I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(I){const b=ln(I),L=(yield gr()).transaction(ii,"readwrite");yield L.objectStore(ii).delete(b),yield L.done})).apply(this,arguments)}function rs(I,b){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(I,b){const S=ln(I),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),ue=yield z.get(S),ze=b(ue);return void 0===ze?yield z.delete(S):yield z.put(ze,S),yield H.done,ze&&(!ue||ue.fid!==ze.fid)&&zr(I,ze.fid),ze})).apply(this,arguments)}function V(I){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(I){let b;const S=yield rs(I.appConfig,L=>{const H=function G(I){return dn(I||{fid:pt(),registrationStatus:0})}(L),z=function ye(I,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(tt.create("app-offline"))};const S={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},L=function se(I,b){return nt.apply(this,arguments)}(I,S);return{installationEntry:S,registrationPromise:L}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:gt(I)}:{installationEntry:b}}(I,H);return b=z.registrationPromise,z.installationEntry});return S.fid===$e?{installationEntry:yield b}:{installationEntry:S,registrationPromise:b}}),F.apply(this,arguments)}function nt(){return nt=(0,O.Z)(function*(I,b){try{const S=yield function Ca(I,b){return ni.apply(this,arguments)}(I,b);return nr(I.appConfig,S)}catch(S){throw ft(S)&&409===S.customData.serverCode?yield ns(I.appConfig):yield nr(I.appConfig,{fid:b.fid,registrationStatus:0}),S}}),nt.apply(this,arguments)}function gt(I){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,O.Z)(function*(I){let b=yield _n(I.appConfig);for(;1===b.registrationStatus;)yield ri(100),b=yield _n(I.appConfig);if(0===b.registrationStatus){const{installationEntry:S,registrationPromise:L}=yield V(I);return L||S}return b})).apply(this,arguments)}function _n(I){return rs(I,b=>{if(!b)throw tt.create("installation-not-found");return dn(b)})}function dn(I){return function Ct(I){return 1===I.registrationStatus&&I.registrationTime+_e<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function mr(){return(mr=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:b},S){const L=function yi(I,{fid:b}){return`${yn(I)}/${b}/authTokens:generate`}(I,S),H=function zn(I,{refreshToken:b}){const S=ti(I);return S.append("Authorization",function to(I){return`${Me} ${I}`}(b)),S}(I,S),z=b.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:we,appId:I.appId}})},Be=yield $r(()=>fetch(L,ze));if(Be.ok)return tn(yield Be.json());throw yield Nn("Generate Auth Token",Be)})).apply(this,arguments)}function is(I){return si.apply(this,arguments)}function si(){return si=(0,O.Z)(function*(I,b=!1){let S;const L=yield rs(I.appConfig,z=>{if(!Pt(z))throw tt.create("not-registered");const ue=z.authToken;if(!b&&function Jt(I){return 2===I.requestStatus&&!function rr(I){const b=Date.now();return b<I.creationTime||I.creationTime+I.expiresIn<b+Ve}(I)}(ue))return z;if(1===ue.requestStatus)return S=function ce(I,b){return ee.apply(this,arguments)}(I,b),z;{if(!navigator.onLine)throw tt.create("app-offline");const ze=function Kn(I){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:b})}(z);return S=function ct(I,b){return At.apply(this,arguments)}(I,ze),ze}});return S?yield S:L.authToken}),si.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(I,b){let S=yield xe(I.appConfig);for(;1===S.authToken.requestStatus;)yield ri(100),S=yield xe(I.appConfig);const L=S.authToken;return 0===L.requestStatus?is(I,b):L})).apply(this,arguments)}function xe(I){return rs(I,b=>{if(!Pt(b))throw tt.create("not-registered");return function gs(I){return 1===I.requestStatus&&I.requestTime+_e<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function At(){return At=(0,O.Z)(function*(I,b){try{const S=yield function Gt(I,b){return mr.apply(this,arguments)}(I,b),L=Object.assign(Object.assign({},b),{authToken:S});return yield nr(I.appConfig,L),S}catch(S){if(!ft(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const L=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield nr(I.appConfig,L)}else yield ns(I.appConfig);throw S}}),At.apply(this,arguments)}function Pt(I){return void 0!==I&&2===I.registrationStatus}function xa(){return(xa=(0,O.Z)(function*(I){const b=I,{installationEntry:S,registrationPromise:L}=yield V(b);return L?L.catch(console.error):is(b).catch(console.error),S.fid})).apply(this,arguments)}function oi(){return oi=(0,O.Z)(function*(I,b=!1){const S=I;return yield function Md(I){return Ei.apply(this,arguments)}(S),(yield is(S,b)).token}),oi.apply(this,arguments)}function Ei(){return(Ei=(0,O.Z)(function*(I){const{registrationPromise:b}=yield V(I);b&&(yield b)})).apply(this,arguments)}function io(I){return tt.create("missing-app-config-values",{valueName:I})}const xd="installations",_m=I=>{const b=I.getProvider("app").getImmediate(),S=function kc(I){if(!I||!I.options)throw io("App Configuration");if(!I.name)throw io("App Name");const b=["projectId","apiKey","appId"];for(const S of b)if(!I.options[S])throw io(S);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(b);return{app:b,appConfig:S,heartbeatServiceProvider:(0,X._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},ms=I=>{const b=I.getProvider("app").getImmediate(),S=(0,X._getProvider)(b,xd).getImmediate();return{getId:()=>function ro(I){return xa.apply(this,arguments)}(S),getToken:H=>function Ad(I){return oi.apply(this,arguments)}(S,H)}};(function jf(){(0,X._registerComponent)(new le.wA(xd,_m,"PUBLIC")),(0,X._registerComponent)(new le.wA("installations-internal",ms,"PRIVATE"))})(),(0,X.registerVersion)(Ls,oe),(0,X.registerVersion)(Ls,oe,"esm2017");const ka="@firebase/remote-config",un=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wr{constructor(b,S,L,H){this.client=b,this.storage=S,this.storageCache=L,this.logger=H}isCachedDataFresh(b,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-S,H=L<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${H}.`),H}fetch(b){var S=this;return(0,O.Z)(function*(){const[L,H]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(H&&S.isCachedDataFresh(b.cacheMaxAgeMillis,L))return H;b.eTag=H&&H.eTag;const z=yield S.client.fetch(b),ue=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&ue.push(S.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(ue),z})()}}function Rd(I=navigator){return I.languages&&I.languages[0]||I.language}class ss{constructor(b,S,L,H,z,ue){this.firebaseInstallations=b,this.sdkVersion=S,this.namespace=L,this.projectId=H,this.apiKey=z,this.appId=ue}fetch(b){var S=this;return(0,O.Z)(function*(){const[L,H]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},Be={sdk_version:S.sdkVersion,app_instance_id:L,app_instance_id_token:H,app_id:S.appId,language_code:Rd()},it={method:"POST",headers:ze,body:JSON.stringify(Be)},bt=fetch(ue,it),Dt=new Promise((Mi,ji)=>{b.signal.addEventListener(()=>{const lc=new Error("The operation was aborted.");lc.name="AbortError",ji(lc)})});let wr;try{yield Promise.race([bt,Dt]),wr=yield bt}catch(Mi){let ji="fetch-client-network";throw"AbortError"===Mi?.name&&(ji="fetch-timeout"),un.create(ji,{originalErrorMessage:Mi?.message})}let ir=wr.status;const qi=wr.headers.get("ETag")||void 0;let Al,li;if(200===wr.status){let Mi;try{Mi=yield wr.json()}catch(ji){throw un.create("fetch-client-parse",{originalErrorMessage:ji?.message})}Al=Mi.entries,li=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===li?ir=500:"NO_CHANGE"===li?ir=304:("NO_TEMPLATE"===li||"EMPTY_CONFIG"===li)&&(Al={}),304!==ir&&200!==ir)throw un.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:qi,config:Al}})()}}class Ra{constructor(b,S){this.client=b,this.storage=S}fetch(b){var S=this;return(0,O.Z)(function*(){const L=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(b,L)})()}attemptFetch(b,{throttleEndTimeMillis:S,backoffCount:L}){var H=this;return(0,O.Z)(function*(){yield function Rn(I,b){return new Promise((S,L)=>{const H=Math.max(b-Date.now(),0),z=setTimeout(S,H);I.addEventListener(()=>{clearTimeout(z),L(un.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,S);try{const z=yield H.client.fetch(b);return yield H.storage.deleteThrottleMetadata(),z}catch(z){if(!function Oo(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const b=Number(I.customData.httpStatus);return 429===b||500===b||503===b||504===b}(z))throw z;const ue={throttleEndTimeMillis:Date.now()+(0,ne.$s)(L),backoffCount:L+1};return yield H.storage.setThrottleMetadata(ue),H.attemptFetch(b,ue)}})()}}class Od{constructor(b,S,L,H,z){this.app=b,this._client=S,this._storageCache=L,this._storage=H,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ci(I,b){const S=I.target.error||void 0;return un.create(b,{originalErrorMessage:S&&S?.message})}const Vn="app_namespace_store";class Kw{constructor(b,S,L,H=function Ht(){return new Promise((I,b)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=L=>{b(ci(L,"storage-open"))},S.onsuccess=L=>{I(L.target.result)},S.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Vn,{keyPath:"compositeKey"})}}catch(S){b(un.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=b,this.appName=S,this.namespace=L,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,z)=>{const ze=L.transaction([Vn],"readonly").objectStore(Vn),Be=S.createCompositeKey(b);try{const it=ze.get(Be);it.onerror=bt=>{z(ci(bt,"storage-get"))},it.onsuccess=bt=>{const Dt=bt.target.result;H(Dt?Dt.value:void 0)}}catch(it){z(un.create("storage-get",{originalErrorMessage:it?.message}))}})})()}set(b,S){var L=this;return(0,O.Z)(function*(){const H=yield L.openDbPromise;return new Promise((z,ue)=>{const Be=H.transaction([Vn],"readwrite").objectStore(Vn),it=L.createCompositeKey(b);try{const bt=Be.put({compositeKey:it,value:S});bt.onerror=Dt=>{ue(ci(Dt,"storage-set"))},bt.onsuccess=()=>{z()}}catch(bt){ue(un.create("storage-set",{originalErrorMessage:bt?.message}))}})})()}delete(b){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,z)=>{const ze=L.transaction([Vn],"readwrite").objectStore(Vn),Be=S.createCompositeKey(b);try{const it=ze.delete(Be);it.onerror=bt=>{z(ci(bt,"storage-delete"))},it.onsuccess=()=>{H()}}catch(it){z(un.create("storage-delete",{originalErrorMessage:it?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class Rc{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,O.Z)(function*(){const S=b.storage.getLastFetchStatus(),L=b.storage.getLastSuccessfulFetchTimestampMillis(),H=b.storage.getActiveConfig(),z=yield S;z&&(b.lastFetchStatus=z);const ue=yield L;ue&&(b.lastSuccessfulFetchTimestampMillis=ue);const ze=yield H;ze&&(b.activeConfig=ze)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function ao(){return co.apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function os(){(0,X._registerComponent)(new le.wA("remote-config",function I(b,{instanceIdentifier:S}){const L=b.getProvider("app").getImmediate(),H=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw un.create("registration-window");if(!(0,ne.hl)())throw un.create("indexed-db-unavailable");const{projectId:z,apiKey:ue,appId:ze}=L.options;if(!z)throw un.create("registration-project-id");if(!ue)throw un.create("registration-api-key");if(!ze)throw un.create("registration-app-id");const Be=new Kw(ze,L.name,S=S||"firebase"),it=new Rc(Be),bt=new fe.Yd(ka);bt.logLevel=fe.in.ERROR;const Dt=new ss(H,X.SDK_VERSION,S,z,ue,ze),wr=new Ra(Dt,Be),ir=new Wr(wr,Be,it,bt),qi=new Od(L,ir,it,Be,bt);return function Lt(I){const b=(0,ne.m9)(I);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(qi),qi},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(ka,"0.4.4"),(0,X.registerVersion)(ka,"0.4.4","esm2017")}();const ar=(I,b)=>b.some(S=>I instanceof S);let vm,Bn;const vs=new WeakMap,ys=new WeakMap,vr=new WeakMap,kr=new WeakMap,uo=new WeakMap;let Oa={get(I,b,S){if(I instanceof IDBTransaction){if("done"===b)return ys.get(I);if("objectStoreNames"===b)return I.objectStoreNames||vr.get(I);if("store"===b)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return as(I[b])},set:(I,b,S)=>(I[b]=S,!0),has:(I,b)=>I instanceof IDBTransaction&&("done"===b||"store"===b)||b in I};function Em(I){return"function"==typeof I?function $f(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Po(){return Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...b){return I.apply(Ju(this),b),as(vs.get(this))}:function(...b){return as(I.apply(Ju(this),b))}:function(b,...S){const L=I.call(Ju(this),b,...S);return vr.set(L,b.sort?b.sort():[b]),as(L)}}(I):(I instanceof IDBTransaction&&function Ku(I){if(ys.has(I))return;const b=new Promise((S,L)=>{const H=()=>{I.removeEventListener("complete",z),I.removeEventListener("error",ue),I.removeEventListener("abort",ue)},z=()=>{S(),H()},ue=()=>{L(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",z),I.addEventListener("error",ue),I.addEventListener("abort",ue)});ys.set(I,b)}(I),ar(I,function ui(){return vm||(vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Oa):I)}function as(I){if(I instanceof IDBRequest)return function ym(I){const b=new Promise((S,L)=>{const H=()=>{I.removeEventListener("success",z),I.removeEventListener("error",ue)},z=()=>{S(as(I.result)),H()},ue=()=>{L(I.error),H()};I.addEventListener("success",z),I.addEventListener("error",ue)});return b.then(S=>{S instanceof IDBCursor&&vs.set(S,I)}).catch(()=>{}),uo.set(b,I),b}(I);if(kr.has(I))return kr.get(I);const b=Em(I);return b!==I&&(kr.set(I,b),uo.set(b,I)),b}const Ju=I=>uo.get(I);function Qu(I,b,{blocked:S,upgrade:L,blocking:H,terminated:z}={}){const ue=indexedDB.open(I,b),ze=as(ue);return L&&ue.addEventListener("upgradeneeded",Be=>{L(as(ue.result),Be.oldVersion,Be.newVersion,as(ue.transaction))}),S&&ue.addEventListener("blocked",()=>S()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}function La(I,{blocked:b}={}){const S=indexedDB.deleteDatabase(I);return b&&S.addEventListener("blocked",()=>b()),as(S).then(()=>{})}const Ld=["get","getKey","getAll","getAllKeys","count"],zf=["put","add","delete","clear"],Yu=new Map;function Pd(I,b){if(!(I instanceof IDBDatabase)||b in I||"string"!=typeof b)return;if(Yu.get(b))return Yu.get(b);const S=b.replace(/FromIndex$/,""),L=b!==S,H=zf.includes(S);if(!(S in(L?IDBIndex:IDBObjectStore).prototype)||!H&&!Ld.includes(S))return;const z=function(){var ue=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let bt=it.store;return L&&(bt=bt.index(Be.shift())),(yield Promise.all([bt[S](...Be),H&&it.done]))[0]});return function(Be){return ue.apply(this,arguments)}}();return Yu.set(b,z),z}!function Gf(I){Oa=I(Oa)}(I=>({...I,get:(b,S,L)=>Pd(b,S)||I.get(b,S,L),has:(b,S)=>!!Pd(b,S)||I.has(b,S)}));const Fd="/firebase-messaging-sw.js",Pa="/firebase-cloud-messaging-push-scope",Fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wm="https://fcmregistrations.googleapis.com/v1",Xu="google.c.a.c_id",Zn="google.c.a.c_l",Vs="google.c.a.ts";var Es=(()=>((Es=Es||{}).PUSH_RECEIVED="push-received",Es.NOTIFICATION_CLICKED="notification-clicked",Es))();function Pi(I){const b=new Uint8Array(I);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oc(I){const S=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(S),H=new Uint8Array(L.length);for(let z=0;z<L.length;++z)H[z]=L.charCodeAt(z);return H}const Ua="fcm_token_details_db",Ud=5,Va="fcm_token_object_Store";function Zr(){return Zr=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Ua))return null;let b=null;return(yield Qu(Ua,Ud,{upgrade:(L=(0,O.Z)(function*(H,z,ue,ze){var Be;if(z<2||!H.objectStoreNames.contains(Va))return;const it=ze.objectStore(Va),bt=yield it.index("fcmSenderId").get(I);if(yield it.clear(),bt)if(2===z){const Dt=bt;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;b={token:Dt.fcmToken,createTime:null!==(Be=Dt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:Pi(Dt.vapidKey)}}}else if(3===z){const Dt=bt;b={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:Pi(Dt.auth),p256dh:Pi(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:Pi(Dt.vapidKey)}}}else if(4===z){const Dt=bt;b={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:Pi(Dt.auth),p256dh:Pi(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:Pi(Dt.vapidKey)}}}}),function(z,ue,ze,Be){return L.apply(this,arguments)})})).close(),yield La(Ua),yield La("fcm_vapid_details_db"),yield La("undefined"),function Lc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:b}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var L}),Zr.apply(this,arguments)}const Qn="firebase-messaging-database",Pc=1,Ti="firebase-messaging-store";let Ba=null;function Fo(){return Ba||(Ba=Qu(Qn,Pc,{upgrade:(I,b)=>{0===b&&I.createObjectStore(Ti)}})),Ba}function Uo(I){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,O.Z)(function*(I){const b=lo(I),L=yield(yield Fo()).transaction(Ti).objectStore(Ti).get(b);if(L)return L;{const H=yield function Tm(I){return Zr.apply(this,arguments)}(I.appConfig.senderId);if(H)return yield Kf(I,H),H}}),Vo.apply(this,arguments)}function Kf(I,b){return Za.apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(I,b){const S=lo(I),H=(yield Fo()).transaction(Ti,"readwrite");return yield H.objectStore(Ti).put(b,S),yield H.done,b})).apply(this,arguments)}function Fc(){return(Fc=(0,O.Z)(function*(I){const b=lo(I),L=(yield Fo()).transaction(Ti,"readwrite");yield L.objectStore(Ti).delete(b),yield L.done})).apply(this,arguments)}function lo({appConfig:I}){return I.appId}const Hr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jf(I,b){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,O.Z)(function*(I,b){const S=yield rl(I),L=il(b),H={method:"POST",headers:S,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(Ha(I.appConfig),H)).json()}catch(ue){throw Hr.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(z.error)throw Hr.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function Bd(){return(Bd=(0,O.Z)(function*(I,b){const S=yield rl(I),L=il(b.subscriptionOptions),H={method:"PATCH",headers:S,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(`${Ha(I.appConfig)}/${b.token}`,H)).json()}catch(ue){throw Hr.create("token-update-failed",{errorInfo:ue?.toString()})}if(z.error)throw Hr.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-update-no-token");return z.token})).apply(this,arguments)}function nl(I,b){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,O.Z)(function*(I,b){const L={method:"DELETE",headers:yield rl(I)};try{const z=yield(yield fetch(`${Ha(I.appConfig)}/${b}`,L)).json();if(z.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(H){throw Hr.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Ha({projectId:I}){return`${wm}/projects/${I}/registrations`}function rl(I){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*({appConfig:I,installations:b}){const S=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function il({p256dh:I,auth:b,endpoint:S,vapidKey:L}){const H={web:{endpoint:S,auth:b,p256dh:I}};return L!==Fa&&(H.web.applicationPubKey=L),H}const Bc=6048e5;function Bo(){return Bo=(0,O.Z)(function*(I){const b=yield function Zc(I,b){return qr.apply(this,arguments)}(I.swRegistration,I.vapidKey),S={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:b.endpoint,auth:Pi(b.getKey("auth")),p256dh:Pi(b.getKey("p256dh"))},L=yield Uo(I.firebaseDependencies);if(L){if(function Hc(I,b){return b.vapidKey===I.vapidKey&&b.endpoint===I.endpoint&&b.auth===I.auth&&b.p256dh===I.p256dh}(L.subscriptionOptions,S))return Date.now()>=L.createTime+Bc?function Zd(I,b){return qa.apply(this,arguments)}(I,{token:L.token,createTime:Date.now(),subscriptionOptions:S}):L.token;try{yield nl(I.firebaseDependencies,L.token)}catch(H){console.warn(H)}return In(I.firebaseDependencies,S)}return In(I.firebaseDependencies,S)}),Bo.apply(this,arguments)}function Fi(){return Fi=(0,O.Z)(function*(I){const b=yield Uo(I.firebaseDependencies);b&&(yield nl(I.firebaseDependencies,b.token),yield function el(I){return Fc.apply(this,arguments)}(I.firebaseDependencies));const S=yield I.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Fi.apply(this,arguments)}function qa(){return qa=(0,O.Z)(function*(I,b){try{const S=yield function tl(I,b){return Bd.apply(this,arguments)}(I.firebaseDependencies,b),L=Object.assign(Object.assign({},b),{token:S,createTime:Date.now()});return yield Kf(I.firebaseDependencies,L),S}catch(S){throw yield function Qf(I){return Fi.apply(this,arguments)}(I),S}}),qa.apply(this,arguments)}function In(I,b){return ho.apply(this,arguments)}function ho(){return(ho=(0,O.Z)(function*(I,b){const L={token:yield Jf(I,b),createTime:Date.now(),subscriptionOptions:b};return yield Kf(I,L),L.token})).apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(I,b){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oc(b)})})).apply(this,arguments)}function sl(I){const b={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Bs(I,b){if(!b.notification)return;I.notification={};const S=b.notification.title;S&&(I.notification.title=S);const L=b.notification.body;L&&(I.notification.body=L);const H=b.notification.image;H&&(I.notification.image=H);const z=b.notification.icon;z&&(I.notification.icon=z)}(b,I),function cr(I,b){b.data&&(I.data=b.data)}(b,I),function Cm(I,b){var S,L,H,z,ue;if(!(b.fcmOptions||null!==(S=b.notification)&&void 0!==S&&S.click_action))return;I.fcmOptions={};const ze=null!==(H=null===(L=b.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==H?H:null===(z=b.notification)||void 0===z?void 0:z.click_action;ze&&(I.fcmOptions.link=ze);const Be=null===(ue=b.fcmOptions)||void 0===ue?void 0:ue.analytics_label;Be&&(I.fcmOptions.analyticsLabel=Be)}(b,I),b}function Hd(I,b){const S=[];for(let L=0;L<I.length;L++)S.push(I.charAt(L)),L<b.length&&S.push(b.charAt(L));return S.join("")}function ol(I){return Hr.create("missing-app-config-values",{valueName:I})}Hd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qd{constructor(b,S,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Zs(I){if(!I||!I.options)throw ol("App Configuration Object");if(!I.name)throw ol("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:S}=I;for(const L of b)if(!S[L])throw ol(L);return{appName:I.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:H,installations:S,analyticsProvider:L}}_delete(){return Promise.resolve()}}function qc(){return(qc=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Fd,{scope:Pa}),I.swRegistration.update().catch(()=>{})}catch(b){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(I,b){if(!b&&!I.swRegistration&&(yield function al(I){return qc.apply(this,arguments)}(I)),b||!I.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");I.swRegistration=b}})).apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(I,b){b?I.vapidKey=b:I.vapidKey||(I.vapidKey=Fa)})).apply(this,arguments)}function ul(){return ul=(0,O.Z)(function*(I,b){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield function mt(I,b){return Hs.apply(this,arguments)}(I,b?.vapidKey),yield function cl(I,b){return Ho.apply(this,arguments)}(I,b?.serviceWorkerRegistration),function Dm(I){return Bo.apply(this,arguments)}(I)}),ul.apply(this,arguments)}function Gd(){return(Gd=(0,O.Z)(function*(I,b,S){const L=function $d(I){switch(I){case Es.NOTIFICATION_CLICKED:return"notification_open";case Es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:S[Xu],message_name:S[Zn],message_time:S[Vs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ja(){return ja=(0,O.Z)(function*(I,b){const S=b.data;if(!S.isFirebaseMessaging)return;I.onMessageHandler&&S.messageType===Es.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(sl(S)):I.onMessageHandler.next(sl(S)));const L=S.data;(function Zo(I){return"object"==typeof I&&!!I&&Xu in I})(L)&&"1"===L["google.c.a.e"]&&(yield function Yf(I,b,S){return Gd.apply(this,arguments)}(I,S.messageType,L))}),ja.apply(this,arguments)}const Ga="@firebase/messaging",jo=I=>{const b=new qd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function qo(I,b){return ja.apply(this,arguments)}(b,S)),b},zd=I=>{const b=I.getProvider("messaging").getImmediate();return{getToken:L=>function jd(I,b){return ul.apply(this,arguments)}(b,L)}};function zt(){return jc.apply(this,arguments)}function jc(){return(jc=(0,O.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function De(){(0,X._registerComponent)(new le.wA("messaging",jo,"PUBLIC")),(0,X._registerComponent)(new le.wA("messaging-internal",zd,"PRIVATE")),(0,X.registerVersion)(Ga,"0.12.4"),(0,X.registerVersion)(Ga,"0.12.4","esm2017")}();const Hn="analytics",hl="firebase_id",Nr="origin",Is=6e4,Gc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qs="https://www.googletagmanager.com/gtag/js",hn=new fe.Yd("@firebase/analytics"),Rr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function za(I){if(!I.startsWith(qs)){const b=Rr.create("invalid-gtag-resource",{gtagURL:I});return hn.warn(b.message),""}return I}function $c(I){return Promise.all(I.map(b=>b.catch(S=>S)))}function Wc(){return(Wc=(0,O.Z)(function*(I,b,S,L,H,z){const ue=L[H];try{if(ue)yield b[ue];else{const Be=(yield $c(S)).find(it=>it.measurementId===H);Be&&(yield b[Be.appId])}}catch(ze){hn.error(ze)}I("config",H,z)})).apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(I,b,S,L,H){try{let z=[];if(H&&H.send_to){let ue=H.send_to;Array.isArray(ue)||(ue=[ue]);const ze=yield $c(S);for(const Be of ue){const it=ze.find(Dt=>Dt.measurementId===Be),bt=it&&b[it.appId];if(!bt){z=[];break}z.push(bt)}}0===z.length&&(z=Object.values(b)),yield Promise.all(z),I("event",L,H||{})}catch(z){hn.error(z)}})).apply(this,arguments)}const Kc=30,ep=new class Ja{constructor(b={},S=1e3){this.throttleMetadata=b,this.intervalMillis=S}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,S){this.throttleMetadata[b]=S}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Jr(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function bn(){return(bn=(0,O.Z)(function*(I){var b;const{appId:S,apiKey:L}=I,H={method:"GET",headers:Jr(L)},z=Gc.replace("{app-id}",S),ue=yield fetch(z,H);if(200!==ue.status&&304!==ue.status){let ze="";try{const Be=yield ue.json();null!==(b=Be.error)&&void 0!==b&&b.message&&(ze=Be.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:ue.status,responseMessage:ze})}return ue.json()})).apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(I,b=ep,S){const{appId:L,apiKey:H,measurementId:z}=I.options;if(!L)throw Rr.create("no-app-id");if(!H){if(z)return{measurementId:z,appId:L};throw Rr.create("no-api-key")}const ue=b.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new ml;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==S?S:Is),tp({appId:L,apiKey:H,measurementId:z},ue,ze,b)})).apply(this,arguments)}function tp(I,b,S){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,O.Z)(function*(I,{throttleEndTimeMillis:b,backoffCount:S},L,H=ep){var z;const{appId:ue,measurementId:ze}=I;try{yield function np(I,b){return new Promise((S,L)=>{const H=Math.max(b-Date.now(),0),z=setTimeout(S,H);I.addEventListener(()=>{clearTimeout(z),L(Rr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(L,b)}catch(Be){if(ze)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:ue,measurementId:ze};throw Be}try{const Be=yield function po(I){return bn.apply(this,arguments)}(I);return H.deleteThrottleMetadata(ue),Be}catch(Be){const it=Be;if(!function gl(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const b=Number(I.customData.httpStatus);return 429===b||500===b||503===b||504===b}(it)){if(H.deleteThrottleMetadata(ue),ze)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:ue,measurementId:ze};throw Be}const bt=503===Number(null===(z=it?.customData)||void 0===z?void 0:z.httpStatus)?(0,ne.$s)(S,H.intervalMillis,Kc):(0,ne.$s)(S,H.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+bt,backoffCount:S+1};return H.setThrottleMetadata(ue,Dt),hn.debug(`Calling attemptFetch again in ${bt} millis`),tp(I,Dt,L,H)}}),Qd.apply(this,arguments)}class ml{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let cs,Xa;function Ya(){return(Ya=(0,O.Z)(function*(I,b,S,L,H){if(H&&H.global)I("event",S,L);else{const z=yield b;I("event",S,Object.assign(Object.assign({},L),{send_to:z}))}})).apply(this,arguments)}function ec(){return(ec=(0,O.Z)(function*(){if(!(0,ne.hl)())return hn.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return hn.warn(Rr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function qn(){return qn=(0,O.Z)(function*(I,b,S,L,H,z,ue){var ze;const Be=function Am(I){return Qa.apply(this,arguments)}(I);Be.then(ir=>{S[ir.measurementId]=ir.appId,I.options.measurementId&&ir.measurementId!==I.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>hn.error(ir)),b.push(Be);const it=function El(){return ec.apply(this,arguments)}().then(ir=>{if(ir)return L.getId()}),[bt,Dt]=yield Promise.all([Be,it]);(function Jd(I){const b=window.document.getElementsByTagName("script");for(const S of Object.values(b))if(S.src&&S.src.includes(qs)&&S.src.includes(I))return S;return null})(z)||function Wa(I,b){const S=function fo(I,b){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(I,b)),S}("firebase-js-sdk-policy",{createScriptURL:za}),L=document.createElement("script"),H=`${qs}?l=${I}&id=${b}`;L.src=S?S?.createScriptURL(H):H,L.async=!0,document.head.appendChild(L)}(z,bt.measurementId),Xa&&(H("consent","default",Xa),function yl(I){Xa=I}(void 0)),H("js",new Date);const wr=null!==(ze=ue?.config)&&void 0!==ze?ze:{};return wr[Nr]="firebase",wr.update=!0,null!=Dt&&(wr[hl]=Dt),H("config",bt.measurementId,wr),cs&&(H("set",cs),function Wo(I){cs=I}(void 0)),bt.measurementId}),qn.apply(this,arguments)}class Mt{constructor(b){this.app=b}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},tc=[];const nc={};let rc,Er,js="dataLayer",Ci=!1;function Jo(I,b,S){!function eh(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const b=I.map((L,H)=>`(${H+1}) ${L}`).join(" "),S=Rr.create("invalid-analytics-context",{errorInfo:b});hn.warn(S.message)}}();const L=I.options.appId;if(!L)throw Rr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Rr.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[L])throw Rr.create("already-exists",{id:L});if(!Ci){!function Kd(I){let b=[];Array.isArray(window[I])?b=window[I]:window[I]=b}(js);const{wrappedGtag:z,gtagCore:ue}=function fl(I,b,S,L,H){let z=function(...ue){window[L].push(arguments)};return window[H]&&"function"==typeof window[H]&&(z=window[H]),window[H]=function Ui(I,b,S,L){function z(){return z=(0,O.Z)(function*(ue,...ze){try{if("event"===ue){const[Be,it]=ze;yield function Ka(I,b,S,L,H){return $o.apply(this,arguments)}(I,b,S,Be,it)}else if("config"===ue){const[Be,it]=ze;yield function zc(I,b,S,L,H,z){return Wc.apply(this,arguments)}(I,b,S,L,Be,it)}else if("consent"===ue){const[Be]=ze;I("consent","update",Be)}else if("get"===ue){const[Be,it,bt]=ze;I("get",Be,it,bt)}else if("set"===ue){const[Be]=ze;I("set",Be)}else I(ue,...ze)}catch(Be){hn.error(Be)}}),z.apply(this,arguments)}return function H(ue){return z.apply(this,arguments)}}(z,I,b,S),{gtagCore:z,wrappedGtag:window[H]}}(Di,tc,nc,js,"gtag");Er=z,rc=ue,Ci=!0}return Di[L]=function Ko(I,b,S,L,H,z,ue){return qn.apply(this,arguments)}(I,tc,nc,b,rc,js,S),new Mt(I)}function Gs(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const sc="@firebase/analytics";!function go(){(0,X._registerComponent)(new le.wA(Hn,(b,{options:S})=>Jo(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,X._registerComponent)(new le.wA("analytics-internal",function I(b){try{const S=b.getProvider(Hn).getImmediate();return{logEvent:(L,H,z)=>function us(I,b,S,L){I=(0,ne.m9)(I),function Yd(I,b,S,L,H){return Ya.apply(this,arguments)}(Er,Di[I.app.options.appId],b,S,L).catch(H=>hn.error(H))}(S,L,H,z)}}catch(S){throw Rr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,X.registerVersion)(sc,"0.10.0"),(0,X.registerVersion)(sc,"0.10.0","esm2017")}();var tu=R(4408),nu=R(7565);const bl=new class ru extends nu.v{}(class oc extends tu.o{constructor(b,S){super(b,S),this.scheduler=b,this.work=S}schedule(b,S=0){return S>0?super.schedule(b,S):(this.delay=S,this.state=b,this.scheduler.flush(this),this)}execute(b,S){return S>0||this.closed?super.execute(b,S):this._execute(b,S)}requestAsyncId(b,S,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(b,S,L):(b.flush(this),0)}});var $s=R(4986),mo=R(8505),Ts=R(9468),_o=R(5363);const Qo=new i.GfV("7.6.1"),Zi="__angularfire_symbol__analyticsIsSupportedValue",ac="__angularfire_symbol__analyticsIsSupported",iu="__angularfire_symbol__remoteConfigIsSupportedValue",su="__angularfire_symbol__remoteConfigIsSupported",cc="__angularfire_symbol__messagingIsSupportedValue",Yo="__angularfire_symbol__messagingIsSupported";function vo(I,b,S){if(b){if(1===b.length)return b[0];const z=b.filter(ue=>ue.app===S);if(1===z.length)return z[0]}return S.container.getProvider(I).getImmediate({optional:!0})}globalThis[ac]||(globalThis[ac]=Gs().then(I=>globalThis[Zi]=I).catch(()=>globalThis[Zi]=!1)),globalThis[Yo]||(globalThis[Yo]=zt().then(I=>globalThis[cc]=I).catch(()=>globalThis[cc]=!1)),globalThis[su]||(globalThis[su]=ao().then(I=>globalThis[iu]=I).catch(()=>globalThis[iu]=!1));const op=(I,b)=>{const S=b?[b]:(0,$.C6)(),L=[];return S.forEach(H=>{H.container.getProvider(I).instances.forEach(ue=>{L.includes(ue)||L.push(ue)})}),L};function Tn(){}class ap{constructor(b,S=bl){this.zone=b,this.delegate=S}now(){return this.delegate.now()}schedule(b,S,L){const H=this.zone;return this.delegate.schedule(function(ue){H.runGuarded(()=>{b.apply(this,[ue])})},S,L)}}class Xo{constructor(b){this.zone=b,this.task=null}call(b,S){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tn,{},Tn,Tn)),S.pipe((0,mo.b)({next:L,complete:L,error:L})).subscribe(b).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sh=(()=>{class I{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new ap(Zone.current)),this.insideAngular=S.run(()=>new ap(Zone.current,$s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(S){return new(S||I)(i.LFG(i.R0b))},I.\u0275prov=i.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Yn(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function cp(I){return Yn(),function py(I){return function(S){return(S=S.lift(new Xo(I.ngZone))).pipe((0,Ts.R)(I.outsideAngular),(0,_o.Q)(I.insideAngular))}}(Yn())(I)}},2090:(lt,Ie,R)=>{R.d(Ie,{$s:()=>ns,BH:()=>K,G6:()=>we,L:()=>de,LL:()=>Vt,Pz:()=>pe,Sg:()=>he,UG:()=>ie,US:()=>le,ZB:()=>Q,ZR:()=>Xe,aH:()=>te,b$:()=>fr,eu:()=>qe,hl:()=>Me,jU:()=>He,m9:()=>$t,ne:()=>ln,pd:()=>pt,r3:()=>Wn,ru:()=>jt,tV:()=>U,uI:()=>Ue,vZ:()=>ni,w1:()=>Ls,xO:()=>Aa,xb:()=>to,z$:()=>Ce,zI:()=>Ve,zd:()=>$e});const X=function(V){const F=[];let G=0;for(let ye=0;ye<V.length;ye++){let se=V.charCodeAt(ye);se<128?F[G++]=se:se<2048?(F[G++]=se>>6|192,F[G++]=63&se|128):55296==(64512&se)&&ye+1<V.length&&56320==(64512&V.charCodeAt(ye+1))?(se=65536+((1023&se)<<10)+(1023&V.charCodeAt(++ye)),F[G++]=se>>18|240,F[G++]=se>>12&63|128,F[G++]=se>>6&63|128,F[G++]=63&se|128):(F[G++]=se>>12|224,F[G++]=se>>6&63|128,F[G++]=63&se|128)}return F},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let se=0;se<V.length;se+=3){const nt=V[se],gt=se+1<V.length,Rt=gt?V[se+1]:0,_n=se+2<V.length,dn=_n?V[se+2]:0;let mr=(15&Rt)<<2|dn>>6,yi=63&dn;_n||(yi=64,gt||(mr=64)),ye.push(G[nt>>2],G[(3&nt)<<4|Rt>>4],G[mr],G[yi])}return ye.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(X(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let G=0,ye=0;for(;G<V.length;){const se=V[G++];if(se<128)F[ye++]=String.fromCharCode(se);else if(se>191&&se<224){const nt=V[G++];F[ye++]=String.fromCharCode((31&se)<<6|63&nt)}else if(se>239&&se<365){const _n=((7&se)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;F[ye++]=String.fromCharCode(55296+(_n>>10)),F[ye++]=String.fromCharCode(56320+(1023&_n))}else{const nt=V[G++],gt=V[G++];F[ye++]=String.fromCharCode((15&se)<<12|(63&nt)<<6|63&gt)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let se=0;se<V.length;){const nt=G[V.charAt(se++)],Rt=se<V.length?G[V.charAt(se)]:0;++se;const dn=se<V.length?G[V.charAt(se)]:64;++se;const Gt=se<V.length?G[V.charAt(se)]:64;if(++se,null==nt||null==Rt||null==dn||null==Gt)throw new fe;ye.push(nt<<2|Rt>>4),64!==dn&&(ye.push(Rt<<4&240|dn>>2),64!==Gt&&ye.push(dn<<6&192|Gt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(V){return function(V){const F=X(V);return le.encodeByteArray(F,!0)}(V).replace(/\./g,"")},U=function(V){try{return le.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function Q(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!Pe(G)||(V[G]=Q(V[G],F[G]));return V}function Pe(V){return"__proto__"!==V}const ke=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&U(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},te=()=>{var V;return null===(V=ke())||void 0===V?void 0:V.config},pe=V=>{var F;return null===(F=ke())||void 0===F?void 0:F[`_${V}`]};class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,ye)=>{G?this.reject(G):this.resolve(ye),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,ye))}}}function he(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=F||"demo-project",se=V.iat||0,nt=V.sub||V.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:se,exp:se+3600,auth_time:se,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},V);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(gt)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ie(){var V;const F=null===(V=ke())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function jt(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ls(){const V=Ce();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function we(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((V,F)=>{try{let G=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ye);se.onsuccess=()=>{se.result.close(),G||self.indexedDB.deleteDatabase(ye),V(!0)},se.onupgradeneeded=()=>{G=!1},se.onerror=()=>{var nt;F((null===(nt=se.error)||void 0===nt?void 0:nt.message)||"")}}catch(G){F(G)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(F,G,ye){super(G),this.code=F,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(F,G,ye){this.service=F,this.serviceName=G,this.errors=ye}create(F,...G){const ye=G[0]||{},se=`${this.service}/${F}`,nt=this.errors[F],gt=nt?function tt(V,F){return V.replace(ft,(G,ye)=>{const se=F[ye];return null!=se?String(se):`<${ye}?>`})}(nt,ye):"Error";return new Xe(se,`${this.serviceName}: ${gt} (${se}).`,ye)}}const ft=/\{\$([^}]+)}/g;function Wn(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function to(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function ni(V,F){if(V===F)return!0;const G=Object.keys(V),ye=Object.keys(F);for(const se of G){if(!ye.includes(se))return!1;const nt=V[se],gt=F[se];if(ri(nt)&&ri(gt)){if(!ni(nt,gt))return!1}else if(nt!==gt)return!1}for(const se of ye)if(!G.includes(se))return!1;return!0}function ri(V){return null!==V&&"object"==typeof V}function Aa(V){const F=[];for(const[G,ye]of Object.entries(V))Array.isArray(ye)?ye.forEach(se=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(se))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(ye));return F.length?"&"+F.join("&"):""}function $e(V){const F={};return V.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[se,nt]=ye.split("=");F[decodeURIComponent(se)]=decodeURIComponent(nt)}}),F}function pt(V){const F=V.indexOf("?");if(!F)return"";const G=V.indexOf("#",F);return V.substring(F,G>0?G:void 0)}function ln(V,F){const G=new Cn(V,F);return G.subscribe.bind(G)}class Cn{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(ye=>{this.error(ye)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,ye){let se;if(void 0===F&&void 0===G&&void 0===ye)throw new Error("Missing Observer.");se=function sn(V,F){if("object"!=typeof V||null===V)return!1;for(const G of F)if(G in V&&"function"==typeof V[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:ye},void 0===se.next&&(se.next=pr),void 0===se.error&&(se.error=pr),void 0===se.complete&&(se.complete=pr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),nt}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}const ts=1e3,gr=2,nr=144e5,mn=.5;function ns(V,F=ts,G=gr){const ye=F*Math.pow(G,V),se=Math.round(mn*ye*(Math.random()-.5)*2);return Math.min(nr,ye+se)}function $t(V){return V&&V._delegate?V._delegate:V}},9199:(lt,Ie,R)=>{var i=R(2223);let $=null;function O(){return $}class ne{}const le=new i.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(de)},providedIn:"platform"}),n})();const Re=new i.OlP("Location Initialized");let de=(()=>{class n extends fe{constructor(){super(),this._doc=(0,i.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function U(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Q(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(Je)},providedIn:"root"}),n})();const be=new i.OlP("appBaseHref");let Je=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return U(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Q(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Q(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Q(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(fe),i.LFG(be,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=U(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Q(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Q(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(fe),i.LFG(be,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(ht(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Q(r))}normalize(t){return n.stripTrailingSlash(function _t(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ht(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Q(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Q(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Q,n.joinWithSlash=U,n.stripTrailingSlash=Z,n.\u0275fac=function(t){return new(t||n)(i.LFG(Pe))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function ke(){return new Ge((0,i.LFG)(Pe))}()},providedIn:"root"}),n})();function ht(n){return n.replace(/\/index.html$/,"")}let No=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mm{constructor(){this.$implicit=null,this.ngIf=null}}function qf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}let wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function oo(n){return"server"===n}let os=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new Kr((0,i.LFG)(le),window)}),n})();class Kr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ao(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ii(this.window.history)||Ii(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ii(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sl extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bs extends sl{static makeCurrent(){!function X(n){$||($=n)}(new Bs)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cm(){return cr=cr||document.querySelector("base"),cr?cr.getAttribute("href"):null}();return null==t?null:function Hd(n){Zo=Zo||document.createElement("a"),Zo.setAttribute("href",n);const e=Zo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ro(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Zo,cr=null,ol=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const qd=new i.OlP("EventManagerPlugins");let al=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new i.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(qd),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class qc{constructor(e){this._doc=e}}const cl="ng-app-id";let Ho=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oo(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${cl}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(cl),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(cl,this.appId),d}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,d=u.get(r)?.elements;d?d.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(le),i.LFG(i.AFp),i.LFG(i.Ojb,8),i.LFG(i.Lbi))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hs=/%COMP%/g,$d=new i.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ga(n,e){return e.map(t=>t.replace(Hs,n))}let ll=(()=>{class n{constructor(t,r,o,u,d,m,w,D=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.doc=d,this.platformId=m,this.ngZone=w,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=oo(m),this.defaultRenderer=new jo(t,d,w,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===i.ifc.ShadowDom&&(r={...r,encapsulation:i.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof An?o.applyToHost(t):o instanceof dl&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.doc,m=this.ngZone,w=this.eventManager,D=this.sharedStylesHost,M=this.removeStylesOnCompDestory,N=this.platformIsServer;switch(r.encapsulation){case i.ifc.Emulated:u=new An(w,D,r,this.appId,M,d,m,N);break;case i.ifc.ShadowDom:return new jc(w,D,t,r,d,m,this.nonce,N);default:u=new dl(w,D,r,M,d,m,N)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(al),i.LFG(Ho),i.LFG(i.AFp),i.LFG($d),i.LFG(le),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(i.Ojb))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class jo{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(mt[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zt(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zt(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new i.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=mt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=mt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,r,o&i.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class jc extends jo{constructor(e,t,r,o,u,d,m,w){super(e,u,d,w),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=Ga(o.id,o.styles);for(const M of D){const N=document.createElement("style");m&&N.setAttribute("nonce",m),N.textContent=M,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dl extends jo{constructor(e,t,r,o,u,d,m,w){super(e,u,d,m),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=w?Ga(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class An extends dl{constructor(e,t,r,o,u,d,m,w){const D=o+"-"+r.id;super(e,t,r,u,d,m,w,D),this.contentAttr=function qo(n){return"_ngcontent-%COMP%".replace(Hs,n)}(D),this.hostAttr=function ja(n){return"_nghost-%COMP%".replace(Hs,n)}(D)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Xf=(()=>{class n extends qc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(le))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const bi=["alt","control","meta","shift"],ws={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$a={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Go=(()=>{class n extends qc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),bi.forEach(D=>{const M=r.indexOf(D);M>-1&&(r.splice(M,1),d+=D+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let o=ws[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),bi.forEach(d=>{d!==o&&(0,$a[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(le))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Wd=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function Is(){Bs.makeCurrent()},multi:!0},{provide:le,useFactory:function qs(){return(0,i.RDi)(document),document},deps:[]}]),Rr=new i.OlP(""),za=[{provide:i.rWj,useClass:class Zs{addToWindow(e){i.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new i.vHH(5103,!1);return u},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const o=i.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],$c=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function Gc(){return new i.qLn},deps:[]},{provide:qd,useClass:Xf,multi:!0,deps:[le,i.R0b,i.Lbi]},{provide:qd,useClass:Go,multi:!0,deps:[le]},ll,Ho,al,{provide:i.FYo,useExisting:ll},{provide:class ar{},useClass:ol,deps:[]},[]];let fo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:i.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Rr,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...$c,...za],imports:[wi,i.hGG]}),n})(),Ka=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(le))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Wc(){return new Ka((0,i.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=R(8996),yr=R(9751);const{isArray:ip}=Array,{getPrototypeOf:Qc,prototype:Xa,keys:yl}=Object;function Wo(n){if(1===n.length){const e=n[0];if(ip(e))return{args:e,keys:null};if(function El(n){return n&&"object"==typeof n&&Qc(n)===Xa}(e)){const t=yl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ec=R(8421),Ko=R(7669),qn=R(5403),Mt=R(4004);const{isArray:Di}=Array;function nc(n){return(0,Mt.U)(e=>function tc(n,e){return Di(e)?n(...e):n(e)}(n,e))}function js(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let rc=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),Er=(()=>{class n extends rc{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const Ci=new i.OlP("NgValueAccessor"),Jo={provide:Ci,useExisting:(0,i.Gpc)(()=>Gs),multi:!0},Yc=new i.OlP("CompositionEventMode");let Gs=(()=>{class n extends rc{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function th(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Yc,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[i._Bn([Jo]),i.qOj]}),n})();const Or=new i.OlP("NgValidators"),Bi=new i.OlP("NgAsyncValidators");function us(n){return function Ai(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function oc(n){return null}function nu(n){return null!=n}function ru(n){return(0,i.QGY)(n)?(0,fn.D)(n):n}function bl(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Dl(n,e){return e.map(t=>t(n))}function mo(n){return n.map(e=>function $s(n){return!n.validate}(e)?e:t=>e.validate(t))}function _o(n){return null!=n?function Ts(n){if(!n)return null;const e=n.filter(nu);return 0==e.length?null:function(t){return bl(Dl(t,e))}}(mo(n)):null}function Zi(n){return null!=n?function Qo(n){if(!n)return null;const e=n.filter(nu);return 0==e.length?null:function(t){return function wl(...n){const e=(0,Ko.jO)(n),{args:t,keys:r}=Wo(n),o=new yr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,D=d;for(let M=0;M<d;M++){let N=!1;(0,ec.Xf)(t[M]).subscribe((0,qn.x)(u,q=>{N||(N=!0,D--),m[M]=q},()=>w--,void 0,()=>{(!w||!N)&&(D||u.next(r?js(r,m):m),u.complete())}))}});return e?o.pipe(nc(e)):o}(Dl(t,e).map(ru)).pipe((0,Mt.U)(bl))}}(mo(n)):null}function ac(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cc(n){return n?Array.isArray(n)?n:[n]:[]}function Yo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Cl(n,e){const t=cc(e);return cc(n).forEach(o=>{Yo(t,o)||t.push(o)}),t}function sp(n,e){return cc(e).filter(t=>!Yo(n,t))}class ih{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_o(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ur extends ih{get formDirective(){return null}get path(){return null}}class vo extends ih{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class op{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xo=(()=>{class n extends op{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(vo,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})();const Be="VALID",it="INVALID",bt="PENDING",Dt="DISABLED";function li(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class lc{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===it}get pending(){return this.status==bt}get disabled(){return this.status===Dt}get enabled(){return this.status!==Dt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Cl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Cl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sp(e,this._rawAsyncValidators))}hasValidator(e){return Yo(this._rawValidators,e)}hasAsyncValidator(e){return Yo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bt,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dt,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Be,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===bt)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dt:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bt,this._hasOwnPendingAsyncValidator=!0;const t=ru(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?Dt:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bt)?bt:this._anyControlsHaveStatus(it)?it:Be}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){li(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ir(n){return Array.isArray(n)?_o(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Al(n){return Array.isArray(n)?Zi(n):n||null}(this._rawAsyncValidators)}}const Gi=new i.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ml}),Ml="always";function cu(n,e,t=Ml){(function dp(n,e){const t=function iu(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ac(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function su(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ac(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();lp(e._rawValidators,o),lp(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ch(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ta(n,e)})}(n,e),function Sm(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _y(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ta(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function my(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ta(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _p=class extends lc{constructor(e=null,t,r){super(function wr(n){return(li(n)?n.validators:n)||null}(t),function qi(n,e){return(li(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),li(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Rm={provide:vo,useExisting:(0,i.Gpc)(()=>Ip)},lh=(()=>Promise.resolve())();let Ip=(()=>{class n extends vo{constructor(t,r,o,u,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new _p,this._registered=!1,this.name="",this.update=new i.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Nm(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Gs?t=u:function pp(n){return Object.getPrototypeOf(n.constructor)===Er}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function km(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,i.D6c)(r);lh.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function oh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ur,9),i.Y36(Or,10),i.Y36(Bi,10),i.Y36(Ci,10),i.Y36(i.sBO,8),i.Y36(Gi,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([Rm]),i.qOj,i.TTD]}),n})(),di=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const mh={provide:Ci,useExisting:(0,i.Gpc)(()=>Nl),multi:!0};function Pm(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Nl=(()=>{class n extends Er{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Pm(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function ls(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([mh]),i.qOj]}),n})(),Fm=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Pm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Nl,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const xp={provide:Ci,useExisting:(0,i.Gpc)(()=>sa),multi:!0};function _h(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sa=(()=>{class n extends Er{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const D=this._getOptionValue(d[m].value);o.push(D)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const D=this._getOptionValue(w.value);o.push(D)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function kp(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([xp]),i.qOj]}),n})(),Rl=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_h(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_h(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(sa,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),bs=(()=>{class n{constructor(){this._validator=oc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):oc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const Ty={provide:Or,useExisting:(0,i.Gpc)(()=>du),multi:!0};let du=(()=>{class n extends bs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.D6c,this.createValidator=t=>us}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&i.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[i._Bn([Ty]),i.qOj]}),n})(),rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[di]}),n})(),Ih=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gi,useValue:t.callSetDisabledState??Ml}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[rt]}),n})();var Si=R(2011),bh=R(4986),wt=R(9646),Tr=R(4976),hu=R(8189);function by(...n){return function sD(){return(0,hu.J)(1)}()((0,fn.D)(n,(0,Ko.yG)(n)))}var Cs=R(4482);function Fp(...n){const e=(0,Ko.yG)(n);return(0,Cs.e)((t,r)=>{(e?by(n,t,e):by(n,t)).subscribe(r)})}function Bm(){return(0,Cs.e)((n,e)=>{let t,r=!1;n.subscribe((0,qn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function Dh(n,e){return(0,Cs.e)(function Zm(n,e,t,r,o){return(u,d)=>{let m=t,w=e,D=0;u.subscribe((0,qn.x)(d,M=>{const N=D++;w=m?n(w,M,N):(m=!0,M),r&&d.next(w)},o&&(()=>{m&&d.next(w),d.complete()})))}}(n,e,arguments.length>=2,!0))}var Ch=R(1884);function Eo(n,e){return(0,Cs.e)((t,r)=>{let o=0;t.subscribe((0,qn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}R(2644);var Ye,TM=R(3942),ge=R(5861),hc=R(6881),Hm=R(4859),Ws=R(1877),rn=R(2090),Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ks={},qm=qm||{},Ut=Dy||self;function jm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Up(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cy="closure_uid_"+(1e9*Math.random()>>>0),aD=0;function fu(n,e,t){return n.call.apply(n.bind,arguments)}function Vp(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function xi(n,e,t){return(xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fu:Vp).apply(null,arguments)}function Ay(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Ll(){this.s=this.s,this.o=this.o}Ll.prototype.s=!1,Ll.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function oD(n){Object.prototype.hasOwnProperty.call(n,Cy)&&n[Cy]||(n[Cy]=++aD)}(this)},Ll.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(jm(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ki.prototype.h=function(){this.defaultPrevented=!0};var uD=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",()=>{},e),Ut.removeEventListener("test",()=>{},e)}catch{}return n}();function Bp(n){return/^[\s\xa0]*$/.test(n)}function Ah(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function Qr(n){return-1!=Ah().indexOf(n)}function Pl(n){return Pl[" "](n),n}Pl[" "]=function(){};var sI,n,rI=Qr("Opera"),Fl=Qr("Trident")||Qr("MSIE"),lD=Qr("Edge"),iI=lD||Fl,dD=Qr("Gecko")&&!(-1!=Ah().toLowerCase().indexOf("webkit")&&!Qr("Edge"))&&!(Qr("Trident")||Qr("MSIE"))&&!Qr("Edge"),My=-1!=Ah().toLowerCase().indexOf("webkit")&&!Qr("Edge");function $m(){var n=Ut.document;return n?n.documentMode:void 0}e:{var oI="",zm=(n=Ah(),dD?/rv:([^\);]+)(\)|;)/.exec(n):lD?/Edge\/([\d\.]+)/.exec(n):Fl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):My?/WebKit\/(\S+)/.exec(n):rI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zm&&(oI=zm?zm[1]:""),Fl){var Sy=$m();if(null!=Sy&&Sy>parseFloat(oI)){sI=String(Sy);break e}}sI=oI}var hD=Ut.document&&Fl&&($m()||parseInt(sI,10))||void 0;function Mh(n,e){if(ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dD){e:{try{Pl(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wm[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mh.$.h.call(this)}}hi(Mh,ki);var Wm={2:"touch",3:"pen",4:"mouse"};Mh.prototype.h=function(){Mh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zp="closure_listenable_"+(1e6*Math.random()|0),ky=0;function fD(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++ky,this.fa=this.ia=!1}function sr(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ny(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ry(n){const e={};for(const t in n)e[t]=n[t];return e}const Oy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Oy.length;u++)t=Oy[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Km(n){this.src=n,this.g={},this.h=0}function Ly(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=cD(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(sr(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Py(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}Km.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Py(n,e,r,o);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new fD(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var Jm="closure_lm_"+(1e6*Math.random()|0),uI={};function gD(n,e,t,r,o){if(r&&r.once)return xh(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)gD(n,e[u],t,r,o);return null}return t=Xm(t),n&&n[Zp]?n.O(e,t,Up(r)?!!r.capture:!!r,o):Sh(n,e,t,!1,r,o)}function Sh(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Up(o)?!!o.capture:!!o,m=Vy(n);if(m||(n[Jm]=m=new Km(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function pn(){const e=lI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uD||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Uy(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xh(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xh(n,e[u],t,r,o);return null}return t=Xm(t),n&&n[Zp]?n.P(e,t,Up(r)?!!r.capture:!!r,o):Sh(n,e,t,!0,r,o)}function Fy(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Fy(n,e[u],t,r,o);else r=Up(r)?!!r.capture:!!r,t=Xm(t),n&&n[Zp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Py(u=n.g[e],t,r,o))&&(sr(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Vy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Py(e,t,r,o)),(t=-1<n?e[n]:null)&&Qm(t))}function Qm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zp])Ly(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Uy(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Vy(e))?(Ly(t,n),0==t.h&&(t.src=null,e[Jm]=null)):sr(n)}}}function Uy(n){return n in uI?uI[n]:uI[n]="on"+n}function lI(n,e){if(n.fa)n=!0;else{e=new Mh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Qm(n),n=t.call(r,e)}return n}function Vy(n){return(n=n[Jm])instanceof Km?n:null}var Ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(n){return"function"==typeof n?n:(n[Ym]||(n[Ym]=function(e){return n.handleEvent(e)}),n[Ym])}function Pr(){Ll.call(this),this.i=new Km(this),this.S=this,this.J=null}function Ni(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ki(e,n);else if(e instanceof ki)e.target=e.target||n;else{var o=e;cI(e=new ki(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=kh(d,r,!0,e)&&o}if(o=kh(d=e.g=n,r,!0,e)&&o,o=kh(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=kh(d=e.g=t[u],r,!1,e)&&o}function kh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.fa&&d.capture==t){var m=d.listener,w=d.la||d.src;d.ia&&Ly(n.i,d),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}hi(Pr,Ll),Pr.prototype[Zp]=!0,Pr.prototype.removeEventListener=function(n,e,t,r){Fy(this,n,e,t,r)},Pr.prototype.N=function(){if(Pr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sr(t[r]);delete n.g[e],n.h--}}this.J=null},Pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var By=Ut.JSON.stringify;function dI(){var n=Nh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pu=new class Zy{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mD,n=>n.reset());class mD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hy(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function e_(n){Ut.setTimeout(()=>{throw n},0)}let Hp,Ul=!1,Nh=new class hI{constructor(){this.h=this.g=null}add(e,t){const r=pu.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},gu=()=>{const n=Ut.Promise.resolve(void 0);Hp=()=>{n.then(qy)}};var qy=()=>{for(var n;n=dI();){try{n.h.call(n.g)}catch(t){e_(t)}var e=pu;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ul=!1};function Rh(n,e){Pr.call(this),this.h=n||1,this.g=e||Ut,this.j=xi(this.qb,this),this.l=Date.now()}function jy(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gy(n,e,t){if("function"==typeof n)t&&(n=xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function $y(n){n.g=Gy(()=>{n.g=null,n.i&&(n.i=!1,$y(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(Rh,Pr),(Ye=Rh.prototype).ga=!1,Ye.T=null,Ye.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ni(this,"tick"),this.ga&&(jy(this),this.start()))}},Ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.N=function(){Rh.$.N.call(this),jy(this),delete this.g};class Oh extends Ll{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$y(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qp(n){Ll.call(this),this.h=n,this.g={}}hi(qp,Ll);var fI=[];function pI(n,e,t,r){Array.isArray(t)||(t&&(fI[0]=t.toString()),t=fI);for(var o=0;o<t.length;o++){var u=gD(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function t_(n){Ny(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qm(e)},n),n.g={}}function jp(){this.g=!0}function mu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function CM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return By(t)}catch{return e}}(n,t)+(r?" "+r:"")})}qp.prototype.N=function(){qp.$.N.call(this),t_(this)},qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jp.prototype.Ea=function(){this.g=!1},jp.prototype.info=function(){};var Vl={},mI=null;function zy(){return mI=mI||new Pr}function vD(n){ki.call(this,Vl.Ta,n)}function _u(n){const e=zy();Ni(e,new vD(e))}function _I(n,e){ki.call(this,Vl.STAT_EVENT,n),this.stat=e}function fi(n){const e=zy();Ni(e,new _I(e,n))}function n_(n,e){ki.call(this,Vl.Ua,n),this.size=e}function fc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}Vl.Ta="serverreachability",hi(vD,ki),Vl.STAT_EVENT="statevent",hi(_I,ki),Vl.Ua="timingevent",hi(n_,ki);var Lh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},r_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bl(){}function Ph(){}Bl.prototype.h=null;var vI,Fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $p(){ki.call(this,"d")}function Uh(){ki.call(this,"c")}function Vh(){}function Zl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new qp(this),this.P=yD,this.V=new Rh(n=iI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wy}function Wy(){this.i=null,this.g="",this.h=!1}hi($p,ki),hi(Uh,ki),hi(Vh,Bl),Vh.prototype.g=function(){return new XMLHttpRequest},Vh.prototype.i=function(){return{}},vI=new Vh;var yD=45e3,Ky={},zp={};function i_(n,e,t){n.L=1,n.v=Wp(Js(e)),n.s=t,n.S=!0,yI(n,null)}function yI(n,e){n.G=Date.now(),Hl(n),n.A=Js(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xy(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Wy,n.g=UI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Oh(xi(n.Pa,n,n.g),n.O)),pI(n.U,n.g,"readystatechange",n.nb),e=n.I?Ry(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),_u(),function _D(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var D=m[w].split("=");if(1<D.length){var M=D[0];D=D[1];var N=M.split("_");d=2<=N.length&&"type"==N[1]?d+(M+"=")+D+"&":d+(M+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function EI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ED(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=wD(n,t),o==zp){4==e&&(n.o=4,fi(14),r=!1),mu(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ky){n.o=4,fi(15),mu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}mu(n.j,n.m,o,null),Zh(n,o)}EI(n)&&o!=zp&&o!=Ky&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ig(e),e.M=!0,fi(11))):(mu(n.j,n.m,t,"[Invalid Chunked Response]"),pc(n),Bh(n))}function wD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zp:(t=Number(e.substring(t,r)),isNaN(t)?Ky:(r+=1)+t>e.length?zp:(e=e.slice(r,r+t),n.C=r+t,e))}function Hl(n){n.Y=Date.now()+n.P,s_(n,n.P)}function s_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fc(xi(n.lb,n),e)}function o_(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function Bh(n){0==n.l.H||n.J||LI(n.l,n)}function pc(n){o_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jy(n.V),t_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Zh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||u_(t.i,n)))if(!n.K&&u_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Wh(t),ng(t)}rg(t),fi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=fc(xi(t.ib,t),6e3));if(1>=AI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else zl(t,11)}else if((n.K||t.g==n)&&Wh(t),!Bp(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const M=D[3];null!=M&&(t.ra=M,t.l.info("VER="+t.ra));const N=D[4];null!=N&&(t.Ga=N,t.l.info("SVER="+t.Ga));const q=D[5];null!=q&&"number"==typeof q&&0<q&&(t.L=r=1.5*q,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const me=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(me){var u=r.i;u.g||-1==me.indexOf("spdy")&&-1==me.indexOf("quic")&&-1==me.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(vu(u,u.h),u.h=null))}if(r.F){const Le=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.Da=Le,jn(r.I,r.F,Le))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=FI(r,r.J?r.pa:null,r.Y),d.K){aa(r.i,d);var m=d,w=r.L;w&&m.setTimeout(w),m.B&&(o_(m),Hl(m)),r.g=d}else f_(r);0<t.j.length&&$l(t)}else"stop"!=D[0]&&"close"!=D[0]||zl(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?zl(t,7):yu(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}_u()}catch{}}function II(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ID(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Ye=Zl.prototype).setTimeout=function(n){this.P=n},Ye.nb=function(n){n=n.target;const e=this.M;e&&3==wo(n)?e.l():this.Pa(n)},Ye.Pa=function(n){try{if(n==this.g)e:{const M=wo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||iI||this.g&&(this.h.h||this.g.ja()||RI(this.g)))){this.J||4!=M||7==e||_u(),o_(this);var t=this.g.da();this.ca=t;t:if(EI(this)){var r=RI(this.g);n="";var o=r.length,u=4==wo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pc(this),Bh(this);var d="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function gI(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.W,M,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,fi(12),pc(this),Bh(this);break e}mu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zh(this,t)}this.S?(ED(this,M,d),iI&&this.i&&3==M&&(pI(this.U,this.V,"tick",this.mb),this.V.start())):(mu(this.j,this.m,d,null),Zh(this,d)),4==M&&pc(this),this.i&&!this.J&&(4==M?LI(this.l,this):(this.i=!1,Hl(this)))}else(function SD(n){const e={};n=(n.g&&2<=wo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bp(n[r]))continue;var t=Hy(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function pD(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),pc(this),Bh(this)}}}catch{}},Ye.mb=function(){if(this.g){var n=wo(this.g),e=this.g.ja();this.C<e.length&&(o_(this),ED(this,n,e),this.i&&4!=n&&Hl(this))}},Ye.cancel=function(){this.J=!0,pc(this)},Ye.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function DM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_u(),fi(17)),pc(this),this.o=2,Bh(this)):s_(this,this.Y-n)};var Jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ql(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ql){this.h=n.h,a_(this,n.j),this.s=n.s,this.g=n.g,gc(this,n.m),this.l=n.l;var e=n.i,t=new c_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Hh(this,t),this.o=n.o}else n&&(e=String(n).match(Jy))?(this.h=!1,a_(this,e[1]||"",!0),this.s=Kp(e[2]||""),this.g=Kp(e[3]||"",!0),gc(this,e[4]),this.l=Kp(e[5]||"",!0),Hh(this,e[6]||"",!0),this.o=Kp(e[7]||"")):(this.h=!1,this.i=new c_(null,this.h))}function Js(n){return new ql(n)}function a_(n,e,t){n.j=t?Kp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Hh(n,e,t){e instanceof c_?(n.i=e,function bD(n,e){e&&!n.j&&(oa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(jl(this,r),Xy(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jp(e,Qp)),n.i=new c_(e,n.h))}function jn(n,e,t){n.i.set(e,t)}function Wp(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,TD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function TD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ql.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jp(e,Qy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jp(e,Qy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jp(t,"/"==t.charAt(0)?Yy:TI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jp(t,bI)),n.join("")};var Qy=/[#\/\?@]/g,TI=/[#\?:]/g,Yy=/[#\?]/g,Qp=/[#\?@]/g,bI=/#/g;function c_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function oa(n){n.g||(n.g=new Map,n.h=0,n.i&&function AM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jl(n,e){oa(n),e=Gl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Yp(n,e){return oa(n),e=Gl(n,e),n.g.has(e)}function Xy(n,e,t){jl(n,e),0<t.length&&(n.i=null,n.g.set(Gl(n,e),Gm(t)),n.h+=t.length)}function Gl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DI(n){this.l=n||CD,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=c_.prototype).add=function(n,e){oa(this),this.i=null,n=Gl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){oa(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Ye.ta=function(){oa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Ye.Z=function(n){oa(this);let e=[];if("string"==typeof n)Yp(this,n)&&(e=e.concat(this.g.get(Gl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ye.set=function(n,e){return oa(this),this.i=null,Yp(this,n=Gl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var CD=10;function CI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AI(n){return n.h?1:n.g?n.g.size:0}function u_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vu(n,e){n.g?n.g.add(e):n.h=e}function aa(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gm(n.i)}DI.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var MM=class{stringify(n){return Ut.JSON.stringify(n,void 0)}parse(n){return Ut.JSON.parse(n,void 0)}};function AD(){this.g=new MM}function SM(n,e,t){const r=t||"";try{II(n,function(o,u){let d=o;Up(o)&&(d=By(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Xp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function qh(n){this.l=n.fc||null,this.j=n.ob||!1}function t0(n,e){Pr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=l_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(qh,Bl),qh.prototype.g=function(){return new t0(this.l,this.j)},qh.prototype.i=function(n){return function(){return n}}({}),hi(t0,Pr);var l_=0;function eg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gh(n)}function Gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=t0.prototype).open=function(n,e){if(this.readyState!=l_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gh(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jh(this)),this.readyState=l_},Ye.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ye.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jh(this):Gh(this),3==this.readyState&&eg(this)}},Ye.Za=function(n){this.g&&(this.response=this.responseText=n,jh(this))},Ye.Ya=function(n){this.g&&(this.response=n,jh(this))},Ye.ka=function(){this.g&&jh(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(t0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MI=Ut.JSON.parse;function at(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n0,this.L=this.M=!1}hi(at,Pr);var n0="",SI=/^https?$/i,kM=["POST","PUT"];function r0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xI(n),tg(n)}function xI(n){n.F||(n.F=!0,Ni(n,"complete"),Ni(n,"error"))}function kI(n){if(n.h&&typeof qm<"u"&&(!n.C[1]||4!=wo(n)||2!=n.da()))if(n.v&&4==wo(n))Gy(n.La,0,n);else if(Ni(n,"readystatechange"),4==wo(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var o=String(n.I).match(Jy)[1]||null;!o&&Ut.self&&Ut.self.location&&(o=Ut.self.location.protocol.slice(0,-1)),r=!SI.test(o?o.toLowerCase():"")}t=r}if(t)Ni(n,"complete"),Ni(n,"success");else{n.m=6;try{var u=2<wo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",xI(n)}}finally{tg(n)}}}function tg(n,e){if(n.g){NI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ni(n,"ready");try{t.onreadystatechange=r}catch{}}}function NI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function wo(n){return n.g?n.g.readyState:0}function RI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xD(n){let e="";return Ny(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function d_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=xD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function $h(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mc(n){this.Ga=0,this.j=[],this.l=new jp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$h("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$h("baseRetryDelayMs",5e3,n),this.hb=$h("retryDelaySeedMs",1e4,n),this.eb=$h("forwardChannelMaxRetries",2,n),this.xa=$h("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new DI(n&&n.concurrentRequestLimit),this.Ja=new AD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yu(n){if(OI(n),3==n.H){var e=n.W++,t=Js(n.I);if(jn(t,"SID",n.K),jn(t,"RID",e),jn(t,"TYPE","terminate"),_c(n,t),(e=new Zl(n,n.l,e)).L=2,e.v=Wp(Js(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon)try{t=Ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=UI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hl(e)}a0(n)}function ng(n){n.g&&(ig(n),n.g.cancel(),n.g=null)}function OI(n){ng(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),Wh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function $l(n){if(!CI(n.i)&&!n.m){n.m=!0;var e=n.Na;Hp||gu(),Ul||(Hp(),Ul=!0),Nh.add(e,n),n.C=0}}function h_(n,e){var t;t=e?e.m:n.W++;const r=Js(n.I);jn(r,"SID",n.K),jn(r,"RID",t),jn(r,"AID",n.V),_c(n,r),n.o&&n.s&&d_(r,n.o,n.s),t=new Zl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=s0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),vu(n.i,t),i_(t,r,e)}function _c(n,e){n.na&&Ny(n.na,function(t,r){jn(e,r,t)}),n.h&&II({},function(t,r){jn(e,r,t)})}function s0(n,e,t){t=Math.min(n.j.length,t);var r=n.h?xi(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].g,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let D=o[w].g;const M=o[w].map;if(D-=u,0>D)u=Math.max(0,o[w].g-100),m=!1;else try{SM(M,d,"req"+D+"_")}catch{r&&r(M)}}if(m){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function f_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Hp||gu(),Ul||(Hp(),Ul=!0),Nh.add(e,n),n.A=0}}function rg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=fc(xi(n.Ma,n),PI(n,n.A)),n.A++,0))}function ig(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function o0(n){n.g=new Zl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Js(n.wa);jn(e,"RID","rpc"),jn(e,"SID",n.K),jn(e,"AID",n.V),jn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&jn(e,"TO",n.qa),jn(e,"TYPE","xmlhttp"),_c(n,e),n.o&&n.s&&d_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Wp(Js(e)),t.s=null,t.S=!0,yI(t,n)}function Wh(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function LI(n,e){var t=null;if(n.g==e){Wh(n),ig(n),n.g=null;var r=2}else{if(!u_(n.i,e))return;t=e.F,aa(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Ni(r=zy(),new n_(r,t)),$l(n)}else f_(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function zh(n,e){return!(AI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=fc(xi(n.Na,n,e),PI(n,n.C)),n.C++,0)))}(n,e)||2==r&&rg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:zl(n,5);break;case 4:zl(n,10);break;case 3:zl(n,6);break;default:zl(n,2)}}function PI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function zl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=xi(n.pb,n);t||(t=new ql("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||a_(t,"https"),Wp(t)),function xM(n,e){const t=new jp;if(Ut.Image){const r=new Image;r.onload=Ay(Xp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ay(Xp,t,r,"TestLoadImage: error",!1,e),r.onabort=Ay(Xp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ay(Xp,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.H=0,n.h&&n.h.za(e),a0(n),OI(n)}function a0(n){if(n.H=0,n.ma=[],n.h){const e=e0(n.i);(0!=e.length||0!=n.j.length)&&(tI(n.ma,e),tI(n.ma,n.j),n.i.i.length=0,Gm(n.j),n.j.length=0),n.h.ya()}}function FI(n,e,t){var r=t instanceof ql?Js(t):new ql(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gc(r,r.m);else{var o=Ut.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new ql(null);r&&a_(u,r),e&&(u.g=e),o&&gc(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&jn(r,t,e),jn(r,"VER",n.ra),_c(n,r),r}function UI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Ha&&!n.va?new qh({ob:!0}):n.va)).Oa(n.J),e}function VI(){}function p_(){if(Fl&&!(10<=Number(hD)))throw Error("Environmental error: no available transport.")}function ds(n,e){Pr.call(this),this.g=new mc(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kh(this)}function c0(n){$p.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BI(){Uh.call(this),this.status=1}function Kh(n){this.g=n}function Io(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function u0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],d=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;d=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(d<<7&4294967295|d>>>25))+((d=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((u=(e=t+((d=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((o=u+((d=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Dn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(Ye=at.prototype).Oa=function(n){this.M=n},Ye.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vI.g(),this.C=function Gp(n){return n.h||(n.h=n.i())}(this.u?this.u:vI),this.g.onreadystatechange=xi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void r0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Ut.FormData&&n instanceof Ut.FormData,!(0<=cD(kM,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NI(this),0<this.B&&((this.L=function MD(n){return Fl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xi(this.ua,this)):this.A=Gy(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){r0(this,u)}},Ye.ua=function(){typeof qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ni(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ni(this,"complete"),Ni(this,"abort"),tg(this))},Ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tg(this,!0)),at.$.N.call(this)},Ye.La=function(){this.s||(this.G||this.v||this.l?kI(this):this.kb())},Ye.kb=function(){kI(this)},Ye.isActive=function(){return!!this.g},Ye.da=function(){try{return 2<wo(this)?this.g.status:-1}catch{return-1}},Ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ye.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MI(e)}},Ye.Ia=function(){return this.m},Ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=mc.prototype).ra=8,Ye.H=1,Ye.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Zl(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Ry(u),cI(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=s0(this,o,e),jn(t=Js(this.I),"RID",n),jn(t,"CVER",22),this.F&&jn(t,"X-HTTP-Session-Id",this.F),_c(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(xD(u)))+"&"+e:this.o&&d_(t,this.o,u)),vu(this.i,o),this.bb&&jn(t,"TYPE","init"),this.P?(jn(t,"$req",e),jn(t,"SID","null"),o.aa=!0,i_(o,t,null)):i_(o,t,e),this.H=2}}else 3==this.H&&(n?h_(this,n):0==this.j.length||CI(this.i)||h_(this))},Ye.Ma=function(){if(this.u=null,o0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=fc(xi(this.jb,this),n)}},Ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fi(10),ng(this),o0(this))},Ye.ib=function(){null!=this.v&&(this.v=null,ng(this),rg(this),fi(19))},Ye.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fi(2)):(this.l.info("Failed to ping google.com"),fi(1))},Ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ye=VI.prototype).Ba=function(){},Ye.Aa=function(){},Ye.za=function(){},Ye.ya=function(){},Ye.isActive=function(){return!0},Ye.Va=function(){},p_.prototype.g=function(n,e){return new ds(n,e)},hi(ds,Pr),ds.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=FI(n,null,n.Y),$l(n)},ds.prototype.close=function(){yu(this.g)},ds.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=By(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&$l(e)},ds.prototype.N=function(){this.g.h=null,delete this.j,yu(this.g),delete this.g,ds.$.N.call(this)},hi(c0,$p),hi(BI,Uh),hi(Kh,VI),Kh.prototype.Ba=function(){Ni(this.g,"a")},Kh.prototype.Aa=function(n){Ni(this.g,new c0(n))},Kh.prototype.za=function(n){Ni(this.g,new BI)},Kh.prototype.ya=function(){Ni(this.g,"b")},hi(Io,function As(){this.blockSize=-1}),Io.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Io.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)u0(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){u0(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){u0(this,r),o=0;break}}this.h=o,this.i+=e},Io.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var l0={};function g_(n){return-128<=n&&128>n?function nI(n,e){var t=l0;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|n],0>n?-1:0)}function ca(n){if(isNaN(n)||!isFinite(n))return Wl;if(0>n)return pi(ca(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=d0;return new Dn(e,0)}var d0=4294967296,Wl=g_(0),h0=g_(1),HI=g_(16777216);function To(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Qs(n){return-1==n.h}function pi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Dn(t,~n.h).add(h0)}function m_(n,e){return n.add(pi(e))}function __(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function sg(n,e){this.g=n,this.h=e}function Ms(n,e){if(To(e))throw Error("division by zero");if(To(n))return new sg(Wl,Wl);if(Qs(n))return e=Ms(pi(n),e),new sg(pi(e.g),pi(e.h));if(Qs(e))return e=Ms(n,pi(e)),new sg(pi(e.g),e.h);if(30<n.g.length){if(Qs(n)||Qs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=h0,r=e;0>=r.X(n);)t=v_(t),r=v_(r);var o=Jh(t,1),u=Jh(r,1);for(r=Jh(r,2),t=Jh(t,2);!To(r);){var d=u.add(r);0>=d.X(n)&&(o=o.add(t),u=d),r=Jh(r,1),t=Jh(t,1)}return e=m_(n,o.R(e)),new sg(o,e)}for(o=Wl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(u=ca(t)).R(e);Qs(d)||0<d.X(n);)d=(u=ca(t-=r)).R(e);To(u)&&(u=h0),o=o.add(u),n=m_(n,d)}return new sg(o,n)}function v_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Dn(t,n.h)}function Jh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Dn(o,n.h)}(Ye=Dn.prototype).ea=function(){if(Qs(this))return-pi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:d0+r)*e,e*=d0}return n},Ye.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(To(this))return"0";if(Qs(this))return"-"+pi(this).toString(n);for(var e=ca(Math.pow(n,6)),t=this,r="";;){var o=Ms(t,e).g,u=((0<(t=m_(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(To(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Ye.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ye.X=function(n){return Qs(n=m_(this,n))?-1:To(n)?0:1},Ye.abs=function(){return Qs(this)?pi(this):this},Ye.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),d=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=d>>>16,t[o]=(d&=65535)<<16|(u&=65535)}return new Dn(t,-2147483648&t[t.length-1]?-1:0)},Ye.R=function(n){if(To(this)||To(n))return Wl;if(Qs(this))return Qs(n)?pi(this).R(pi(n)):pi(pi(this).R(n));if(Qs(n))return pi(this.R(pi(n)));if(0>this.X(HI)&&0>n.X(HI))return ca(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,d=65535&this.D(r),m=n.D(o)>>>16,w=65535&n.D(o);t[2*r+2*o]+=d*w,__(t,2*r+2*o),t[2*r+2*o+1]+=u*w,__(t,2*r+2*o+1),t[2*r+2*o+1]+=d*m,__(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,__(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Dn(t,0)},Ye.gb=function(n){return Ms(this,n).h},Ye.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Dn(t,this.h&n.h)},Ye.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Dn(t,this.h|n.h)},Ye.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Dn(t,this.h^n.h)},p_.prototype.createWebChannel=p_.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Lh.NO_ERROR=0,Lh.TIMEOUT=8,Lh.HTTP_ERROR=6,r_.COMPLETE="complete",Ph.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",Pr.prototype.listen=Pr.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Io.prototype.digest=Io.prototype.l,Io.prototype.reset=Io.prototype.reset,Io.prototype.update=Io.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=ca,Dn.fromString=function ZI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pi(ZI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ca(Math.pow(e,8)),r=Wl,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),d=parseInt(n.substring(o,o+u),e);8>u?(u=ca(Math.pow(e,u)),r=r.R(u).add(ca(d))):r=(r=r.R(t)).add(ca(d))}return r};var qI=Ks.createWebChannelTransport=function(){return new p_},kD=Ks.getStatEventTarget=function(){return zy()},y_=Ks.ErrorCode=Lh,jI=Ks.EventType=r_,E_=Ks.Event=Vl,w_=Ks.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NM=Ks.FetchXmlHttpFactory=qh,og=Ks.WebChannel=Ph,GI=Ks.XhrIo=at,$I=Ks.Md5=Io,Kl=Ks.Integer=Dn;const I_="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Qh="9.23.0";const Eu=new Ws.Yd("@firebase/firestore");function ag(){return Eu.logLevel}function Oe(n,...e){if(Eu.logLevel<=Ws.in.DEBUG){const t=e.map(T_);Eu.debug(`Firestore (${Qh}): ${n}`,...t)}}function br(n,...e){if(Eu.logLevel<=Ws.in.ERROR){const t=e.map(T_);Eu.error(`Firestore (${Qh}): ${n}`,...t)}}function bo(n,...e){if(Eu.logLevel<=Ws.in.WARN){const t=e.map(T_);Eu.warn(`Firestore (${Qh}): ${n}`,...t)}}function T_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function ut(n,e){n||st()}function Ke(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ln.UNAUTHENTICATED))}shutdown(){}}class OD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f0{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let d=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new lr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,ge.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},w=D=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new lr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new zI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Ln(e)}}class LD{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ug{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KI{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,Oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.T=t.token,new WI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class JI{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=FD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function Yh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function UD(n){return n+"\0"}class Xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Xn(0,0))}static max(){return new yt(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lg{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===lg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends lg{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends lg{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(on.fromString(e))}static fromName(e){return new Qe(on.fromString(e).popFirst(5))}static empty(){return new Qe(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new on(e.slice()))}}class dg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function hg(n){return n.fields.find(e=>2===e.kind)}function Jl(n){return n.fields.filter(e=>2!==e.kind)}dg.UNKNOWN_ID=-1;class b_{constructor(e,t){this.fieldPath=e,this.kind=t}}class fg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fg(0,Ss.min())}}function QI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(1e9===r?new Xn(t+1,0):new Xn(t,r));return new Ss(o,Qe.empty(),e)}function YI(n){return new Ss(n.readTime,n.key,-1)}class Ss{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ss(yt.min(),Qe.empty(),-1)}static max(){return new Ss(yt.max(),Qe.empty(),-1)}}function g0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const m0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wu(n){return XI.apply(this,arguments)}function XI(){return XI=(0,ge.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==m0)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),XI.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},w=>r(w))}),d=!0,u===o&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(o=>o?re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new re((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const D=w;t(e[D]).next(M=>{d[D]=M,++m,m===u&&r(d)},M=>o(M))}})}static doWhile(e,t){return new re((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class v0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new lr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new pg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Yr(r.target.error);this.v.reject(new pg(e,o))}}static open(e,t,r,o){try{return new v0(t,e.transaction(o,r))}catch(u){throw new pg(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new HD(t)}}class hs{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===hs.S((0,rn.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),Ri(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rn.hl)())return!1;if(hs.C())return!0;const e=(0,rn.z$)(),t=hs.S(e),r=0<t&&t<10,o=hs.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new pg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new pg(e,m))},u.onupgradeneeded=d=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ge.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const w=v0.open(u.db,e,d?"readonly":"readwrite",r),D=o(w).next(M=>(w.P(),M)).catch(M=>(w.abort(M),re.reject(M))).toPromise();return D.catch(()=>{}),yield w.R,D}catch(w){const D=w,M="FirebaseError"!==D.name&&m<3;if(Oe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",M),u.close(),!M)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ri(this.L.delete())}}class pg extends Te{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ua(n){return"IndexedDbTransactionError"===n.name}class HD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ri(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),Ri(this.store.add(e))}get(e){return Ri(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),Ri(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),Ri(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new re((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new re((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new re((r,o)=>{t.onerror=u=>{const d=Yr(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new re((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const w=new ZD(m),D=t(m.primaryKey,m.value,w);if(D instanceof re){const M=D.catch(N=>(w.done(),re.reject(N)));r.push(M)}w.isDone?o():null===w.K?m.continue():m.continue(w.K)}}).next(()=>re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ri(n){return new re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Yr(r.target.error);t(o)}})}let Xh=!1;function Yr(n){const e=hs.S((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xh||(Xh=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ql{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){ua(r)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield wu(r)}yield t.et(6e4)}))}}class D_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return re.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Oe("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,u)).next(m=>(Oe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=YI(u);g0(d,r)>0&&(r=d)}),new Ss(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let er=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Yl(n){return null==n}function la(n){return 0===n&&1/n==-1/0}function Xl(n){return"number"==typeof n&&Number.isInteger(n)&&!la(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Dr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ed(e)),e=ef(n.get(t),e);return ed(e)}function ef(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function ed(n){return n+"\x01\x01"}function Wi(n){const e=n.length;if(ut(e>=2),2===e)return ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&st(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:st()}u=d+2}return new on(r)}const td=["userId","batchId"];function vc(n,e){return[n,Dr(e)]}function nd(n,e,t){return[n,Dr(e),t]}const eT={},tT=["prefixPath","collectionGroup","readTime","documentId"],nT=["prefixPath","collectionGroup","documentId"],rT=["collectionGroup","readTime","prefixPath","documentId"],iT=["canonicalId","targetId"],sT=["targetId","path"],oT=["path","targetId"],aT=["collectionId","parent"],cT=["indexId","uid"],y0=["uid","sequenceNumber"],qD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RM=["indexId","uid","orderedDocumentKey"],OM=["userId","collectionPath","documentId"],jD=["userId","collectionPath","largestBatchId"],GD=["userId","collectionGroup","largestBatchId"],$D=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zD=[...$D,"documentOverlays"],WD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uT=WD,KD=[...uT,"indexConfiguration","indexState","indexEntries"];class E0 extends _0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=Ke(n);return hs.M(t.ht,e)}function tf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=o??Xr.EMPTY,this.right=u??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Xr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nf(this.data.getIterator())}getIteratorFrom(e){return new nf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class nf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rf(n){return n.hasNext()?n.getNext():void 0}class fs{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new fs([])}unionWith(e){let t=new Gn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lT("Invalid base64 string: "+o):o}}(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const C_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(n){if(ut(!!n),"string"==typeof n){let e=0;const t=C_.exec(n);if(ut(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(n.seconds),nanos:Ar(n.nanos)}}function Ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function yc(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function A_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sf(n){const e=n.mapValue.fields.__previous_value__;return A_(e)?sf(e):e}function mg(n){const e=Do(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}class dT{constructor(e,t,r,o,u,d,m,w,D){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=D}}class Tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_g={nullValue:"NULL_VALUE"};function Ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?A_(n)?4:fT(n)?9007199254740991:10:st()}function Co(n,e){if(n===e)return!0;const t=Ec(n);if(t!==Ec(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mg(n).isEqual(mg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Do(r.timestampValue),d=Do(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,yc(n.bytesValue).isEqual(yc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ar(r.geoPointValue.latitude)===Ar(o.geoPointValue.latitude)&&Ar(r.geoPointValue.longitude)===Ar(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ar(r.integerValue)===Ar(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Ar(r.doubleValue),d=Ar(o.doubleValue);return u===d?la(u)===la(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Yh(n.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(tf(u)!==tf(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Co(u[m],d[m])))return!1;return!0}(n,e);default:return st()}var o}function vg(n,e){return void 0!==(n.values||[]).find(t=>Co(t,e))}function Du(n,e){if(n===e)return 0;const t=Ec(n),r=Ec(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Ar(o.integerValue||o.doubleValue),m=Ar(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return hT(n.timestampValue,e.timestampValue);case 4:return hT(mg(n),mg(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=yc(o),m=yc(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const D=Nt(d[w],m[w]);if(0!==D)return D}return Nt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Nt(Ar(o.latitude),Ar(u.latitude));return 0!==d?d:Nt(Ar(o.longitude),Ar(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const D=Du(d[w],m[w]);if(D)return D}return Nt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===bu.mapValue&&u===bu.mapValue)return 0;if(o===bu.mapValue)return 1;if(u===bu.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),w=u.fields||{},D=Object.keys(w);m.sort(),D.sort();for(let M=0;M<m.length&&M<D.length;++M){const N=Nt(m[M],D[M]);if(0!==N)return N;const q=Du(d[m[M]],w[D[M]]);if(0!==q)return q}return Nt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw st()}}function hT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Do(n),r=Do(e),o=Nt(t.seconds,r.seconds);return 0!==o?o:Nt(t.nanos,r.nanos)}function af(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Do(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?yc(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=yg(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${yg(r.fields[m])}`;return u+"}"}(n.mapValue):st();var e}function rd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uf(n){return!!n&&"integerValue"in n}function Cu(n){return!!n&&"arrayValue"in n}function M_(n){return!!n&&"nullValue"in n}function w0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function S_(n){return!!n&&"mapValue"in n}function Eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function I0(n){return"nullValue"in n?_g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rd(Tu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function T0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rd(Tu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bu:st()}function b0(n,e){const t=Du(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function D0(n,e){const t=Du(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!S_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=dr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Eg(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());S_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];S_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){da(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new gi(Eg(this.value))}}function pT(n){const e=[];return da(n.fields,(t,r)=>{const o=new dr([t]);if(S_(r)){const u=pT(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new fs(e)}class Pn{constructor(e,t,r,o,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Pn(e,0,yt.min(),yt.min(),yt.min(),gi.empty(),0)}static newFoundDocument(e,t,r,o){return new Pn(e,1,t,yt.min(),r,o,0)}static newNoDocument(e,t){return new Pn(e,2,t,yt.min(),yt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,yt.min(),yt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ha{constructor(e,t){this.position=e,this.inclusive=t}}function C0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(d.referenceValue),t.key):Du(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function x_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Co(n.position[t],e.position[t]))return!1;return!0}class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function QD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class A0{}class Xt extends A0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new mT(e,t,r):"array-contains"===t?new yT(e,r):"in"===t?new R0(e,r):"not-in"===t?new R_(e,r):"array-contains-any"===t?new Au(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _T(e,r):new vT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Du(t,this.value)):null!==t&&Ec(this.value)===Ec(t)&&this.matchesComparison(Du(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends A0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vn(e,t)}matches(e){return sd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sd(n){return"and"===n.op}function M0(n){return"or"===n.op}function S0(n){return gT(n)&&sd(n)}function gT(n){for(const e of n.filters)if(e instanceof vn)return!1;return!0}function k_(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+af(n.value);if(S0(n))return n.filters.map(e=>k_(e)).join(",");{const e=n.filters.map(t=>k_(t)).join(",");return`${n.op}(${e})`}}function N_(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Co(t.value,r.value)):n instanceof vn?function(t,r){return r instanceof vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,d)=>o&&N_(u,r.filters[d]),!0)}(n,e):void st();var t,r}function x0(n,e){const t=n.filters.concat(e);return vn.create(t,n.op)}function k0(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${af(e.value)}`:n instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(k0).join(" ,")+"}"}(n):"Filter";var e}class mT extends Xt{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class _T extends Xt{constructor(e,t){super(e,"in",t),this.keys=N0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vT extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=N0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function N0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class yT extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cu(t)&&vg(t.arrayValue,this.value)}}class R0 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vg(this.value.arrayValue,t)}}class R_ extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(vg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vg(this.value.arrayValue,t)}}class Au extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vg(this.value.arrayValue,r))}}class YD{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.dt=null}}function O0(n,e=null,t=[],r=[],o=null,u=null,d=null){return new YD(n,e,t,r,o,u,d)}function wc(n){const e=Ke(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>k_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Yl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),e.dt=t}return e.dt}function Ao(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!N_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function lf(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function O_(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function L_(n,e,t){let r=_g,o=!0;for(const u of O_(n,e)){let d=_g,m=!0;switch(u.op){case"<":case"<=":d=I0(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=_g}b0({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];b0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function XD(n,e,t){let r=bu,o=!0;for(const u of O_(n,e)){let d=bu,m=!0;switch(u.op){case">=":case">":d=T0(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=bu}D0({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];D0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Mu{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function ET(n,e,t,r,o,u,d,m){return new Mu(n,e,t,r,o,u,d,m)}function df(n){return new Mu(n)}function L0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function P0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function hr(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function P_(n){return null!==n.collectionGroup}function od(n){const e=Ke(n);if(null===e.wt){e.wt=[];const t=hr(e),r=P0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new id(t)),e.wt.push(new id(dr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new id(dr.keyField(),u))}}}return e.wt}function Ki(n){const e=Ke(n);if(!e._t)if("F"===e.limitType)e._t=O0(e.path,e.collectionGroup,od(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of od(e))t.push(new id(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ha(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ha(e.startAt.position,e.startAt.inclusive):null;e._t=O0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function F_(n,e){e.getFirstInequalityField(),hr(n);const t=n.filters.concat([e]);return new Mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function U_(n,e,t){return new Mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return Ao(Ki(n),Ki(e))&&n.limitType===e.limitType}function F0(n){return`${wc(Ki(n))}|lt:${n.limitType}`}function Su(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>k0(r)).join(", ")}]`),Yl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),`Target(${t})`}(Ki(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of od(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=C0(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,od(t),r)||t.endAt&&!function(o,u,d){const m=C0(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,od(t),r)));var t,r}function wT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U0(n){return(e,t)=>{let r=!1;for(const o of od(n)){const u=eC(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function eC(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),w=d.data.field(o);return null!==m&&null!==w?Du(m,w):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return gg(this.inner)}size(){return this.innerSize}}const LM=new Mn(Qe.comparator);function Ji(){return LM}const V_=new Mn(Qe.comparator);function ps(...n){let e=V_;for(const t of n)e=e.insert(t.key,t);return e}function IT(n){let e=V_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pa(){return Qi()}function Mo(){return Qi()}function Qi(){return new fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const So=new Mn(Qe.comparator),TT=new Gn(Qe.comparator);function qt(...n){let e=TT;for(const t of n)e=e.add(t);return e}const tC=new Gn(Nt);function V0(){return tC}function bT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:la(e)?"-0":e}}function DT(n){return{integerValue:""+n}}function B_(n,e){return Xl(e)?DT(e):bT(n,e)}class xu{constructor(){this._=void 0}}function nC(n,e,t){return n instanceof ff?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&A_(o)&&(o=sf(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof ku?B0(n,e):n instanceof ga?MT(n,e):function(r,o){const u=AT(r,o),d=Z0(u)+Z0(r.gt);return uf(u)&&uf(r.gt)?DT(d):bT(r.serializer,d)}(n,e)}function CT(n,e,t){return n instanceof ku?B0(n,e):n instanceof ga?MT(n,e):t}function AT(n,e){return n instanceof ad?uf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ff extends xu{}class ku extends xu{constructor(e){super(),this.elements=e}}function B0(n,e){const t=H0(e);for(const r of n.elements)t.some(o=>Co(o,r))||t.push(r);return{arrayValue:{values:t}}}class ga extends xu{constructor(e){super(),this.elements=e}}function MT(n,e){let t=H0(e);for(const r of n.elements)t=t.filter(o=>!Co(o,r));return{arrayValue:{values:t}}}class ad extends xu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Z0(n){return Ar(n.integerValue||n.doubleValue)}function H0(n){return Cu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ig{constructor(e,t){this.field=e,this.transform=t}}class q0{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pf{}function Z_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new mf(n.key,Sn.none()):new cd(n.key,n.data,Sn.none());{const t=n.data,r=gi.empty();let o=new Gn(dr.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new Ic(n.key,r,new fs(o.toArray()),Sn.none())}}function ST(n,e,t){n instanceof cd?function(r,o,u){const d=r.value.clone(),m=NT(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ic?function(r,o,u){if(!Tg(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=NT(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(kT(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gf(n,e,t,r){return n instanceof cd?function(o,u,d,m){if(!Tg(o.precondition,u))return d;const w=o.value.clone(),D=RT(o.fieldTransforms,m,u);return w.setAll(D),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ic?function(o,u,d,m){if(!Tg(o.precondition,u))return d;const w=RT(o.fieldTransforms,m,u),D=u.data;return D.setAll(kT(o)),D.setAll(w),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(d=t,Tg(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function xT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=AT(r.transform,o||null);null!=u&&(null===t&&(t=gi.empty()),t.set(r.field,u))}return t||null}function j0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Yh(t,r,(o,u)=>function rC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ku&&r instanceof ku||t instanceof ga&&r instanceof ga?Yh(t.elements,r.elements,Co):t instanceof ad&&r instanceof ad?Co(t.gt,r.gt):t instanceof ff&&r instanceof ff);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class cd extends pf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ic extends pf{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function NT(n,e,t){const r=new Map;ut(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,CT(d,m,t[o]))}return r}function RT(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,nC(u,d,e))}return r}class mf extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G0 extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ST(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Mo();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const w=Z_(d,m);null!==w&&r.set(o.key,w),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Yh(this.mutations,e.mutations,(t,r)=>j0(t,r))&&Yh(this.baseMutations,e.baseMutations,(t,r)=>j0(t,r))}}class z0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ut(e.mutations.length===r.length);let o=So;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new z0(e,t,r,o)}}class W0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sC{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ur,an;function OT(n){switch(n){default:return st();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function LT(n){if(void 0===n)return br("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Ur.OK:return ae.OK;case Ur.CANCELLED:return ae.CANCELLED;case Ur.UNKNOWN:return ae.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return ae.INTERNAL;case Ur.UNAVAILABLE:return ae.UNAVAILABLE;case Ur.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ur.NOT_FOUND:return ae.NOT_FOUND;case Ur.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ur.ABORTED:return ae.ABORTED;case Ur.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ur.DATA_LOSS:return ae.DATA_LOSS;default:return st()}}(an=Ur||(Ur={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class K0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return H_}static getOrCreateInstance(){return null===H_&&(H_=new K0),H_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let H_=null;function PT(){return new TextEncoder}const FT=new Kl([4294967295,4294967295],0);function J0(n){const e=PT().encode(n),t=new $I;return t.update(e),new Uint8Array(t.digest())}function Q0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Kl([t,r],0),new Kl([o,u],0)]}class q_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _f(`Invalid padding: ${t}`);if(r<0)throw new _f(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _f(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _f(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Kl.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Kl.fromNumber(r)));return 1===o.compare(FT)&&(o=new Kl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=J0(e),[r,o]=Q0(t);for(let u=0;u<this.hashCount;u++){const d=this.Et(r,o,u);if(!this.At(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new q_(u,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const t=J0(e),[r,o]=Q0(t);for(let u=0;u<this.hashCount;u++){const d=this.Et(r,o,u);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vf(yt.min(),o,new Mn(Nt),Ji(),qt())}}class yf{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yf(r,t,qt(),qt(),qt())}}class bg{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class Y0{constructor(e,t){this.targetId=e,this.Vt=t}}class X0{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class eE{constructor(){this.St=0,this.Dt=VT(),this.Ct=Cr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=qt(),t=qt(),r=qt();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:st()}}),new yf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=VT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ud{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ji(),this.zt=UT(),this.Wt=new Mn(Nt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const d=u.target;if(lf(d))if(0===o){const m=new Qe(d.path);this.Yt(r,m,Pn.newNoDocument(m,yt.min()))}else ut(1===o);else{const m=this.ie(r);if(m!==o){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=K0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,M,N){var q,Y,me,Le,Fe,dt;const xt={localCacheCount:M,existenceFilterCount:N.count},It=N.unchangedNames;return It&&(xt.bloomFilter={applied:0===D,hashCount:null!==(q=It?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(Le=null===(me=null===(Y=It?.bits)||void 0===Y?void 0:Y.bitmap)||void 0===me?void 0:me.length)&&void 0!==Le?Le:0,padding:null!==(dt=null===(Fe=It?.bits)||void 0===Fe?void 0:Fe.padding)&&void 0!==dt?dt:0}),xt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:d=0},hashCount:m=0}=r;let w,D;try{w=yc(u).toUint8Array()}catch(M){if(M instanceof lT)return bo("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{D=new q_(w,d,m)}catch(M){return bo(M instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===D.It?1:o!==t-this.oe(e.targetId,D)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,d)=>{const m=this.se(d);if(m){if(u.current&&lf(m.target)){const w=new Qe(m.target.path);null!==this.jt.get(w)||this.ae(d,w)||this.Yt(d,w,Pn.newNoDocument(w,e))}u.Mt&&(t.set(d,u.Ot()),u.Ft())}});let r=qt();this.zt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const D=this.se(w);return!D||"TargetPurposeLimboResolution"===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,d)=>d.setReadTime(e));const o=new vf(e,t,this.Wt,this.jt,r);return this.jt=Ji(),this.zt=UT(),this.Wt=new Mn(Nt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new eE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gn(Nt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eE),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function UT(){return new Mn(Qe.comparator)}function VT(){return new Mn(Qe.comparator)}const Ef={asc:"ASCENDING",desc:"DESCENDING"},PM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tE={and:"AND",or:"OR"};class FM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function j_(n,e){return n.useProto3Json||Yl(e)?e:{value:e}}function ld(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function St(n,e){return ld(n,e.toTimestamp())}function Mr(n){return ut(!!n),yt.fromTimestamp(function(e){const t=Do(e);return new Xn(t.seconds,t.nanos)}(n))}function nE(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BT(n){const e=on.fromString(n);return ut(Tf(e)),e}function ma(n,e){return nE(n.databaseId,e.path)}function _a(n,e){const t=BT(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(aC(t))}function wf(n,e){return nE(n.databaseId,e)}function Dg(n){const e=BT(n);return 4===e.length?on.emptyPath():aC(e)}function Fn(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aC(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rE(n,e,t){return{name:ma(n,e),fields:t.value.mapValue.fields}}function iE(n,e,t){const r=_a(n,e.name),o=Mr(e.updateTime),u=e.createTime?Mr(e.createTime):yt.min(),d=new gi({mapValue:{fields:e.fields}}),m=Pn.newFoundDocument(r,o,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function If(n,e){let t;if(e instanceof cd)t={update:rE(n,e.key,e.value)};else if(e instanceof mf)t={delete:ma(n,e.key)};else if(e instanceof Ic)t={update:rE(n,e.key,e.data),updateMask:dC(e.fieldMask)};else{if(!(e instanceof G0))return st();t={verify:ma(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof ff)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ga)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ad)return{fieldPath:u.field.canonicalString(),increment:d.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:St(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:st()),t;var o}function G_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Sn.updateTime(Mr(o.updateTime)):void 0!==o.exists?Sn.exists(o.exists):Sn.none():Sn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(ut("REQUEST_TIME"===d.setToServerValue),m=new ff):"appendMissingElements"in d?m=new ku(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ga(d.removeAllFromArray.values||[]):"increment"in d?m=new ad(u,d.increment):st();const w=dr.fromServerFormat(d.fieldPath);return new Ig(w,m)}(n,o)):[];var o;if(e.update){const o=_a(n,e.update.name),u=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new fs((e.updateMask.fieldPaths||[]).map(D=>dr.fromServerFormat(D)));return new Ic(o,u,d,t,r)}return new cd(o,u,t,r)}if(e.delete){const o=_a(n,e.delete);return new mf(o,t)}if(e.verify){const o=_a(n,e.verify);return new G0(o,t)}return st()}function qT(n,e){return{documents:[wf(n,e.path)]}}function sE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0!==w.length)return oE(vn.create(w,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(D=>{return{field:Tc((M=D).field),direction:uC(M.dir)};var M})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=j_(n,e.limit);var m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function jT(n){let e=Dg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ut(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let u=[];t.where&&(u=function(M){const N=GT(M);return N instanceof vn&&S0(N)?N.getFilters():[N]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(M=>{return new id(dd((N=M).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(M){let N;return N="object"==typeof M?M.value:M,Yl(N)?null:N}(t.limit));let w=null;var M;t.startAt&&(w=new ha((M=t.startAt).values||[],!!M.before));let D=null;return t.endAt&&(D=function(M){return new ha(M.values||[],!M.before)}(t.endAt)),ET(e,o,d,u,m,"F",w,D)}function GT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dd(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=dd(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dd(e.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dd(e.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?Xt.create(dd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>GT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function uC(n){return Ef[n]}function lC(n){return PM[n]}function $_(n){return tE[n]}function Tc(n){return{fieldPath:n.canonicalString()}}function dd(n){return dr.fromServerFormat(n.fieldPath)}function oE(n){return n instanceof Xt?function(e){if("=="===e.op){if(w0(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NAN"}};if(M_(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(w0(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NOT_NAN"}};if(M_(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tc(e.field),op:lC(e.op),value:e.value}}}(n):n instanceof vn?function(e){const t=e.getFilters().map(r=>oE(r));return 1===t.length?t[0]:{compositeFilter:{op:$_(e.op),filters:t}}}(n):st()}function dC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xs{constructor(e,t,r,o,u=yt.min(),d=yt.min(),m=Cr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $T{constructor(e){this.fe=e}}function zT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ag(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ma(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ld(o,u.version.toTimestamp()),createTime:ld(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Nu(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:Nu(e.version)}}var o,u;return r}function Ag(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(n){const e=new Xn(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function hd(n,e){const t=(e.baseMutations||[]).map(u=>G_(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>G_(n.fe,u)),o=Xn.fromMillis(e.localWriteTimeMs);return new $0(e.batchId,o,t,r)}function bf(n){const e=Ru(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ru(n.lastLimboFreeSnapshotVersion):yt.min();let r;var o;return void 0!==n.query.documents?(ut(1===(o=n.query).documents.length),r=Ki(df(Dg(o.documents[0])))):r=Ki(jT(n.query)),new xs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function WT(n,e){const t=Nu(e.snapshotVersion),r=Nu(e.lastLimboFreeSnapshotVersion);let o;o=lf(e.target)?qT(n.fe,e.target):sE(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function aE(n){const e=jT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?U_(e,e.limit,"L"):e}function KT(n,e){return new W0(e.largestBatchId,G_(n.fe,e.overlayMutation))}function fC(n,e){const t=e.path.lastSegment();return[n,Dr(e.path.popLast()),t]}function pC(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Nu(r.readTime),documentKey:Dr(r.documentKey.path),largestBatchId:r.largestBatchId}}class UM{getBundleMetadata(e,t){return cE(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ru(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return cE(e).put({bundleId:(r=t).id,createTime:Nu(Mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Mg(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:aE(o.bundledQuery),readTime:Ru(o.readTime)};var o})}saveNamedQuery(e,t){return Mg(e).put({name:(r=t).name,readTime:Nu(Mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function cE(n){return Fr(n,"bundles")}function Mg(n){return Fr(n,"namedQueries")}class z_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new z_(e,t.uid||"")}getOverlay(e,t){return Sg(e).get(fC(this.userId,t)).next(r=>r?KT(this.serializer,r):null)}getOverlays(e,t){const r=pa();return re.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new W0(t,d);o.push(this.we(e,m))}),re.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Dr(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Sg(e).J("collectionPathOverlayIndex",m))}),re.waitFor(u)}getOverlaysForCollection(e,t,r){const o=pa(),u=Dr(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Sg(e).j("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const D=KT(this.serializer,w);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=pa();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sg(e).X({index:"collectionGroupOverlayIndex",range:m},(w,D,M)=>{const N=KT(this.serializer,D);u.size()<o||N.largestBatchId===d?(u.set(N.getKey(),N),d=N.largestBatchId):M.done()}).next(()=>u)}we(e,t){return Sg(e).put(function(r,o,u){const[d,m,w]=fC(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:If(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Sg(n){return Fr(n,"documentOverlays")}class Ou{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),la(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(yc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?fT(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):st()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function xg(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function JT(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=xg(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Ou.Ve=new Ou;class gC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=JT(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=JT(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class mC{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class _C{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class W_{constructor(){this.je=new gC,this.ze=new mC(this.je),this.We=new _C(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class fd{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fd(this.indexId,this.documentKey,this.arrayValue,r)}}function bc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QT(n.arrayValue,e.arrayValue),0!==t?t:(t=QT(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function QT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class vC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ut(e.collectionGroup===this.collectionId);const t=hg(e);if(void 0!==t&&!this.en(t))return!1;const r=Jl(e);let o=new Set,u=0,d=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++u}for(;u<r.length;++u)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Df(n){var e,t;if(ut(n instanceof Xt||n instanceof vn),n instanceof Xt){if(n instanceof R0){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Xt.create(n.field,"==",u)))||[];return vn.create(o,"or")}return n}const r=n.filters.map(o=>Df(o));return vn.create(r,n.op)}function yC(n){if(0===n.getFilters().length)return[];const e=dE(Df(n));return ut(lE(e)),K_(e)||uE(e)?[e]:e.getFilters()}function K_(n){return n instanceof Xt}function uE(n){return n instanceof vn&&S0(n)}function lE(n){return K_(n)||uE(n)||function(e){if(e instanceof vn&&M0(e)){for(const t of e.getFilters())if(!K_(t)&&!uE(t))return!1;return!0}return!1}(n)}function dE(n){if(ut(n instanceof Xt||n instanceof vn),n instanceof Xt)return n;if(1===n.filters.length)return dE(n.filters[0]);const e=n.filters.map(r=>dE(r));let t=vn.create(e,n.op);return t=Cf(t),lE(t)?t:(ut(t instanceof vn),ut(sd(t)),ut(t.filters.length>1),t.filters.reduce((r,o)=>J_(r,o)))}function J_(n,e){let t;return ut(n instanceof Xt||n instanceof vn),ut(e instanceof Xt||e instanceof vn),t=n instanceof Xt?e instanceof Xt?vn.create([n,e],"and"):YT(n,e):e instanceof Xt?YT(e,n):function(r,o){if(ut(r.filters.length>0&&o.filters.length>0),sd(r)&&sd(o))return x0(r,o.getFilters());const u=M0(r)?r:o,d=M0(r)?o:r,m=u.filters.map(w=>J_(w,d));return vn.create(m,"or")}(n,e),Cf(t)}function YT(n,e){if(sd(e))return x0(e,n.getFilters());{const t=e.filters.map(r=>J_(n,r));return vn.create(t,"or")}}function Cf(n){if(ut(n instanceof Xt||n instanceof vn),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return Cf(e[0]);if(gT(n))return n;const t=e.map(o=>Cf(o)),r=[];return t.forEach(o=>{o instanceof Xt?r.push(o):o instanceof vn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:vn.create(r,n.op)}class EC{constructor(){this.rn=new Q_}addToCollectionParentIndex(e,t){return this.rn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ss.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Q_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Gn(on.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gn(on.comparator)).toArray()}}const kg=new Uint8Array(0);class wC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Q_,this.un=new fa(r=>wc(r),(r,o)=>Ao(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:Dr(o)};return XT(e).put(u)}return re.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[UD(t),""],!1,!0);return XT(e).j(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Wi(d.parent))}return r})}addFieldIndex(e,t){const r=Af(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=Rg(e);return u.next(m=>{d.put(pC(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Af(e),o=Rg(e),u=Ng(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ng(e);let o=!0;const u=new Map;return re.forEach(this.cn(t),d=>this.an(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=qt();const m=[];return re.forEach(u,(w,D)=>{var M;Oe("IndexedDbIndexManager",`Using index ${M=w,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(It=>`${It.fieldPath}:${It.kind}`).join(",")}`} to execute ${wc(t)}`);const N=function(It,kt){const Zt=hg(kt);if(void 0===Zt)return null;for(const nn of O_(It,Zt.fieldPath))switch(nn.op){case"array-contains-any":return nn.value.arrayValue.values||[];case"array-contains":return[nn.value]}return null}(D,w),q=function(It,kt){const Zt=new Map;for(const nn of Jl(kt))for(const vi of O_(It,nn.fieldPath))switch(vi.op){case"==":case"in":Zt.set(nn.fieldPath.canonicalString(),vi.value);break;case"not-in":case"!=":return Zt.set(nn.fieldPath.canonicalString(),vi.value),Array.from(Zt.values())}return null}(D,w),Y=function(It,kt){const Zt=[];let nn=!0;for(const vi of Jl(kt)){const Hu=0===vi.kind?L_(It,vi.fieldPath,It.startAt):XD(It,vi.fieldPath,It.startAt);Zt.push(Hu.value),nn&&(nn=Hu.inclusive)}return new ha(Zt,nn)}(D,w),me=function(It,kt){const Zt=[];let nn=!0;for(const vi of Jl(kt)){const Hu=0===vi.kind?XD(It,vi.fieldPath,It.endAt):L_(It,vi.fieldPath,It.endAt);Zt.push(Hu.value),nn&&(nn=Hu.inclusive)}return new ha(Zt,nn)}(D,w),Le=this.hn(w,D,Y),Fe=this.hn(w,D,me),dt=this.ln(w,D,q),xt=this.fn(w.indexId,N,Le,Y.inclusive,Fe,me.inclusive,dt);return re.forEach(xt,It=>r.H(It,t.limit).next(kt=>{kt.forEach(Zt=>{const nn=Qe.fromSegments(Zt.documentKey);d.has(nn)||(d=d.add(nn),m.push(nn))})}))}).next(()=>m)}return re.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:yC(vn.create(e.filters,"and")).map(r=>O0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),D=w/(null!=t?t.length:1),M=[];for(let N=0;N<w;++N){const q=t?this.dn(t[N/D]):kg,Y=this.wn(e,q,r[N%D],o),me=this._n(e,q,u[N%D],d),Le=m.map(Fe=>this.wn(e,q,Fe,!0));M.push(...this.createRange(Y,me,Le))}return M}wn(e,t,r,o){const u=new fd(e,Qe.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new fd(e,Qe.empty(),t,r);return o?u.Je():u}an(e,t){const r=new vC(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.cn(t);return re.forEach(o,u=>this.an(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let w=new Gn(dr.comparator),D=!1;for(const M of m.filters)for(const N of M.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?D=!0:w=w.add(N.field));for(const M of m.orderBy)M.field.isKeyField()||(w=w.add(M.field));return w.size+(D?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new W_;for(const o of Jl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.He(o.kind);Ou.Ve._e(u,d)}return r.Qe()}dn(e){const t=new W_;return Ou.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new W_;return Ou.Ve._e(rd(this.databaseId,t),r.He(function(o){const u=Jl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new W_);let u=0;for(const d of Jl(e)){const m=r[u++];for(const w of o)if(this.yn(t,d.fieldPath)&&Cu(m))o=this.pn(o,d,m);else{const D=w.He(d.kind);Ou.Ve._e(m,D)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const w=new W_;w.seed(m.Qe()),Ou.Ve._e(d,w.He(t.kind)),u.push(w)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Af(e),o=Rg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return re.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{d.push(function(D,M){const N=M?new fg(M.sequenceNumber,new Ss(Ru(M.readTime),new Qe(Wi(M.documentKey)),M.largestBatchId)):fg.empty(),q=D.fields.map(([Y,me])=>new b_(dr.fromServerFormat(Y),me));return new dg(D.indexId,D.collectionGroup,q,N)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Nt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Af(e),u=Rg(e);return this.Tn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>re.forEach(m,w=>u.put(pC(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return re.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?re.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),re.forEach(m,w=>this.En(e,o,w).next(D=>{const M=this.An(u,w);return D.isEqual(M)?re.resolve():this.vn(e,u,w,D,M)}))))})}Rn(e,t,r,o){return Ng(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Ng(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Ng(e);let u=new Gn(bc);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,m)=>{u=u.add(new fd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new Gn(bc);const o=this.mn(t,e);if(null==o)return r;const u=hg(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Cu(d))for(const m of d.arrayValue.values||[])r=r.add(new fd(t.indexId,e.key,this.dn(m),o))}else r=r.add(new fd(t.indexId,e.key,kg,o));return r}vn(e,t,r,o,u){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,D,M,N){const q=m.getIterator(),Y=w.getIterator();let me=rf(q),Le=rf(Y);for(;me||Le;){let Fe=!1,dt=!1;if(me&&Le){const xt=D(me,Le);xt<0?dt=!0:xt>0&&(Fe=!0)}else null!=me?dt=!0:Fe=!0;Fe?(M(Le),Le=rf(Y)):dt?(N(me),me=rf(q)):(me=rf(q),Le=rf(Y))}}(o,u,bc,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.Pn(e,t,r,m))}),re.waitFor(d)}Tn(e){let t=1;return Rg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>bc(d,m)).filter((d,m,w)=>!m||0!==bc(d,w[m-1]));const o=[];o.push(e);for(const d of r){const m=bc(d,e),w=bc(d,t);if(0===m)o[0]=e.Je();else if(m>0&&w<0)o.push(d),o.push(d.Je());else if(w>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2){if(this.bn(o[d],o[d+1]))return[];u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,kg,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,kg,[]]))}return u}bn(e,t){return bc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hE)}getMinOffset(e,t){return re.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||st())).next(hE)}}function XT(n){return Fr(n,"collectionParents")}function Ng(n){return Fr(n,"indexEntries")}function Af(n){return Fr(n,"indexConfiguration")}function Rg(n){return Fr(n,"indexState")}function hE(n){ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;g0(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Ss(e.readTime,e.documentKey,t)}const e1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function t1(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:d},(M,N,q)=>(m++,q.delete()));u.push(w.next(()=>{ut(1===m)}));const D=[];for(const M of t.mutations){const N=nd(e,M.key.path,t.batchId);u.push(o.delete(N)),D.push(M.key)}return re.waitFor(u).next(()=>D)}function Y_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);class X_{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new X_(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lu(e).X({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Mf(e),d=Lu(e);return d.add({}).next(m=>{ut("number"==typeof m);const w=new $0(m,t,r,o),D=function(q,Y,me){const Le=me.baseMutations.map(dt=>If(q.fe,dt)),Fe=me.mutations.map(dt=>If(q.fe,dt));return{userId:Y,batchId:me.batchId,localWriteTimeMs:me.localWriteTime.toMillis(),baseMutations:Le,mutations:Fe}}(this.serializer,this.userId,w),M=[];let N=new Gn((q,Y)=>Nt(q.canonicalString(),Y.canonicalString()));for(const q of o){const Y=nd(this.userId,q.key.path,m);N=N.add(q.key.path.popLast()),M.push(d.put(D)),M.push(u.put(Y,eT))}return N.forEach(q=>{M.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Vn[m]=w.keys()}),re.waitFor(M).next(()=>w)})}lookupMutationBatch(e,t){return Lu(e).get(t).next(r=>r?(ut(r.userId===this.userId),hd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?re.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Lu(e).X({index:"userMutationsIndex",range:o},(d,m,w)=>{m.userId===this.userId&&(ut(m.batchId>=r),u=hd(this.serializer,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Lu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lu(e).j("userMutationsIndex",t).next(r=>r.map(o=>hd(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vc(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Mf(e).X({range:o},(d,m,w)=>{const[D,M,N]=d,q=Wi(M);if(D===this.userId&&t.path.isEqual(q))return Lu(e).get(N).next(Y=>{if(!Y)throw st();ut(Y.userId===this.userId),u.push(hd(this.serializer,Y))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Nt);const o=[];return t.forEach(u=>{const d=vc(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=Mf(e).X({range:m},(D,M,N)=>{const[q,Y,me]=D,Le=Wi(Y);q===this.userId&&u.path.isEqual(Le)?r=r.add(me):N.done()});o.push(w)}),re.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=vc(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new Gn(Nt);return Mf(e).X({range:d},(w,D,M)=>{const[N,q,Y]=w,me=Wi(q);N===this.userId&&r.isPrefixOf(me)?me.length===o&&(m=m.add(Y)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Lu(e).get(u).next(d=>{if(null===d)throw st();ut(d.userId===this.userId),r.push(hd(this.serializer,d))}))}),re.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return t1(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),re.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Mf(e).X({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=Wi(u[1]);o.push(w)}else m.done()}).next(()=>{ut(0===o.length)})})}containsKey(e,t){return n1(e,this.userId,t)}xn(e){return fE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n1(n,e,t){const r=vc(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Mf(n).X({range:u,Y:!0},(m,w,D)=>{const[M,N,q]=m;M===e&&N===o&&(d=!0),D.done()}).next(()=>d)}function Lu(n){return Fr(n,"mutations")}function Mf(n){return Fr(n,"documentMutations")}function fE(n){return Fr(n,"mutationQueues")}class Pu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pu(0)}static Mn(){return new Pu(-1)}}class IC{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Pu(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>yt.fromTimestamp(new Xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ut(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Sf(e).X((d,m)=>{const w=bf(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>re.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Sf(e).X((r,o)=>{const u=bf(o);t(u)})}$n(e){return pE(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}On(e,t){return pE(e).put("targetGlobalKey",t)}Fn(e,t){return Sf(e).put(WT(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Sf(e).X({range:o,index:"queryTargetsIndex"},(d,m,w)=>{const D=bf(m);Ao(t,D.target)&&(u=D,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Fu(e);return t.forEach(d=>{const m=Dr(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),re.waitFor(o)}removeMatchingKeys(e,t,r){const o=Fu(e);return re.forEach(t,u=>{const d=Dr(u.path);return re.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Fu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Fu(e);let u=qt();return o.X({range:r,Y:!0},(d,m,w)=>{const D=Wi(d[1]),M=new Qe(D);u=u.add(M)}).next(()=>u)}containsKey(e,t){const r=Dr(t.path),o=IDBKeyRange.bound([r],[UD(r)],!1,!0);let u=0;return Fu(e).X({index:"documentTargetsIndex",Y:!0,range:o},([d,m],w,D)=>{0!==d&&(u++,D.done())}).next(()=>u>0)}le(e,t){return Sf(e).get(t).next(r=>r?bf(r):null)}}function Sf(n){return Fr(n,"targets")}function pE(n){return Fr(n,"targetGlobal")}function Fu(n){return Fr(n,"targetDocuments")}function r1([n,e],[t,r]){const o=Nt(n,t);return 0===o?Nt(e,r):o}class TC{constructor(e){this.Ln=e,this.buffer=new Gn(r1),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();r1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ev{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ua(r)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wu(r)}yield t.Qn(3e5)}))}}class gE{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return re.resolve(er.ct);const r=new TC(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(e1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e1):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,d,m,w,D;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(D=Date.now(),ag()<=Ws.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${N} documents in `+(D-w)+`ms\nTotal Duration: ${D-M}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class _E{constructor(e,t){this.db=e,this.garbageCollector=function mE(n,e){return new gE(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return tv(e,r)}removeReference(e,t,r){return tv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tv(e,t)}Xn(e,t){return function(r,o){let u=!1;return fE(r).Z(d=>n1(r,d,o).next(m=>(m&&(u=!0),re.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(d,m)=>{if(m<=t){const w=this.Xn(e,d).next(D=>{if(!D)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,yt.min()),Fu(e).delete([0,Dr(d.path)])))});o.push(w)}}).next(()=>re.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tv(e,t)}Yn(e,t){const r=Fu(e);let o,u=er.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:D})=>{0===d?(u!==er.ct&&t(new Qe(Wi(o)),u),u=D,o=w):u=er.ct}).next(()=>{u!==er.ct&&t(new Qe(Wi(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tv(n,e){return Fu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Dr(e.path),sequenceNumber:r}));var r}class i1{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Uu(e).put(r)}removeEntry(e,t,r){return Uu(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ag(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Pn.newInvalidDocument(t);return Uu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Pn.newInvalidDocument(t)};return Uu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,u)=>{r={document:this.ts(t,u),size:Y_(u)}}).next(()=>r)}getEntries(e,t){let r=Ji();return this.ns(e,t,(o,u)=>{const d=this.ts(o,u);r=r.insert(o,d)}).next(()=>r)}ss(e,t){let r=Ji(),o=new Mn(Qe.comparator);return this.ns(e,t,(u,d)=>{const m=this.ts(u,d);r=r.insert(u,m),o=o.insert(u,Y_(d))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return re.resolve();let o=new Gn(nv);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(Og(o.first()),Og(o.last())),d=o.getIterator();let m=d.getNext();return Uu(e).X({index:"documentKeyIndex",range:u},(w,D,M)=>{const N=Qe.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&nv(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,D),m=d.hasNext()?d.getNext():null),m?M.G(Og(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),Ag(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uu(e).j(IDBKeyRange.bound(d,m,!0)).next(w=>{let D=Ji();for(const M of w){const N=this.ts(Qe.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);N.isFoundDocument()&&(wg(t,N)||o.has(N.key))&&(D=D.insert(N.key,N))}return D})}getAllFromCollectionGroup(e,t,r,o){let u=Ji();const d=bC(t,r),m=bC(t,Ss.max());return Uu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,D,M)=>{const N=this.ts(Qe.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(N.key,N),u.size===o&&M.done()}).next(()=>u)}newChangeBuffer(e){return new o1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pd(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}Zn(e,t){return pd(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function hC(n,e){let t;if(e.document)t=iE(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),o=Ru(e.noDocument.readTime);t=Pn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Qe.fromSegments(e.unknownDocument.path),o=Ru(e.unknownDocument.version);t=Pn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Xn(r[0],r[1]);return yt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Pn.newInvalidDocument(e)}}function s1(n){return new vE(n)}class o1 extends i1{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new fa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Gn((u,d)=>Nt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=zT(this.os.serializer,d);o=o.add(u.path.popLast());const D=Y_(w);r+=D-m.size,t.push(this.os.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=zT(this.os.serializer,d.convertToNoDocument(yt.min()));t.push(this.os.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),re.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,d)=>{this.us.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function pd(n){return Fr(n,"remoteDocumentGlobal")}function Uu(n){return Fr(n,"remoteDocumentsV14")}function Og(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bC(n,e){const t=e.documentKey.path.toArray();return[n,Ag(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nv(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Nt(t[u],r[u]),o)return o;return o=Nt(t.length,r.length),o||(o=Nt(t[t.length-2],r[r.length-2]),o||Nt(t[t.length-1],r[r.length-1]))}class yE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class a1{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&gf(r.mutation,o,fs.empty(),Xn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=ps();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=Ji();const d=Qi(),m=Qi();return t.forEach((w,D)=>{const M=r.get(D.key);o.has(D.key)&&(void 0===M||M.mutation instanceof Ic)?u=u.insert(D.key,D):void 0!==M?(d.set(D.key,M.mutation.getFieldMask()),gf(M.mutation,D,M.mutation.getFieldMask(),Xn.now())):d.set(D.key,fs.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((D,M)=>d.set(D,M)),t.forEach((D,M)=>{var N;return m.set(D,new yE(M,null!==(N=d.get(D))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Qi();let o=new Mn((d,m)=>d-m),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const D=t.get(w);if(null===D)return;let M=r.get(w)||fs.empty();M=m.applyToLocalView(D,M),r.set(w,M);const N=(o.get(m.batchId)||qt()).add(w);o=o.insert(m.batchId,N)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),D=w.key,M=w.value,N=Mo();M.forEach(q=>{if(!u.has(q)){const Y=Z_(t.get(q),r.get(q));null!==Y&&N.set(q,Y),u=u.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,D,N))}return re.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):P_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):re.resolve(pa());let m=-1,w=u;return d.next(D=>re.forEach(D,(M,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(M)?re.resolve():this.remoteDocumentCache.getEntry(e,M).next(q=>{w=w.insert(M,q)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,w,D,qt())).next(M=>({batchId:m,changes:IT(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let o=ps();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=ps();return this.indexManager.getCollectionParents(e,o).next(d=>re.forEach(d,m=>{const w=(D=t,M=m.child(o),new Mu(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,M;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(D=>{D.forEach((M,N)=>{u=u.insert(M,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,w)=>{const D=w.getKey();null===u.get(D)&&(u=u.insert(D,Pn.newInvalidDocument(D)))});let d=ps();return u.forEach((m,w)=>{const D=o.get(m);void 0!==D&&gf(D.mutation,w,fs.empty(),Xn.now()),wg(t,w)&&(d=d.insert(m,w))}),d})}}class c1{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return re.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Mr(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aE(r.bundledQuery),readTime:Mr(r.readTime)}),re.resolve();var r}}class u1{constructor(){this.overlays=new Mn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pa();return re.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=pa(),u=t.length+1,d=new Qe(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,D=w.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Mn((D,M)=>D-M);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let M=u.get(D.largestBatchId);null===M&&(M=pa(),u=u.insert(D.largestBatchId,M)),M.set(D.getKey(),D)}}const m=pa(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((D,M)=>m.set(D,M)),!(m.size()>=o)););return re.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new W0(t,r));let u=this.ls.get(t);void 0===u&&(u=qt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class EE{constructor(){this.fs=new Gn(jr.ds),this.ws=new Gn(jr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new jr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new jr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new on([])),r=new jr(t,e),o=new jr(t,e+1),u=[];return this.ws.forEachInRange([r,o],d=>{this.ys(d),u.push(d.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new on([])),r=new jr(t,e),o=new jr(t,e+1);let u=qt();return this.ws.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new jr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Nt(e.As,t.As)}static _s(e,t){return Nt(e.As,t.As)||Qe.comparator(e.key,t.key)}}class wE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gn(jr.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const d=new $0(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Rs=this.Rs.add(new jr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,t){return re.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jr(t,0),o=new jr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],d=>{const m=this.Ps(d.As);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Nt);return t.forEach(o=>{const u=new jr(o,0),d=new jr(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,d],m=>{r=r.add(m.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const d=new jr(new Qe(u),0);let m=new Gn(Nt);return this.Rs.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(w.As)),!0)},d),re.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){ut(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(t.mutations,o=>{const u=new jr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new jr(t,0),o=this.Rs.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class l1{constructor(e){this.Ds=e,this.docs=new Mn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Ji();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Pn.newInvalidDocument(o))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Ji();const d=t.path,m=new Qe(d.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:D,value:{document:M}}=w.getNext();if(!d.isPrefixOf(D.path))break;D.path.length>d.length+1||g0(YI(M),r)<=0||(o.has(M.key)||wg(t,M))&&(u=u.insert(M.key,M.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,t,r,o){st()}Cs(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d1(this)}getSize(e){return re.resolve(this.size)}}class d1 extends i1{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class h1{constructor(e){this.persistence=e,this.xs=new fa(t=>wc(t),Ao),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new EE,this.targetCount=0,this.Ms=Pu.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),re.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Fn(t),re.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ks.containsKey(t))}}class rv{constructor(e,t){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new h1(this),this.indexManager=new EC,this.remoteDocumentCache=new l1(r=>this.referenceDelegate.Ls(r)),this.serializer=new $T(t),this.qs=new c1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new wE(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new DC(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class DC extends _0{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Qs=new EE,this.js=null}static zs(e){return new iv(e)}get Ws(){if(this.js)return this.js;throw st()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),re.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const o=Qe.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return re.or([()=>re.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class CC{constructor(e){this.serializer=e}O(e,t,r,o){const u=new v0("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",td,{unique:!0}),m.createObjectStore("documentMutations"),IE(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=re.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),IE(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",D)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").j().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",td,{unique:!0});const M=w.store("mutations"),N=D.map(q=>M.put(q));return re.waitFor(N)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ys(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(d=d.next(()=>this.Zs(u))),r<8&&o>=8&&(d=d.next(()=>this.ti(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.ei(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:OM});w.createIndex("collectionPathOverlayIndex",jD,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",GD,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:tT});w.createIndex("documentKeyIndex",nT),w.createIndex("collectionGroupIndex",rT)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.si(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:cT}).createIndex("sequenceNumberIndex",y0,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:qD}).createIndex("documentKeyIndex",RM,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=Y_(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>re.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>re.forEach(m,w=>{ut(w.userId===u.userId);const D=hd(this.serializer,w);return t1(e,u.userId,D).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((d,m)=>{const w=new on(d),D=[0,Dr(w)];u.push(t.get(D).next(M=>M?re.resolve():t.put({targetId:0,path:Dr(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>re.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:aT});const r=t.store("collectionParents"),o=new Q_,u=d=>{if(o.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:Dr(w)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const w=new on(d);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,w],D)=>{const M=Wi(m);return u(M.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=bf(o),d=WT(this.serializer,u);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(D=d,D.document?new Qe(on.fromString(D.document.name).popFirst(5)):D.noDocument?Qe.fromSegments(D.noDocument.path):D.unknownDocument?Qe.fromSegments(D.unknownDocument.path):st()).path.toArray();var D;const M={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(M))}).next(()=>re.waitFor(o))}si(e,t){const r=t.store("mutations"),o=s1(this.serializer),u=new rv(iv.zs,this.serializer.fe);return r.j().next(d=>{const m=new Map;return d.forEach(w=>{var D;let M=null!==(D=m.get(w.userId))&&void 0!==D?D:qt();hd(this.serializer,w).keys().forEach(N=>M=M.add(N)),m.set(w.userId,M)}),re.forEach(m,(w,D)=>{const M=new Ln(D),N=z_.de(this.serializer,M),q=u.getIndexManager(M),Y=X_.de(M,this.serializer,q,u.referenceDelegate);return new a1(o,Y,N,q).recalculateAndSaveOverlaysForDocumentKeys(new E0(t,er.ct),w).next()})})}}function IE(n){n.createObjectStore("targetDocuments",{keyPath:sT}).createIndex("documentTargetsIndex",oT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iT,{unique:!0}),n.createObjectStore("targetGlobal")}const f1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ov{constructor(e,t,r,o,u,d,m,w,D,M,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=d,this.document=m,this.ri=D,this.oi=M,this.ui=N,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=q=>Promise.resolve(),!ov.D())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _E(this,o),this.di=t+"main",this.serializer=new $T(w),this.wi=new hs(this.di,this.ui,new CC(this.serializer)),this.Bs=new IC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=s1(this.serializer),this.qs=new UM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,f1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new er(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ge.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>av(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ua(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Lg(e).get("owner").next(t=>re.resolve(this.Ri(t)))}Pi(e){return av(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fr(r,"clientMetadata");return o.j().next(u=>{const d=e.Si(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return re.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):Lg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,f1);return!1}}return!(!this.networkEnabled||!this.inForeground)||av(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new E0(t,er.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>av(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return X_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new wC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return z_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.ui)?KD:14===d?uT:13===d?WD:12===d?zD:11===d?$D:void st();var d;let m;return this.wi.runTransaction(e,o,u,w=>(m=new E0(w,this.Os?this.Os.next():er.ct),"readwrite-primary"===t?this.Ti(m).next(D=>!!D||this.Ei(m)).next(D=>{if(!D)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Te(ae.FAILED_PRECONDITION,m0);return r(m)}).next(D=>this.vi(m).next(()=>D)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return Lg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,f1)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lg(e).put("owner",t)}static D(){return hs.D()}Ai(e){const t=Lg(e);return t.get("owner").next(r=>this.Ri(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(br(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,rn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lg(n){return Fr(n,"owner")}function av(n){return Fr(n,"clientMetadata")}function p1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=qt(),o=qt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new TE(e,t.fromCache,r,o)}}class g1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(L0(t))return re.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=U_(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=qt(...u);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const D=this.ji(t,m);return this.zi(t,D,d,w.readTime)?this.Ki(e,U_(t,null,"F")):this.Wi(e,D,t,w)}))})))}Gi(e,t,r,o){return L0(t)||o.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const d=this.ji(t,u);return this.zi(t,d,r,o)?this.Qi(e,t):(ag()<=Ws.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Su(t)),this.Wi(e,d,t,QI(o,-1)))})}ji(e,t){let r=new Gn(U0(e));return t.forEach((o,u)=>{wg(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return ag()<=Ws.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Su(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ss.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class AC{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new Mn(Nt),this.Yi=new fa(u=>wc(u),Ao),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function m1(n,e,t,r){return new AC(n,e,t,r)}function _1(n,e){return bE.apply(this,arguments)}function bE(){return bE=(0,ge.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=qt();for(const D of o){d.push(D.batchId);for(const M of D.mutations)w=w.add(M.key)}for(const D of u){m.push(D.batchId);for(const M of D.mutations)w=w.add(M.key)}return t.localDocuments.getDocuments(r,w).next(D=>({er:D,removedBatchIds:d,addedBatchIds:m}))})})}),bE.apply(this,arguments)}function v1(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function y1(n,e,t){let r=qt(),o=qt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Ji();return t.forEach((m,w)=>{const D=u.get(m);w.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(yt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!D.isValidDocument()||w.version.compareTo(D.version)>0||0===w.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):Oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",w.version)}),{nr:d,sr:o}})}function xC(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xf(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,re.resolve(o)):t.Bs.allocateTargetId(r).next(d=>(o=new xs(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function va(n,e,t){return cv.apply(this,arguments)}function cv(){return cv=(0,ge.Z)(function*(n,e,t){const r=Ke(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ua(d))throw d;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),cv.apply(this,arguments)}function Pg(n,e,t){const r=Ke(n);let o=yt.min(),u=qt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,D){const M=Ke(m),N=M.Yi.get(D);return void 0!==N?re.resolve(M.Ji.get(N)):M.Bs.getTargetData(w,D)}(r,d,Ki(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?o:yt.min(),t?u:qt())).next(m=>(AE(r,wT(e),m),{documents:m,ir:u})))}function DE(n,e){const t=Ke(n),r=Ke(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(d=>d?d.target:null))}function CE(n,e){const t=Ke(n),r=t.Xi.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,QI(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(AE(t,e,o),o))}function AE(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function ME(){return ME=(0,ge.Z)(function*(n,e,t,r){const o=Ke(n);let u=qt(),d=Ji();for(const D of t){const M=e.rr(D.metadata.name);D.document&&(u=u.add(M));const N=e.ur(D);N.setReadTime(e.cr(D.metadata.readTime)),d=d.insert(M,N)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),w=yield xf(o,(D=r,Ki(df(on.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>y1(D,m,d).next(M=>(m.apply(D),M)).next(M=>o.Bs.removeMatchingKeysForTargetId(D,w.targetId).next(()=>o.Bs.addMatchingKeys(D,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(D,M.nr,M.sr)).next(()=>M.nr)))}),ME.apply(this,arguments)}function VM(n,e){return SE.apply(this,arguments)}function SE(){return SE=(0,ge.Z)(function*(n,e,t=qt()){const r=yield xf(n,Ki(aE(e.bundledQuery))),o=Ke(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Mr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.qs.saveNamedQuery(u,e);const m=r.withResumeToken(Cr.EMPTY_BYTE_STRING,d);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(u,m).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),SE.apply(this,arguments)}function E1(n,e){return`firestore_clients_${n}_${e}`}function w1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xE(n,e){return`firestore_targets_${n}_${e}`}class uv{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Te(o.error.code,o.error.message))),d?new uv(e,t,o.state,u):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Te(r.error.code,r.error.message))),u?new Dc(e,r.state,o):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=V0();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Xl(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new lv(e,u):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fg(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ys{constructor(){this.activeTargetIds=V0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kE{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Mn(Nt),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=E1(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Ys),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(E1(e.persistenceKey,o));if(u){const d=lv.ar(o,u);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xE(this.persistenceKey,e));if(r){const o=Dc.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xE(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let d=er.ct;if(null!=u)try{const m=JSON.parse(u);ut("number"==typeof m),d=m}catch(m){br("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==er.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new uv(this.currentUser,e,t,r),u=w1(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=w1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=xE(this.persistenceKey,e),u=new Dc(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return lv.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return uv.ar(new Ln(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Dc.ar(o,t)}br(e){return Fg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),d=[],m=[];return u.forEach(w=>{o.has(w)||d.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=V0();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class dv{constructor(){this.Hr=new Ys,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ys,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ug{Yr(e){}shutdown(){}}class I1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hv=null;function NE(){return null===hv?hv=268435456+Math.round(2147483648*Math.random()):hv++,"0x"+hv.toString(16)}const fv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Li="WebChannelConnection";class NC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const d=NE(),m=this.To(e,t);Oe("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const w={};return this.Eo(w,o,u),this.Ao(e,m,w,r).then(D=>(Oe("RestConnection",`Received RPC '${e}' ${d}: `,D),D),D=>{throw bo("RestConnection",`RPC '${e}' ${d} failed with error: `,D,"url: ",m,"request:",r),D})}vo(e,t,r,o,u,d){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${fv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=NE();return new Promise((d,m)=>{const w=new GI;w.setWithCredentials(!0),w.listenOnce(jI.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case y_.NO_ERROR:const M=w.getResponseJson();Oe(Li,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(M)),d(M);break;case y_.TIMEOUT:Oe(Li,`RPC '${e}' ${u} timed out`),m(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case y_.HTTP_ERROR:const N=w.getStatus();if(Oe(Li,`RPC '${e}' ${u} failed with status:`,N,"response text:",w.getResponseText()),N>0){let q=w.getResponseJson();Array.isArray(q)&&(q=q[0]);const Y=q?.error;if(Y&&Y.status&&Y.message){const me=function(Le){const Fe=Le.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Fe)>=0?Fe:ae.UNKNOWN}(Y.status);m(new Te(me,Y.message))}else m(new Te(ae.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe(Li,`RPC '${e}' ${u} completed.`)}});const D=JSON.stringify(o);Oe(Li,`RPC '${e}' ${u} sending request:`,o),w.send(t,"POST",D,r,15)})}Ro(e,t,r){const o=NE(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qI(),m=kD(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(w.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(w.xmlHttpFactory=new NM({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const M=u.join("");Oe(Li,`Creating RPC '${e}' stream ${o}: ${M}`,w);const N=d.createWebChannel(M,w);let q=!1,Y=!1;const me=new T1({ro:Fe=>{Y?Oe(Li,`Not sending because RPC '${e}' stream ${o} is closed:`,Fe):(q||(Oe(Li,`Opening RPC '${e}' stream ${o} transport.`),N.open(),q=!0),Oe(Li,`RPC '${e}' stream ${o} sending:`,Fe),N.send(Fe))},oo:()=>N.close()}),Le=(Fe,dt,xt)=>{Fe.listen(dt,It=>{try{xt(It)}catch(kt){setTimeout(()=>{throw kt},0)}})};return Le(N,og.EventType.OPEN,()=>{Y||Oe(Li,`RPC '${e}' stream ${o} transport opened.`)}),Le(N,og.EventType.CLOSE,()=>{Y||(Y=!0,Oe(Li,`RPC '${e}' stream ${o} transport closed`),me.wo())}),Le(N,og.EventType.ERROR,Fe=>{Y||(Y=!0,bo(Li,`RPC '${e}' stream ${o} transport errored:`,Fe),me.wo(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),Le(N,og.EventType.MESSAGE,Fe=>{var dt;if(!Y){const xt=Fe.data[0];ut(!!xt);const kt=xt.error||(null===(dt=xt[0])||void 0===dt?void 0:dt.error);if(kt){Oe(Li,`RPC '${e}' stream ${o} received error:`,kt);const Zt=kt.status;let nn=function(Hu){const Ww=Ur[Hu];if(void 0!==Ww)return LT(Ww)}(Zt),vi=kt.message;void 0===nn&&(nn=ae.INTERNAL,vi="Unknown error status: "+Zt+" with message "+kt.message),Y=!0,me.wo(new Te(nn,vi)),N.close()}else Oe(Li,`RPC '${e}' stream ${o} received:`,xt),me._o(xt)}}),Le(m,E_.STAT_EVENT,Fe=>{Fe.stat===w_.PROXY?Oe(Li,`RPC '${e}' stream ${o} detected buffering proxy`):Fe.stat===w_.NOPROXY&&Oe(Li,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{me.fo()},0),me}}function pv(){return typeof window<"u"?window:null}function gv(){return typeof document<"u"?document:null}function Vg(n){return new FM(n,!0)}class mv{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class b1{constructor(e,t,r,o,u,d,m,w){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mv(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Te(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RC extends b1{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ZT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:st(),o=e.targetChange.targetIds||[],u=function(w,D){return w.useProto3Json?(ut(void 0===D||"string"==typeof D),Cr.fromBase64String(D||"")):(ut(void 0===D||D instanceof Uint8Array),Cr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const D=void 0===w.code?ae.UNKNOWN:LT(w.code);return new Te(D,w.message||"")}(d);t=new X0(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=_a(n,r.document.name),u=Mr(r.document.updateTime),d=r.document.createTime?Mr(r.document.createTime):yt.min(),m=new gi({mapValue:{fields:r.document.fields}}),w=Pn.newFoundDocument(o,u,d,m);t=new bg(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,o=_a(n,r.document),u=r.readTime?Mr(r.readTime):yt.min(),d=Pn.newNoDocument(o,u);t=new bg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=_a(n,r.document);t=new bg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return st();{const r=e.filter,{count:o=0,unchangedNames:u}=r,d=new sC(o,u);t=new Y0(r.targetId,d)}}var w;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return yt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?Mr(u.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Fn(this.serializer),t.addTarget=function(o,u){let d;const m=u.target;if(d=lf(m)?{documents:qT(o,m)}:{query:sE(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=oC(o,u.resumeToken);const w=j_(o,u.expectedCount);null!==w&&(d.expectedCount=w)}else if(u.snapshotVersion.compareTo(yt.min())>0){d.readTime=ld(o,u.snapshotVersion.toTimestamp());const w=j_(o,u.expectedCount);null!==w&&(d.expectedCount=w)}return d}(this.serializer,e);const r=function Cg(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Fn(this.serializer),t.removeTarget=e,this.Wo(t)}}class D1 extends b1{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function HT(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,o){let u=Mr(r.updateTime?r.updateTime:o);return u.isEqual(yt.min())&&(u=Mr(o)),new q0(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.cu(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>If(this.serializer,r))};this.Wo(t)}}class _v extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ae.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.vo(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ae.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class C1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(br(t),this.mu=!1):Oe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class A1{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var w;ya(d)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ge.Z)(function*(D){const M=Ke(D);M.vu.add(4),yield kf(M),M.bu.set("Unknown"),M.vu.delete(4),yield gd(M)}),function(D){return w.apply(this,arguments)})(d))}))}),this.bu=new C1(r,o)}}function gd(n){return vv.apply(this,arguments)}function vv(){return vv=(0,ge.Z)(function*(n){if(ya(n))for(const e of n.Ru)yield e(!0)}),vv.apply(this,arguments)}function kf(n){return yv.apply(this,arguments)}function yv(){return yv=(0,ge.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),yv.apply(this,arguments)}function Bg(n,e){const t=Ke(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),wv(t)?Hg(t):Rf(t).Ko()&&OE(t,e))}function Zg(n,e){const t=Ke(n),r=Rf(t);t.Au.delete(e),r.Ko()&&Ev(t,e),0===t.Au.size&&(r.Ko()?r.jo():ya(t)&&t.bu.set("Unknown"))}function OE(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rf(n).su(e)}function Ev(n,e){n.Vu.qt(e),Rf(n).iu(e)}function Hg(n){n.Vu=new ud({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Rf(n).start(),n.bu.gu()}function wv(n){return ya(n)&&!Rf(n).Uo()&&n.Au.size>0}function ya(n){return 0===Ke(n).vu.size}function Iv(n){n.Vu=void 0}function LC(n){return LE.apply(this,arguments)}function LE(){return LE=(0,ge.Z)(function*(n){n.Au.forEach((e,t)=>{OE(n,e)})}),LE.apply(this,arguments)}function PC(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,ge.Z)(function*(n,e){Iv(n),wv(n)?(n.bu.Iu(e),Hg(n)):n.bu.set("Unknown")}),PE.apply(this,arguments)}function M1(n,e,t){return qg.apply(this,arguments)}function qg(){return qg=(0,ge.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof X0&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jg(n,r)}else if(e instanceof bg?n.Vu.Ht(e):e instanceof Y0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield v1(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.Vu.ce(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.Au.get(w);D&&o.Au.set(w,D.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,w)=>{const D=o.Au.get(m);if(!D)return;o.Au.set(m,D.withResumeToken(Cr.EMPTY_BYTE_STRING,D.snapshotVersion)),Ev(o,m);const M=new xs(D.target,m,w,D.sequenceNumber);OE(o,M)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield jg(n,r)}var r}),qg.apply(this,arguments)}function jg(n,e,t){return FE.apply(this,arguments)}function FE(){return FE=(0,ge.Z)(function*(n,e,t){if(!ua(e))throw e;n.vu.add(1),yield kf(n),n.bu.set("Offline"),t||(t=()=>v1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield gd(n)}))}),FE.apply(this,arguments)}function UE(n,e){return e().catch(t=>jg(n,t,e))}function md(n){return VE.apply(this,arguments)}function VE(){return VE=(0,ge.Z)(function*(n){const e=Ke(n),t=Cc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;S1(e);)try{const o=yield xC(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,x1(e,o)}catch(o){yield jg(e,o)}k1(e)&&BE(e)}),VE.apply(this,arguments)}function S1(n){return ya(n)&&n.Eu.length<10}function x1(n,e){n.Eu.push(e);const t=Cc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function k1(n){return ya(n)&&!Cc(n).Uo()&&n.Eu.length>0}function BE(n){Cc(n).start()}function FC(n){return mi.apply(this,arguments)}function mi(){return mi=(0,ge.Z)(function*(n){Cc(n).hu()}),mi.apply(this,arguments)}function Nf(n){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,ge.Z)(function*(n){const e=Cc(n);for(const t of n.Eu)e.uu(t.mutations)}),ZE.apply(this,arguments)}function UC(n,e,t){return N1.apply(this,arguments)}function N1(){return N1=(0,ge.Z)(function*(n,e,t){const r=n.Eu.shift(),o=z0.from(r,e,t);yield UE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield md(n)}),N1.apply(this,arguments)}function BM(n,e){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,ge.Z)(function*(n,e){var t;e&&Cc(n).ou&&(yield(t=(0,ge.Z)(function*(r,o){if(OT(u=o.code)&&u!==ae.ABORTED){const d=r.Eu.shift();Cc(r).Qo(),yield UE(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield md(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),k1(n)&&BE(n)}),Tv.apply(this,arguments)}function bv(n,e){return _d.apply(this,arguments)}function _d(){return _d=(0,ge.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=ya(t);t.vu.add(3),yield kf(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield gd(t)}),_d.apply(this,arguments)}function HE(n,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ge.Z)(function*(n,e){const t=Ke(n);e?(t.vu.delete(2),yield gd(t)):e||(t.vu.add(2),yield kf(t),t.bu.set("Unknown"))}),Gg.apply(this,arguments)}function Rf(n){return n.Su||(n.Su=function(e,t,r){const o=Ke(e);return o.fu(),new RC(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:LC.bind(null,n),ao:PC.bind(null,n),nu:M1.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Su.Qo(),wv(n)?Hg(n):n.bu.set("Unknown")):(yield n.Su.stop(),Iv(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cc(n){return n.Du||(n.Du=function(e,t,r){const o=Ke(e);return o.fu(),new D1(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:FC.bind(null,n),ao:BM.bind(null,n),au:Nf.bind(null,n),cu:UC.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Du.Qo(),yield md(n)):(yield n.Du.stop(),n.Eu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class qE{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new qE(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(n,e){if(br("AsyncQueue",`${e}: ${n}`),ua(n))return new Te(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Lf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=ps(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new Lf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Dv{constructor(){this.Cu=new Mn(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):st():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class vd{constructor(e,t,r,o,u,d,m,w,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new vd(e,t,Lf.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class VC{constructor(){this.Nu=void 0,this.listeners=[]}}class Cv{constructor(){this.queries=new fa(e=>F0(e),hf),this.onlineState="Unknown",this.ku=new Set}}function $g(n,e){return R1.apply(this,arguments)}function R1(){return R1=(0,ge.Z)(function*(n,e){const t=Ke(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new VC),o)try{u.Nu=yield t.onListen(r)}catch(d){const m=Of(d,`Initialization of query '${Su(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&GE(t)}),R1.apply(this,arguments)}function Av(n,e){return jE.apply(this,arguments)}function jE(){return jE=(0,ge.Z)(function*(n,e){const t=Ke(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),jE.apply(this,arguments)}function O1(n,e){const t=Ke(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.$u(o)&&(r=!0);d.Nu=o}}r&&GE(t)}function Pf(n,e,t){const r=Ke(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function GE(n){n.ku.forEach(e=>{e.next()})}class Mv{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new vd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class $E{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class BC{constructor(e){this.serializer=e}rr(e){return _a(this.serializer,e)}ur(e){return e.metadata.exists?iE(this.serializer,e.document,!1):Pn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Mr(e)}}class ZC{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HC(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=on.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new BC(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||qt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function kC(n,e,t,r){return ME.apply(this,arguments)}(e.localStore,new BC(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield VM(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function HC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class L1{constructor(e){this.key=e}}class P1{constructor(e){this.key=e}}class F1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qt(),this.mutatedKeys=qt(),this.tc=U0(e),this.ec=new Lf(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Dv,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,N)=>{const q=o.get(M),Y=wg(this.query,N)?N:null,me=!!q&&this.mutatedKeys.has(q.key),Le=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Fe=!1;q&&Y?q.data.isEqual(Y.data)?me!==Le&&(r.track({type:3,doc:Y}),Fe=!0):this.rc(q,Y)||(r.track({type:2,doc:Y}),Fe=!0,(w&&this.tc(Y,w)>0||D&&this.tc(Y,D)<0)&&(m=!0)):!q&&Y?(r.track({type:0,doc:Y}),Fe=!0):q&&!Y&&(r.track({type:1,doc:q}),Fe=!0,(w||D)&&(m=!0)),Fe&&(Y?(d=d.add(Y),u=Le?u.add(M):u.delete(M)):(d=d.delete(M),u=u.delete(M)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const M="F"===this.query.limitType?d.last():d.first();d=d.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{ec:d,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((D,M)=>function(N,q){const Y=me=>{switch(me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return Y(N)-Y(q)}(D.type,M.type)||this.tc(D.doc,M.doc)),this.oc(r);const d=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==u.length||w?{snapshot:new vd(this.query,e.ec,o,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Dv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new P1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new L1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class U1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class V1{constructor(e){this.key=e,this.fc=!1}}class qC{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new fa(m=>F0(m),hf),this._c=new Map,this.mc=new Set,this.gc=new Mn(Qe.comparator),this.yc=new Map,this.Ic=new EE,this.Tc={},this.Ec=new Map,this.Ac=Pu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function B1(n,e){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,ge.Z)(function*(n,e){const t=_i(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const d=yield xf(t.localStore,Ki(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield zE(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&Bg(t.remoteStore,d)}return o}),Sv.apply(this,arguments)}function zE(n,e,t,r,o){return WE.apply(this,arguments)}function WE(){return WE=(0,ge.Z)(function*(n,e,t,r,o){n.Rc=(N,q,Y)=>{return(me=(0,ge.Z)(function*(Le,Fe,dt,xt){let It=Fe.view.sc(dt);It.zi&&(It=yield Pg(Le.localStore,Fe.query,!1).then(({documents:nn})=>Fe.view.sc(nn,It)));const kt=xt&&xt.targetChanges.get(Fe.targetId),Zt=Fe.view.applyChanges(It,Le.isPrimaryClient,kt);return Nv(Le,Fe.targetId,Zt.cc),Zt.snapshot}),function(Le,Fe,dt,xt){return me.apply(this,arguments)})(n,N,q,Y);var me};const u=yield Pg(n.localStore,e,!0),d=new F1(e,u.ir),m=d.sc(u.documents),w=yf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),D=d.applyChanges(m,n.isPrimaryClient,w);Nv(n,t,D.cc);const M=new U1(e,t,d);return n.wc.set(e,M),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),WE.apply(this,arguments)}function Z1(n,e){return KE.apply(this,arguments)}function KE(){return KE=(0,ge.Z)(function*(n,e){const t=Ke(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!hf(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield va(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zg(t.remoteStore,r.targetId),zg(t,r.targetId)}).catch(wu))):(zg(t,r.targetId),yield va(t.localStore,r.targetId,!0))}),KE.apply(this,arguments)}function xv(){return xv=(0,ge.Z)(function*(n,e,t){const r=tw(n);try{const o=yield function(u,d){const m=Ke(u),w=Xn.now(),D=d.reduce((q,Y)=>q.add(Y.key),qt());let M,N;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Y=Ji(),me=qt();return m.Zi.getEntries(q,D).next(Le=>{Y=Le,Y.forEach((Fe,dt)=>{dt.isValidDocument()||(me=me.add(Fe))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,Y)).next(Le=>{M=Le;const Fe=[];for(const dt of d){const xt=xT(dt,M.get(dt.key).overlayedDocument);null!=xt&&Fe.push(new Ic(dt.key,xt,pT(xt.value.mapValue),Sn.exists(!0)))}return m.mutationQueue.addMutationBatch(q,w,Fe,d)}).next(Le=>{N=Le;const Fe=Le.applyToLocalDocumentSet(M,me);return m.documentOverlayCache.saveOverlays(q,Le.batchId,Fe)})}).then(()=>({batchId:N.batchId,changes:IT(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let w=u.Tc[u.currentUser.toKey()];w||(w=new Mn(Nt)),w=w.insert(d,m),u.Tc[u.currentUser.toKey()]=w}(r,o.batchId,t),yield Ac(r,o.changes),yield md(r.remoteStore)}catch(o){const u=Of(o,"Failed to persist write");t.reject(u)}}),xv.apply(this,arguments)}function JE(n,e){return kv.apply(this,arguments)}function kv(){return kv=(0,ge.Z)(function*(n,e){const t=Ke(n);try{const r=yield function SC(n,e){const t=Ke(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((M,N)=>{const q=o.get(N);if(!q)return;m.push(t.Bs.removeMatchingKeys(u,M.removedDocuments,N).next(()=>t.Bs.addMatchingKeys(u,M.addedDocuments,N)));let Y=q.withSequenceNumber(u.currentSequenceNumber);var me,Le,Fe;null!==e.targetMismatches.get(N)?Y=Y.withResumeToken(Cr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):M.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(M.resumeToken,r)),o=o.insert(N,Y),Le=Y,Fe=M,(0===(me=q).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-me.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,Y))});let w=Ji(),D=qt();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,M))}),m.push(y1(u,d,e.documentUpdates).next(M=>{w=M.nr,D=M.sr})),!r.isEqual(yt.min())){const M=t.Bs.getLastRemoteSnapshotVersion(u).next(N=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(M)}return re.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,D)).next(()=>w)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.yc.get(u);d&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.fc=!0:o.modifiedDocuments.size>0?ut(d.fc):o.removedDocuments.size>0&&(ut(d.fc),d.fc=!1))}),yield Ac(t,r,e)}catch(r){yield wu(r)}}),kv.apply(this,arguments)}function q1(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,d)=>{const m=d.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=Ke(u);m.onlineState=d;let w=!1;m.queries.forEach((D,M)=>{for(const N of M.listeners)N.Mu(d)&&(w=!0)}),w&&GE(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jC(n,e,t){return j1.apply(this,arguments)}function j1(){return j1=(0,ge.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let d=new Mn(Qe.comparator);d=d.insert(u,Pn.newNoDocument(u,yt.min()));const m=qt().add(u),w=new vf(yt.min(),new Map,new Mn(Nt),d,m);yield JE(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),Rv(r)}else yield va(r.localStore,e,!1).then(()=>zg(r,e,t)).catch(wu)}),j1.apply(this,arguments)}function G1(n,e){return $1.apply(this,arguments)}function $1(){return $1=(0,ge.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const o=yield function MC(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,D){const M=w.batch,N=M.keys();let q=re.resolve();return N.forEach(Y=>{q=q.next(()=>D.getEntry(m,Y)).next(me=>{const Le=w.docVersions.get(Y);ut(null!==Le),me.version.compareTo(Le)<0&&(M.applyToRemoteDocument(me,w),me.isValidDocument()&&(me.setReadTime(w.commitVersion),D.addEntry(me)))})}),q.next(()=>d.mutationQueue.removeMutationBatch(m,M))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=qt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);J1(t,r,null),K1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ac(t,o)}catch(o){yield wu(o)}}),$1.apply(this,arguments)}function ZM(n,e,t){return z1.apply(this,arguments)}function z1(){return z1=(0,ge.Z)(function*(n,e,t){const r=Ke(n);try{const o=yield function(u,d){const m=Ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return m.mutationQueue.lookupMutationBatch(w,d).next(M=>(ut(null!==M),D=M.keys(),m.mutationQueue.removeMutationBatch(w,M))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,D,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,D)).next(()=>m.localDocuments.getDocuments(w,D))})}(r.localStore,e);J1(r,e,t),K1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ac(r,o)}catch(o){yield wu(o)}}),z1.apply(this,arguments)}function W1(){return W1=(0,ge.Z)(function*(n,e){const t=Ke(n);ya(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ke(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Of(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),W1.apply(this,arguments)}function K1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function J1(n,e,t){const r=Ke(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function zg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||GC(n,r)})}function GC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Rv(n))}function Nv(n,e,t){for(const r of t)r instanceof L1?(n.Ic.addReference(r.key,e),QE(n,r)):r instanceof P1?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||GC(n,r.key)):st()}function QE(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.mc.add(r),Rv(n))}function Rv(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(on.fromString(e)),r=n.Ac.next();n.yc.set(r,new V1(t)),n.gc=n.gc.insert(t,r),Bg(n.remoteStore,new xs(Ki(df(t.path)),r,"TargetPurposeLimboResolution",er.ct))}}function Ac(n,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ge.Z)(function*(n,e,t){const r=Ke(n),o=[],u=[],d=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{d.push(r.Rc(w,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D?.fromCache?"not-current":"current"),D){o.push(D);const M=TE.Li(w.targetId,D);u.push(M)}}))}),yield Promise.all(d),r.dc.nu(o),yield(m=(0,ge.Z)(function*(w,D){const M=Ke(w);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>re.forEach(D,q=>re.forEach(q.Fi,Y=>M.persistence.referenceDelegate.addReference(N,q.targetId,Y)).next(()=>re.forEach(q.Bi,Y=>M.persistence.referenceDelegate.removeReference(N,q.targetId,Y)))))}catch(N){if(!ua(N))throw N;Oe("LocalStore","Failed to update sequence numbers: "+N)}for(const N of D){const q=N.targetId;if(!N.fromCache){const Y=M.Ji.get(q),Le=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);M.Ji=M.Ji.insert(q,Le)}}}),function(w,D){return m.apply(this,arguments)})(r.localStore,u))}),Ff.apply(this,arguments)}function $C(n,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,ge.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield _1(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(d=>{d.forEach(m=>{m.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(t,r.er)}var o}),Q1.apply(this,arguments)}function qM(n,e){const t=Ke(n),r=t.yc.get(e);if(r&&r.fc)return qt().add(r.key);{let o=qt();const u=t._c.get(e);if(!u)return o;for(const d of u){const m=t.wc.get(d);o=o.unionWith(m.view.nc)}return o}}function jM(n,e){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,ge.Z)(function*(n,e){const t=Ke(n),r=yield Pg(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&Nv(t,e.targetId,o.cc),o}),Ov.apply(this,arguments)}function zC(n,e){return YE.apply(this,arguments)}function YE(){return YE=(0,ge.Z)(function*(n,e){const t=Ke(n);return CE(t.localStore,e).then(r=>Ac(t,r))}),YE.apply(this,arguments)}function WC(n,e,t,r){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ge.Z)(function*(n,e,t,r){const o=Ke(n),u=yield function(d,m){const w=Ke(d),D=Ke(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",M=>D.Sn(M,m).next(N=>N?w.localDocuments.getDocuments(M,N):re.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield md(o.remoteStore):"acknowledged"===t||"rejected"===t?(J1(o,e,r||null),K1(o,e),m=e,Ke(Ke(o.localStore).mutationQueue).Cn(m)):st(),yield Ac(o,u)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Y1.apply(this,arguments)}function Lv(){return Lv=(0,ge.Z)(function*(n,e){const t=Ke(n);if(_i(t),tw(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield XE(t,r.toArray());t.vc=!0,yield HE(t.remoteStore,!0);for(const u of o)Bg(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(zg(t,d),va(t.localStore,d,!0))),Zg(t.remoteStore,d)}),yield o,yield XE(t,r),function(u){const d=Ke(u);d.yc.forEach((m,w)=>{Zg(d.remoteStore,w)}),d.Ic.Ts(),d.yc=new Map,d.gc=new Mn(Qe.comparator)}(t),t.vc=!1,yield HE(t.remoteStore,!1)}}),Lv.apply(this,arguments)}function XE(n,e,t){return X1.apply(this,arguments)}function X1(){return X1=(0,ge.Z)(function*(n,e,t){const r=Ke(n),o=[],u=[];for(const d of e){let m;const w=r._c.get(d);if(w&&0!==w.length){m=yield xf(r.localStore,Ki(w[0]));for(const D of w){const M=r.wc.get(D),N=yield jM(r,M);N.snapshot&&u.push(N.snapshot)}}else{const D=yield DE(r.localStore,d);m=yield xf(r.localStore,D),yield zE(r,Xs(D),d,!1,m.resumeToken)}o.push(m)}return r.dc.nu(u),o}),X1.apply(this,arguments)}function Xs(n){return ET(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JC(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).$i()}function ew(n,e,t,r){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,ge.Z)(function*(n,e,t,r){const o=Ke(n);if(o.vc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield CE(o.localStore,wT(u[0])),m=vf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cr.EMPTY_BYTE_STRING);yield Ac(o,d,m);break}case"rejected":yield va(o.localStore,e,!0),zg(o,e,r);break;default:st()}}),Pv.apply(this,arguments)}function QC(n,e,t){return eb.apply(this,arguments)}function eb(){return eb=(0,ge.Z)(function*(n,e,t){const r=_i(n);if(r.vc){for(const o of e){if(r._c.has(o)){Oe("SyncEngine","Adding an already active target "+o);continue}const u=yield DE(r.localStore,o),d=yield xf(r.localStore,u);yield zE(r,Xs(u),d.targetId,!1,d.resumeToken),Bg(r.remoteStore,d)}for(const o of t)r._c.has(o)&&(yield va(r.localStore,o,!1).then(()=>{Zg(r.remoteStore,o),zg(r,o)}).catch(wu))}}),eb.apply(this,arguments)}function _i(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jC.bind(null,e),e.dc.nu=O1.bind(null,e.eventManager),e.dc.Pc=Pf.bind(null,e.eventManager),e}function tw(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZM.bind(null,e),e}class Wg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=Vg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return m1(this.persistence,new g1,e.initialUser,this.serializer)}createPersistence(e){return new rv(iv.zs,this.serializer)}createSharedClientState(e){return new dv}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kg extends Wg{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield tw(r.Vc.syncEngine),yield md(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return m1(this.persistence,new g1,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ev(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new D_(t,this.persistence);return new Ql(e.asyncQueue,r)}createPersistence(e){const t=p1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Oi.withCacheSize(this.cacheSizeBytes):Oi.DEFAULT;return new ov(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pv(),gv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dv}}class rw extends Kg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof kE&&(r.sharedClientState.syncEngine={jr:WC.bind(null,o),zr:ew.bind(null,o),Wr:QC.bind(null,o),$i:JC.bind(null,o),Qr:zC.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,ge.Z)(function*(d){yield function KC(n,e){return Lv.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=pv();if(!kE.D(t))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=p1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class yd{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>q1(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=$C.bind(null,r.syncEngine),yield HE(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cv}createDatastore(e){const t=Vg(e.databaseInfo.databaseId),r=new NC(e.databaseInfo);return new _v(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>q1(this.syncEngine,m,0),d=I1.D()?new I1:new Ug,new A1(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,w,D){const M=new qC(r,o,u,d,m,w);return D&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=Ke(t);Oe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield kf(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tb(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nb{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new lr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new $E(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ge.Z)(function*(u,d){const m=Ke(u),w=Fn(m.serializer)+"/documents",D={documents:d.map(Y=>ma(m.serializer,Y))},M=yield m.vo("BatchGetDocuments",w,D,d.length),N=new Map;M.forEach(Y=>{const me=function cC(n,e){return"found"in e?function(t,r){ut(!!r.found);const o=_a(t,r.found.name),u=Mr(r.found.updateTime),d=r.found.createTime?Mr(r.found.createTime):yt.min(),m=new gi({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(o,u,d,m)}(n,e):"missing"in e?function(t,r){ut(!!r.missing),ut(!!r.readTime);const o=_a(t,r.missing),u=Mr(r.readTime);return Pn.newNoDocument(o,u)}(n,e):st()}(m.serializer,Y);N.set(me.key.toString(),me)});const q=[];return d.forEach(Y=>{const me=N.get(Y.toString());ut(!!me),q.push(me)}),q}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Qe.fromPath(o);e.mutations.push(new G0(u,e.precondition(u)))}),yield(r=(0,ge.Z)(function*(o,u){const d=Ke(o),m=Fn(d.serializer)+"/documents",w={writes:u.map(D=>If(d.serializer,D))};yield d.Io("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ib{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new mv(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const t=new rb(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Yl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!OT(t)}return!1}}class XC{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=JI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ge.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Oe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Of(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Qg(n,e){return iw.apply(this,arguments)}function iw(){return iw=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ge.Z)(function*(u){r.isEqual(u)||(yield _1(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iw.apply(this,arguments)}function Yg(n,e){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xg(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>bv(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>bv(e.remoteStore,u)),n._onlineComponents=e}),Ea.apply(this,arguments)}function sw(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Xg(n){return em.apply(this,arguments)}function em(){return em=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sw(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),yield Qg(n,new Wg)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield Qg(n,new Wg);return n._offlineComponents}),em.apply(this,arguments)}function Fv(n){return sb.apply(this,arguments)}function sb(){return sb=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yg(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield Yg(n,new yd))),n._onlineComponents}),sb.apply(this,arguments)}function ow(n){return Xg(n).then(e=>e.persistence)}function Uv(n){return Xg(n).then(e=>e.localStore)}function ob(n){return Fv(n).then(e=>e.remoteStore)}function aw(n){return Fv(n).then(e=>e.syncEngine)}function Ed(n){return cb.apply(this,arguments)}function cb(){return cb=(0,ge.Z)(function*(n){const e=yield Fv(n),t=e.eventManager;return t.onListen=B1.bind(null,e.syncEngine),t.onUnlisten=Z1.bind(null,e.syncEngine),t}),cb.apply(this,arguments)}function tA(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,u,d,m,w){const D=new Jg({next:N=>{u.enqueueAndForget(()=>Av(o,M));const q=N.docs.has(d);!q&&N.fromCache?w.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&m&&"server"===m.source?w.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(N)},error:N=>w.reject(N)}),M=new Mv(df(d.path),D,{includeMetadataChanges:!0,Ku:!0});return $g(o,M)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function uw(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,u,d,m,w){const D=new Jg({next:N=>{u.enqueueAndForget(()=>Av(o,M)),N.fromCache&&"server"===m.source?w.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(N)},error:N=>w.reject(N)}),M=new Mv(d,D,{includeMetadataChanges:!0,Ku:!0});return $g(o,M)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function wd(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const tm=new Map;function Vv(n,e,t){if(!t)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lw(n,e,t,r){if(!0===e&&!0===r)throw new Te(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pb(n){if(!Qe.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gb(n){if(Qe.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dw(n);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mb(n,e){if(e<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _b{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wd(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bv{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new RD;switch(t.type){case"firstParty":return new ug(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tm.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),tm.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ei{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class wa extends ei{constructor(e,t,r){super(e,t,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Qe(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function vb(n,e,...t){if(n=(0,rn.m9)(n),Vv("collection","path",e),n instanceof Bv){const r=on.fromString(e,...t);return gb(r),new wa(n,null,r)}{if(!(n instanceof tr||n instanceof wa))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return gb(r),new wa(n.firestore,null,r)}}function hw(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=JI.A()),Vv("doc","path",e),n instanceof Bv){const r=on.fromString(e,...t);return pb(r),new tr(n,null,new Qe(r))}{if(!(n instanceof tr||n instanceof wa))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return pb(r),new tr(n.firestore,n instanceof wa?n.converter:null,new Qe(r))}}function sA(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof tr||n instanceof wa)&&(e instanceof tr||e instanceof wa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yb(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof ei&&e instanceof ei&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}class GM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mv(this,"async_queue_retry"),this.Xc=()=>{const t=gv();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new lr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ua(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,br("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=qE.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&st()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Eb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class oA{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $n extends Bv{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new GM,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fw(this),this._firestoreClient.terminate()}}function xn(n){return n._firestoreClient||fw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fw(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dT(n._databaseId,m,n._persistenceKey,(D=o).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,wd(D.experimentalLongPollingOptions),D.useFetchStreams));var m,D;n._firestoreClient=new XC(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function wb(n,e,t){const r=new lr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield Qg(n,t),yield Yg(n,e),r.resolve()}catch(o){const u=o;if(!sw(u))throw u;bo("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function Tb(n){if(n._initialized||n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Cr.fromBase64String(e))}catch(t){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ia(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ta{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vu{constructor(e){this._methodName=e}}class qv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const lA=/^__.*__$/;class bb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ic(e,this.data,this.fieldMask,t,this.fieldTransforms):new cd(e,this.data,t,this.fieldTransforms)}}class jv{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ic(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class rm{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Yv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(dA(this.ca)&&lA.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vg(e)}ya(e,t,r,o=!1){return new rm({ca:e,methodName:t,ga:r,path:dr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(n){const e=n._freezeSettings(),t=Vg(n._databaseId);return new vw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gv(n,e,t,r,o,u={}){const d=n.ya(u.merge||u.mergeFields?2:0,e,t,o);Jv("Data must be an object, but it was:",d,r);const m=Kv(r,d);let w,D;if(u.merge)w=new fs(d.fieldMask),D=d.fieldTransforms;else if(u.mergeFields){const M=[];for(const N of u.mergeFields){const q=im(e,N,t);if(!d.contains(q))throw new Te(ae.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Iw(M,q)||M.push(q)}w=new fs(M),D=d.fieldTransforms.filter(N=>w.covers(N.field))}else w=null,D=d.fieldTransforms;return new bb(new gi(m),w,D)}class $v extends Vu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $v}}function hA(n,e,t){return new rm({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yw extends Vu{_toFieldTransform(e){return new Ig(e.path,new ff)}isEqual(e){return e instanceof yw}}class fA extends Vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hA(this,e,!0),r=this.pa.map(u=>Td(u,t)),o=new ku(r);return new Ig(e.path,o)}isEqual(e){return this===e}}class pA extends Vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hA(this,e,!0),r=this.pa.map(u=>Td(u,t)),o=new ga(r);return new Ig(e.path,o)}isEqual(e){return this===e}}class gA extends Vu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ad(e.serializer,B_(e.serializer,this.Ia));return new Ig(e.path,t)}isEqual(e){return this===e}}function zv(n,e,t,r){const o=n.ya(1,e,t);Jv("Data must be an object, but it was:",o,r);const u=[],d=gi.empty();da(r,(w,D)=>{const M=Qv(e,w,t);D=(0,rn.m9)(D);const N=o.da(M);if(D instanceof $v)u.push(M);else{const q=Td(D,N);null!=q&&(u.push(M),d.set(M,q))}});const m=new fs(u);return new jv(d,m,o.fieldTransforms)}function Wv(n,e,t,r,o,u){const d=n.ya(1,e,t),m=[im(e,r,t)],w=[o];if(u.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<u.length;q+=2)m.push(im(e,u[q])),w.push(u[q+1]);const D=[],M=gi.empty();for(let q=m.length-1;q>=0;--q)if(!Iw(D,m[q])){const Y=m[q];let me=w[q];me=(0,rn.m9)(me);const Le=d.da(Y);if(me instanceof $v)D.push(Y);else{const Fe=Td(me,Le);null!=Fe&&(D.push(Y),M.set(Y,Fe))}}const N=new fs(D);return new jv(M,N,d.fieldTransforms)}function mA(n,e,t,r=!1){return Td(t,n.ya(r?4:3,e))}function Td(n,e){if(Ew(n=(0,rn.m9)(n)))return Jv("Unsupported field value:",e,n),Kv(n,e);if(n instanceof Vu)return function(t,r){if(!dA(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Td(d,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return B_(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Xn.fromDate(t);return{timestampValue:ld(r.serializer,o)}}if(t instanceof Xn){const o=new Xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ld(r.serializer,o)}}if(t instanceof qv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ia)return{bytesValue:oC(r.serializer,t._byteString)};if(t instanceof tr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dw(t)}`)}(n,e)}function Kv(n,e){const t={};return gg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,(r,o)=>{const u=Td(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Ew(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof qv||n instanceof Ia||n instanceof tr||n instanceof Vu)}function Jv(n,e,t){if(!Ew(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dw(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function im(n,e,t){if((e=(0,rn.m9)(e))instanceof Ta)return e._internalPath;if("string"==typeof e)return Qv(n,e);throw Yv("Field path arguments must be of type string or ",n,!1,void 0,t)}const ww=new RegExp("[~\\*/\\[\\]]");function Qv(n,e,t){if(e.search(ww)>=0)throw Yv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ta(...e.split("."))._internalPath}catch{throw Yv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yv(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${o}`),w+=")"),new Te(ae.INVALID_ARGUMENT,m+n+w)}function Iw(n,e){return n.some(t=>t.isEqual(e))}class Uf{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KM extends Uf{data(){return super.data()}}function Xv(n,e){return"string"==typeof e?Qv(n,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}function sm(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Db{}class om extends Db{}function bd(n,e,...t){let r=[];e instanceof Db&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof am).length,d=o.filter(m=>m instanceof ey).length;if(u>1||u>0&&d>0)throw new Te(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class ey extends om{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ey(e,t,r)}_apply(e){const t=this._parse(e);return p(e._query,t),new ei(e.firestore,e.converter,F_(e._query,t))}_parse(e){const t=Id(e.firestore);return function(o,u,d,m,w,D,M){let N;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){h(M,D);const q=[];for(const Y of M)q.push(l(m,o,Y));N={arrayValue:{values:q}}}else N=l(m,o,M)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||h(M,D),N=mA(d,"where",M,"in"===D||"not-in"===D);return Xt.create(w,D,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class am extends Db{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new am(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const d=o.getFlattenedFilters();for(const m of d)p(u,m),u=F_(u,m)}(e._query,t),new ei(e.firestore,e.converter,F_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cb extends om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cb(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new id(o,u);return function(m,w){if(null===P0(m)){const D=hr(m);null!==D&&_(0,D,w.field)}}(r,d),d}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Mu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Tw extends om{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Tw(e,t,r)}_apply(e){return new ei(e.firestore,e.converter,U_(e._query,this._limit,this._limitType))}}class bw extends om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bw(e,t,r)}_apply(e){const t=c(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new Mu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Dw extends om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Dw(e,t,r)}_apply(e){const t=c(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new Mu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function c(n,e,t,r){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof Uf)return function(o,u,d,m,w){if(!m)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const M of od(o))if(M.field.isKeyField())D.push(rd(u,m.key));else{const N=m.data.field(M.field);if(A_(N))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const q=M.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}D.push(N)}return new ha(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Id(n.firestore);return function(u,d,m,w,D,M){const N=u.explicitOrderBy;if(D.length>N.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let Y=0;Y<D.length;Y++){const me=D[Y];if(N[Y].field.isKeyField()){if("string"!=typeof me)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof me}`);if(!P_(u)&&-1!==me.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${me}' contains a slash.`);const Le=u.path.child(on.fromString(me));if(!Qe.isDocumentKey(Le))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Fe=new Qe(Le);q.push(rd(d,Fe))}else{const Le=mA(m,w,me);q.push(Le)}}return new ha(q,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function l(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P_(e)&&-1!==t.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Qe.isDocumentKey(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rd(n,new Qe(r))}if(t instanceof tr)return rd(n,t._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dw(t)}.`)}function h(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p(n,e){if(e.isInequality()){const r=hr(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=P0(n);null!==u&&_(0,o,u)}const t=function(r,o){for(const u of r)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _(n,e,t){if(!t.isEqual(e))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class T{convertValue(e,t="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return da(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new qv(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}convertTimestamp(e){const t=Do(e);return new Xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);ut(Tf(r));const o=new Tu(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return o.isEqual(t)||br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function A(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class k extends T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class Ze{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ot extends Uf{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ee(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ee extends ot{data(e={}){return super.data(e)}}class Et{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ze(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ee(this._firestore,this._userDataWriter,r.key,r,new Ze(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Ee(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new Ee(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),D=u.indexOf(d.doc.key)),{type:Qt(d.type),doc:m,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qt(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function gn(n,e){return n instanceof ot&&e instanceof ot?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Et&&e instanceof Et&&n._firestore===e._firestore&&yb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Mc extends T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function XM(n,e,t){n=en(n,tr);const r=en(n.firestore,$n),o=A(n.converter,e,t);return ty(r,[Gv(Id(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Sn.none())])}function eS(n,e,t,...r){n=en(n,tr);const o=en(n.firestore,$n),u=Id(o);let d;return d="string"==typeof(e=(0,rn.m9)(e))||e instanceof Ta?Wv(u,"updateDoc",n._key,e,t,r):zv(u,"updateDoc",n._key,e),ty(o,[d.toMutation(n._key,Sn.exists(!0))])}function tS(n,...e){var t,r,o;n=(0,rn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Eb(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(Eb(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let w,D,M;if(n instanceof tr)D=en(n.firestore,$n),M=df(n._key.path),w={next:N=>{e[d]&&e[d](EA(D,n,N))},error:e[d+1],complete:e[d+2]};else{const N=en(n,ei);D=en(N.firestore,$n),M=N._query;const q=new Mc(D);w={next:Y=>{e[d]&&e[d](new Et(D,q,N,Y))},error:e[d+1],complete:e[d+2]},sm(n._query)}return function(N,q,Y,me){const Le=new Jg(me),Fe=new Mv(q,Le,Y);return N.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return $g(yield Ed(N),Fe)})),()=>{Le.Dc(),N.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Av(yield Ed(N),Fe)}))}}(xn(D),M,m,w)}function ty(n,e){return function(t,r){const o=new lr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function H1(n,e,t){return xv.apply(this,arguments)}(yield aw(t),r,o)})),o.promise}(xn(n),e)}function EA(n,e,t){const r=t.docs.get(e._key),o=new Mc(n);return new ot(n,o,e._key,r,new Ze(t.hasPendingWrites,t.fromCache),e.converter)}const Rk={maxAttempts:5};class nS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,t,r){this._verifyNotCommitted();const o=Vf(e,this._firestore),u=A(o.converter,t,r),d=Gv(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Sn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Vf(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof Ta?Wv(this._dataReader,"WriteBatch.update",u._key,t,r,o):zv(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vf(e,this._firestore);return this._mutations=this._mutations.concat(new mf(t._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vf(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ok extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Id(e)}get(e){const t=Vf(e,this._firestore),r=new k(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return st();const u=o[0];if(u.isFoundDocument())return new Uf(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Uf(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const o=Vf(e,this._firestore),u=A(o.converter,t,r),d=Gv(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Vf(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof Ta?Wv(this._dataReader,"Transaction.update",u._key,t,r,o):zv(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Vf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Vf(e,this._firestore),r=new Mc(this._firestore);return super.get(e).then(o=>new ot(this._firestore,r,t._key,o._document,new Ze(!1,!1),t.converter))}}function wA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iS(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function sS(){if(!function JD(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qh=hc.SDK_VERSION,(0,hc._registerComponent)(new Hm.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new $n(new f0(t.getProvider("auth-internal")),new KI(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,hc.registerVersion)(I_,"3.13.0",n),(0,hc.registerVersion)(I_,"3.13.0","esm2017")}();class Cw{constructor(e){this._delegate=e}static fromBase64String(e){return sS(),new Cw(Ia.fromBase64String(e))}static fromUint8Array(e){return iS(),new Cw(Ia.fromUint8Array(e))}toBase64(){return sS(),this._delegate.toBase64()}toUint8Array(){return iS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IA(n){return function qk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class jk{enableIndexedDbPersistence(e,t){return function pw(n,e){Tb(n=en(n,$n));const t=xn(n);if(t._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");bo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new yd;return wb(t,o,new Kg(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gw(n){Tb(n=en(n,$n));const e=xn(n);if(e._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");bo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new yd;return wb(e,r,new rw(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mw(n){if(n._initialized&&!n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!hs.D())return Promise.resolve();const o=r+"main";yield hs.delete(o)}),function(r){return t.apply(this,arguments)})(p1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rA(n,e,t,r={}){var o;const u=(n=en(n,Bv))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==d&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),r.mockUserToken){let m,w;if("string"==typeof r.mockUserToken)m=r.mockUserToken,w=Ln.MOCK_USER;else{m=(0,rn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ln(D)}n._authCredentials=new OD(new zI(m,w))}}(this._delegate,e,t,r)}enableNetwork(){return function Hv(n){return function ub(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield ow(n),t=yield ob(n);return e.setNetworkEnabled(!0),function(r){const o=Ke(r);return o.vu.delete(0),gd(o)}(t)}))}(xn(n=en(n,$n)))}(this._delegate)}disableNetwork(){return function zM(n){return function eA(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield ow(n),t=yield ob(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(o){const u=Ke(o);u.vu.add(0),yield kf(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(xn(n=en(n,$n)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _w(n){return function(e){const t=new lr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function HM(n,e){return W1.apply(this,arguments)}(yield aw(e),t)})),t.promise}(xn(n=en(n,$n)))}(this._delegate)}onSnapshotsInSync(e){return function bk(n,e){return function db(n,e){const t=new Jg(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,Ke(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,void Ke(r).ku.delete(o);var r,o}))}}(xn(n=en(n,$n)),Eb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ny(this,vb(this._delegate,e))}catch(t){throw ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new ba(this,hw(this._delegate,e))}catch(t){throw ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function iA(n,e){if(n=en(n,Bv),Vv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ei(n,null,(t=e,new Mu(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Lk(n,e,t){n=en(n,$n);const r=Object.assign(Object.assign({},Rk),t);return function(o){if(o.maxAttempts<1)throw new Te(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new lr;return o.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const w=yield function ab(n){return Fv(n).then(e=>e.datastore)}(o);new ib(o.asyncQueue,w,d,u,m).run()})),m.promise}(xn(n),o=>e(new Ok(n,o)),r)}(this._delegate,t=>e(new aS(this,t)))}batch(){return xn(this._delegate),new cS(new nS(this._delegate,e=>ty(this._delegate,e)))}loadBundle(e){return function WM(n,e){const t=xn(n=en(n,$n)),r=new oA;return function nA(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?PT().encode(u):u,w=function(w,D){if(w instanceof Uint8Array)return tb(w,D);if(w instanceof ArrayBuffer)return tb(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new nb(w,d);var w}(t,Vg(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function nw(n,e,t){const r=Ke(n);var o;(o=(0,ge.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(q,Y){const me=Ke(q),Le=Mr(Y.createTime);return me.persistence.runTransaction("hasNewerBundle","readonly",Fe=>me.qs.getBundleMetadata(Fe,Y.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Le)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=w).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(HC(w));const D=new ZC(w,u.localStore,d.serializer);let M=yield d.bc();for(;M;){const q=yield D.zu(M);q&&m._updateProgress(q),M=yield d.bc()}const N=yield D.complete();return yield Ac(u,N.Ju,void 0),yield function(q,Y){const me=Ke(q);return me.persistence.runTransaction("Save bundle","readwrite",Le=>me.qs.saveBundleMetadata(Le,Y))}(u.localStore,w),m._completeWith(N.progress),Promise.resolve(N.Hu)}catch(w){return bo("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var q}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield aw(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Ib(n,e){return function hb(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const o=Ke(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield Uv(n),e)}))}(xn(n=en(n,$n)),e).then(t=>t?new ei(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ns(this,t):null)}}class Ab extends T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cw(new Ia(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ba.forKey(t,this.firestore,null)}}class aS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ab(e)}get(e){const t=um(e);return this._delegate.get(t).then(r=>new Aw(this._firestore,new ot(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=um(e);return r?(wA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=um(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=um(e);return this._delegate.delete(t),this}}class cS{constructor(e){this._delegate=e}set(e,t,r){const o=um(e);return r?(wA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=um(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=um(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ee(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cm.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new cm(e,new Ab(e),t),o.set(t,u)),u}}cm.INSTANCES=new WeakMap;class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ab(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ba(t,new tr(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new ba(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ny(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ny(this.firestore,vb(this._delegate,e))}catch(t){throw ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof tr&&sA(this._delegate,e)}set(e,t){t=wA("DocumentReference.set",t);try{return t?XM(this._delegate,e,t):XM(this._delegate,e)}catch(r){throw ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?eS(this._delegate,e):eS(this._delegate,e,t,...r)}catch(o){throw ks(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Ik(n){return ty(en(n.firestore,$n),[new mf(n._key,Sn.none())])}(this._delegate)}onSnapshot(...e){const t=uS(e),r=lS(e,o=>new Aw(this.firestore,new ot(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return tS(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function _k(n){n=en(n,tr);const e=en(n.firestore,$n),t=xn(e),r=new Mc(e);return function lb(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,u,d){try{const m=yield function(w,D){const M=Ke(w);return M.persistence.runTransaction("read document","readonly",N=>M.localDocuments.getDocument(N,D))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Of(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield Uv(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ot(e,r,n._key,o,new Ze(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function vk(n){n=en(n,tr);const e=en(n.firestore,$n);return tA(xn(e),n._key,{source:"server"}).then(t=>EA(e,n,t))}(this._delegate):function xo(n){n=en(n,tr);const e=en(n.firestore,$n);return tA(xn(e),n._key).then(t=>EA(e,n,t))}(this._delegate),t.then(r=>new Aw(this.firestore,new ot(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?cm.getInstance(this.firestore,e):null))}}function ks(n,e,t){return n.message=n.message.replace(e,t),n}function uS(n){for(const e of n)if("object"==typeof e&&!IA(e))return e;return{}}function lS(n,e){var t,r;let o;return o=IA(n[0])?n[0]:IA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gn(this._delegate,e._delegate)}}class Mw extends Aw{data(e){const t=this._delegate.data(e);return function cg(n,e){n||st()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ab(e)}where(e,t,r){try{return new Ns(this.firestore,bd(this._delegate,function _A(n,e,t){const r=e,o=Xv("where",n);return ey._create(o,r,t)}(e,t,r)))}catch(o){throw ks(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,bd(this._delegate,function vA(n,e="asc"){const t=e,r=Xv("orderBy",n);return Cb._create(r,t)}(e,t)))}catch(r){throw ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,bd(this._delegate,function JM(n){return mb("limit",n),Tw._create("limit",n,"F")}(e)))}catch(t){throw ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,bd(this._delegate,function QM(n){return mb("limitToLast",n),Tw._create("limitToLast",n,"L")}(e)))}catch(t){throw ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,bd(this._delegate,function YM(...n){return bw._create("startAt",n,!0)}(...e)))}catch(t){throw ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,bd(this._delegate,function yA(...n){return bw._create("startAfter",n,!1)}(...e)))}catch(t){throw ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,bd(this._delegate,function s(...n){return Dw._create("endBefore",n,!1)}(...e)))}catch(t){throw ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,bd(this._delegate,function a(...n){return Dw._create("endAt",n,!0)}(...e)))}catch(t){throw ks(t,"endAt()","Query.endAt()")}}isEqual(e){return yb(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Ek(n){n=en(n,ei);const e=en(n.firestore,$n),t=xn(e),r=new Mc(e);return function cw(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,u,d){try{const m=yield Pg(o,u,!0),w=new F1(u,m.ir),D=w.sc(m.documents),M=w.applyChanges(D,!1);d.resolve(M.snapshot)}catch(m){const w=Of(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield Uv(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Et(e,r,n,o))}(this._delegate):"server"===e?.source?function wk(n){n=en(n,ei);const e=en(n.firestore,$n),t=xn(e),r=new Mc(e);return uw(t,n._query,{source:"server"}).then(o=>new Et(e,r,n,o))}(this._delegate):function yk(n){n=en(n,ei);const e=en(n.firestore,$n),t=xn(e),r=new Mc(e);return sm(n._query),uw(t,n._query).then(o=>new Et(e,r,n,o))}(this._delegate),t.then(r=>new TA(this.firestore,new Et(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uS(e),r=lS(e,o=>new TA(this.firestore,new Et(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return tS(this._delegate,t,r)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?cm.getInstance(this.firestore,e):null))}}class $k{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $k(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Mw(this._firestore,r))})}isEqual(e){return gn(this._delegate,e._delegate)}}class ny extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ba(this.firestore,e):null}doc(e){try{return new ba(this.firestore,void 0===e?hw(this._delegate):hw(this._delegate,e))}catch(t){throw ks(t,"doc()","CollectionReference.doc()")}}add(e){return function Tk(n,e){const t=en(n.firestore,$n),r=hw(n),o=A(n.converter,e);return ty(t,[Gv(Id(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ba(this.firestore,t))}isEqual(e){return sA(this._delegate,e._delegate)}withConverter(e){return new ny(this.firestore,this._delegate.withConverter(e?cm.getInstance(this.firestore,e):null))}}function um(n){return en(n,tr)}class bA{constructor(...e){this._delegate=new Ta(...e)}static documentId(){return new bA(dr.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof Ta&&this._delegate._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Fk(){return new yw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lm(e)}static delete(){const e=function Pk(){return new $v("deleteField")}();return e._methodName="FieldValue.delete",new lm(e)}static arrayUnion(...e){const t=function Uk(...n){return new fA("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lm(t)}static arrayRemove(...e){const t=function Vk(...n){return new pA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lm(t)}static increment(e){const t=function Bk(n){return new gA("increment",n)}(e);return t._methodName="FieldValue.increment",new lm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zk={Firestore:oS,GeoPoint:qv,Timestamp:Xn,Blob:Cw,Transaction:aS,WriteBatch:cS,DocumentReference:ba,DocumentSnapshot:Aw,Query:Ns,QueryDocumentSnapshot:Mw,QuerySnapshot:TA,CollectionReference:ny,FieldPath:bA,FieldValue:lm,setLogLevel:function Gk(n){!function ND(n){Eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Kk(n){(function Wk(n,e){n.INTERNAL.registerComponent(new Hm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},zk)))})(n,(e,t)=>new oS(e,t,new jk)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(TM.Z);var dm=R(7579),Jk=R(6451),Mb=R(5363);function Yi(n,e){return(0,Cs.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,qn.x)(r,w=>{o?.unsubscribe();let D=0;const M=u++;(0,ec.Xf)(n(w,M)).subscribe(o=(0,qn.x)(r,N=>r.next(e?e(w,N,M,D++):N),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var Qk=R(6063);class Yk extends dm.x{constructor(e=1/0,t=1/0,r=Qk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var Xk=R(3099);function dS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,Xk.B)({connector:()=>new Yk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Sb=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bf=R(515);function ry(n){return n<=0?()=>Bf.E:(0,Cs.e)((e,t)=>{let r=0;e.subscribe((0,qn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function xb(n){return(0,Cs.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function hS(n=tN){return(0,Cs.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function tN(){return new Sb}var kb=R(4671);function Zf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Eo((o,u)=>n(o,u,r)):kb.y,ry(1),t?xb(e):hS(()=>new Sb))}var Sw=R(576);function fS(n,e){return(0,Sw.m)(e)?Yi(()=>n,e):Yi(()=>n)}var DA=R(9468);R(259);const AA=new Map,gS={activated:!1,tokenObservers:[]},oN={initialized:!1,enabled:!1};function Vr(n){return AA.get(n)||Object.assign({},gS)}function Rb(){return oN}const MA="https://content-firebaseappcheck.googleapis.com/v1",lN="exchangeDebugToken",mS={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hN{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function fN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xi=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SA(n){if(!Vr(n).activated)throw Xi.create("use-before-activation",{appName:n.name})}function Pb(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(N){throw Xi.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==d.status)throw Xi.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw Xi.create("fetch-parse-error",{originalErrorMessage:N?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Xi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(w[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+D,issuedAtTimeMillis:M}}),kA.apply(this,arguments)}function _S(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${MA}/projects/${t}/apps/${r}:${lN}?key=${o}`,body:{debug_token:e}}}const _N="firebase-app-check-database",vN=1,xw="firebase-app-check-store";let Fb=null;function NA(){return NA=(0,ge.Z)(function*(n,e){const r=(yield function yS(){return Fb||(Fb=new Promise((n,e)=>{try{const t=indexedDB.open(_N,vN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Xi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xw,{keyPath:"compositeKey"})}}catch(t){e(Xi.create("storage-open",{originalErrorMessage:t?.message}))}}),Fb)}()).transaction(xw,"readwrite"),u=r.objectStore(xw).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var D;m(Xi.create("storage-set",{originalErrorMessage:null===(D=w.target.error)||void 0===D?void 0:D.message}))}})}),NA.apply(this,arguments)}const kw=new Ws.Yd("@firebase/app-check");function LA(n,e){return(0,rn.hl)()?function EN(n,e){return function ES(n,e){return NA.apply(this,arguments)}(function IS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FA(){return Rb().enabled}function UA(){return VA.apply(this,arguments)}function VA(){return VA=(0,ge.Z)(function*(){const n=Rb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),VA.apply(this,arguments)}const CN={error:"UNKNOWN_ERROR"};function AN(n){return rn.US.encodeString(JSON.stringify(n),!1)}function Ub(n){return BA.apply(this,arguments)}function BA(){return BA=(0,ge.Z)(function*(n,e=!1){const t=n.app;SA(t);const r=Vr(t);let u,o=r.token;if(o&&!iy(o)&&(r.token=void 0,o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(iy(w)?o=w:yield LA(t,void 0))}if(!e&&o&&iy(o))return{token:o.token};let m,d=!1;if(FA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Pb(_S(t,yield UA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield LA(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield Vr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?kw.warn(w.message):kw.error(w),u=w}return o?u?m=iy(o)?{token:o.token,internalError:u}:CS(u):(m={token:o.token},r.token=o,yield LA(t,o)):m=CS(u),d&&function DS(n,e){const t=Vr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),BA.apply(this,arguments)}function ZA(){return ZA=(0,ge.Z)(function*(n){const e=n.app;SA(e);const{provider:t}=Vr(e);if(FA()){const r=yield UA(),{token:o}=yield Pb(_S(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),ZA.apply(this,arguments)}function qA(n,e){const t=Vr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function bS(n){const{app:e}=n,t=Vr(e);let r=t.tokenRefresher;r||(r=function MN(n){const{app:e}=n;return new hN((0,ge.Z)(function*(){let r;if(r=Vr(e).token?yield Ub(n,!0):yield Ub(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},mS.RETRIAL_MIN_WAIT,mS.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iy(n){return n.expireTimeMillis-Date.now()>0}function CS(n){return{token:AN(CN),error:n}}class SN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vr(this.app);for(const t of e)qA(this.app,t.next);return Promise.resolve()}}const OS="app-check-internal";!function qN(){(0,hc._registerComponent)(new Hm.wA("app-check",n=>function xN(n,e){return new SN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(OS).initialize()})),(0,hc._registerComponent)(new Hm.wA(OS,n=>function kN(n){return{getToken:e=>Ub(n,e),getLimitedUseToken:()=>function TS(n){return ZA.apply(this,arguments)}(n),addTokenListener:e=>function HA(n,e,t,r){const{app:o}=n,u=Vr(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&iy(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),bS(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>bS(n))}(n,"INTERNAL",e),removeTokenListener:e=>qA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hc.registerVersion)("@firebase/app-check","0.8.0")}();class zA{constructor(){return(0,Tr.vb)("app-check")}}typeof window<"u"&&window;var WN=R(9260);const PS=new i.OlP("angularfire2.auth.use-emulator"),FS=new i.OlP("angularfire2.auth.settings"),US=new i.OlP("angularfire2.auth.tenant-id"),VS=new i.OlP("angularfire2.auth.langugage-code"),BS=new i.OlP("angularfire2.auth.use-device-language"),ZS=new i.OlP("angularfire.auth.persistence"),HS=(n,e,t,r,o,u,d,m)=>(0,Si.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),d)for(const[D,M]of Object.entries(d))w.settings[D]=M;return m&&w.setPersistence(m),w},[t,r,o,u,d,m]);let qS=(()=>{class n{constructor(t,r,o,u,d,m,w,D,M,N,q,Y){const me=new dm.x,Le=(0,wt.of)(void 0).pipe((0,Mb.Q)(d.outsideAngular),Yi(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,2644)))),(0,Mt.U)(()=>(0,Si.on)(t,u,r)),(0,Mt.U)(Fe=>HS(Fe,u,m,D,M,N,w,q)),dS({bufferSize:1,refCount:!1}));if(oo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,wt.of)(null);else{Le.pipe(Zf()).subscribe();const dt=Le.pipe(Yi(kt=>kt.getRedirectResult().then(Zt=>Zt,()=>null)),Tr.iC,dS({bufferSize:1,refCount:!1})),xt=Le.pipe(Yi(kt=>new yr.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>kt.onAuthStateChanged(nn=>Zt.next(nn),nn=>Zt.error(nn),()=>Zt.complete()))})))),It=Le.pipe(Yi(kt=>new yr.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>kt.onIdTokenChanged(nn=>Zt.next(nn),nn=>Zt.error(nn),()=>Zt.complete()))}))));this.authState=dt.pipe(fS(xt),(0,DA.R)(d.outsideAngular),(0,Mb.Q)(d.insideAngular)),this.user=dt.pipe(fS(It),(0,DA.R)(d.outsideAngular),(0,Mb.Q)(d.insideAngular)),this.idToken=this.user.pipe(Yi(kt=>kt?(0,fn.D)(kt.getIdToken()):(0,wt.of)(null))),this.idTokenResult=this.user.pipe(Yi(kt=>kt?(0,fn.D)(kt.getIdTokenResult()):(0,wt.of)(null))),this.credential=(0,Jk.T)(dt,me,this.authState.pipe(Eo(kt=>!kt))).pipe((0,Mt.U)(kt=>kt?.user?kt:null),(0,DA.R)(d.outsideAngular),(0,Mb.Q)(d.insideAngular))}return(0,Si.pX)(this,Le,u,{spy:{apply:(Fe,dt,xt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&xt.then(It=>me.next(It))}}})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Si.Dh),i.LFG(Si.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Tr.HU),i.LFG(PS,8),i.LFG(FS,8),i.LFG(US,8),i.LFG(VS,8),i.LFG(BS,8),i.LFG(ZS,8),i.LFG(zA,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jS(n,e){return function JN(n,e=bh.z){return new yr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function KA(n,e){return jS(n,e).pipe((0,Mt.U)(t=>({payload:t,type:"query"})))}function Bb(n,e){return KA(n,e).pipe(Fp(void 0),Bm(),(0,Mt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=o.find(M=>M.doc.ref.isEqual(d.ref)),D=t?.payload.docs.find(M=>M.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function GS(n,e,t){return Bb(n,t).pipe(Dh((r,o)=>function YN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function XN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),(0,Ch.x)(),(0,Mt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function JA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function $S(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Bb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Fp(void 0),Bm(),Eo(([r,o])=>o.length>0||!r),(0,Mt.U)(([r,o])=>o),Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$S(e);return GS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return KA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Tr.iC)}add(e){return this.ref.add(e)}doc(e){return new WS(this.ref.doc(e),this.afs)}}class WS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=QS(r,t);return new zS(o,u,this.afs)}snapshotChanges(){return function QN(n,e){return jS(n,e).pipe(Fp(void 0),Bm(),(0,Mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(Tr.iC)}}class eR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Bb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Eo(t=>t.length>0),Tr.iC):Bb(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$S(e);return GS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return KA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Tr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Tr.iC)}}const KS=new i.OlP("angularfire2.enableFirestorePersistence"),JS=new i.OlP("angularfire2.firestore.persistenceSettings"),tR=new i.OlP("angularfire2.firestore.settings"),nR=new i.OlP("angularfire2.firestore.use-emulator");function QS(n,e=(t=>t)){return{query:e(n),ref:n}}let YS=(()=>{class n{constructor(t,r,o,u,d,m,w,D,M,N,q,Y,me,Le,Fe,dt,xt){this.schedulers=w;const It=(0,Si.on)(t,m,r),kt=M;N&&HS(It,m,q,me,Le,Fe,Y,dt),[this.firestore,this.persistenceEnabled$]=(0,Si.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const Zt=m.runOutsideAngular(()=>It.firestore());if(u&&Zt.settings(u),kt&&Zt.useEmulator(...kt),o&&!oo(d)){const nn=()=>{try{return(0,fn.D)(Zt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(vi){return typeof console<"u"&&console.warn(vi),(0,wt.of)(!1)}};return[Zt,m.runOutsideAngular(nn)]}return[Zt,(0,wt.of)(!1)]},[u,kt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=QS(o,r),m=this.schedulers.ngZone.run(()=>u);return new zS(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new eR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new WS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Si.Dh),i.LFG(Si.xv,8),i.LFG(KS,8),i.LFG(tR,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Tr.HU),i.LFG(JS,8),i.LFG(nR,8),i.LFG(qS,8),i.LFG(PS,8),i.LFG(FS,8),i.LFG(US,8),i.LFG(VS,8),i.LFG(BS,8),i.LFG(ZS,8),i.LFG(zA,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rR=(()=>{class n{constructor(){WN.Z.registerVersion("angularfire",Tr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:KS,useValue:!0},{provide:JS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[YS]}),n})();const iR_firebase={apiKey:"AIzaSyBE-Xqz8366R9ZGFi9PS53BIGMEzFnjnSE",authDomain:"test-cleaver.firebaseapp.com",projectId:"test-cleaver",storageBucket:"test-cleaver.appspot.com",messagingSenderId:"1089347099344",appId:"1:1089347099344:web:f30bfb900a0b0312585cd5"};var Sc=R(1135),oR=R(9672);function QA(...n){const e=(0,Ko.yG)(n),t=(0,Ko.jO)(n),{args:r,keys:o}=Wo(n);if(0===r.length)return(0,fn.D)([],e);const u=new yr.y(function aR(n,e,t=kb.y){return r=>{XS(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let w=0;w<o;w++)XS(e,()=>{const D=(0,fn.D)(n[w],e);let M=!1;D.subscribe((0,qn.x)(r,N=>{u[w]=N,M||(M=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>js(o,d):kb.y));return t?u.pipe(nc(t)):u}function XS(n,e,t){n?(0,oR.f)(t,n,e):e()}function ex(n){return new yr.y(e=>{(0,ec.Xf)(n()).subscribe(e)})}var cR=R(9635);function Nw(n,e){const t=(0,Sw.m)(n)?n:()=>n,r=o=>o.error(t());return new yr.y(e?o=>e.schedule(r,0,o):r)}var tx=R(727);function YA(){return(0,Cs.e)((n,e)=>{let t=null;n._refCount++;const r=(0,qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nx extends yr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Cs.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tx.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tx.w0.EMPTY)}return e}refCount(){return YA()(this)}}var Rs=R(5577);function Rw(n,e){return(0,Sw.m)(e)?(0,Rs.z)(n,e,1):(0,Rs.z)(n,1)}var Os=R(8505);function hm(n){return(0,Cs.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,qn.x)(t,void 0,void 0,d=>{u=(0,ec.Xf)(n(d,hm(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function XA(n){return n<=0?()=>Bf.E:(0,Cs.e)((e,t)=>{let r=[];e.subscribe((0,qn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function eM(n){return(0,Cs.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Wt="primary",Ow=Symbol("RouteTitle");class dR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function sy(n){return new dR(n)}function hR(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Bu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!rx(n[o],e[o]))return!1;return!0}function rx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function ix(n){return n.length>0?n[n.length-1]:null}function Hf(n){return function sR(n){return!!n&&(n instanceof yr.y||(0,Sw.m)(n.lift)&&(0,Sw.m)(n.subscribe))}(n)?n:(0,i.QGY)(n)?(0,fn.D)(Promise.resolve(n)):(0,wt.of)(n)}const pR={exact:function ax(n,e,t){if(!fm(n.segments,e.segments)||!Zb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ax(n.children[r],e.children[r],t))return!1;return!0},subset:cx},sx={exact:function gR(n,e){return Bu(n,e)},subset:function mR(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rx(n[t],e[t]))},ignored:()=>!0};function ox(n,e,t){return pR[t.paths](n.root,e.root,t.matrixParams)&&sx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cx(n,e,t){return ux(n,e,e.segments,t)}function ux(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!fm(o,t)||e.hasChildren()||!Zb(o,t,r))}if(n.segments.length===t.length){if(!fm(n.segments,t)||!Zb(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!cx(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(fm(n.segments,o)&&Zb(n.segments,o,r)&&n.children[Wt])&&ux(n.children[Wt],e,u,r)}}function Zb(n,e,t){return e.every((r,o)=>sx[t](n[o].parameters,r.parameters))}class oy{constructor(e=new kn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sy(this.queryParams)),this._queryParamMap}toString(){return yR.serialize(this)}}class kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hb(this)}}class Lw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=sy(this.parameters)),this._parameterMap}toString(){return hx(this)}}function fm(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new tM},providedIn:"root"}),n})();class tM{parse(e){const t=new xR(e);return new oy(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fw(e.root,!0)}`,r=function IR(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${qb(t)}=${qb(o)}`).join("&"):`${qb(t)}=${qb(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function ER(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const yR=new tM;function Hb(n){return n.segments.map(e=>hx(e)).join("/")}function Fw(n,e){if(!n.hasChildren())return Hb(n);if(e){const t=n.children[Wt]?Fw(n.children[Wt],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==Wt&&r.push(`${o}:${Fw(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function vR(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Wt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Wt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Wt?[Fw(n.children[Wt],!1)]:[`${o}:${Fw(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${Hb(n)}/${t[0]}`:`${Hb(n)}/(${t.join("//")})`}}function lx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qb(n){return lx(n).replace(/%3B/gi,";")}function nM(n){return lx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jb(n){return decodeURIComponent(n)}function dx(n){return jb(n.replace(/\+/g,"%20"))}function hx(n){return`${nM(n.path)}${function wR(n){return Object.keys(n).map(e=>`;${nM(e)}=${nM(n[e])}`).join("")}(n.parameters)}`}const TR=/^[^\/()?;#]+/;function rM(n){const e=n.match(TR);return e?e[0]:""}const bR=/^[^\/()?;=#]+/,CR=/^[^=?&#]+/,MR=/^[^&#]+/;class xR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new kn(e,t)),r}parseSegment(){const e=rM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(e),new Lw(jb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function DR(n){const e=n.match(bR);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=rM(this.remaining);o&&(r=o,this.capture(r))}e[jb(t)]=jb(r)}parseQueryParam(e){const t=function AR(n){const e=n.match(CR);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function SR(n){const e=n.match(MR);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=dx(t),u=dx(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rM(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new i.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Wt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Wt]:new kn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new i.vHH(4011,!1)}}function fx(n){return n.segments.length>0?new kn([],{[Wt]:n}):n}function px(n){const e={};for(const r of Object.keys(n.children)){const u=px(n.children[r]);if(r===Wt&&0===u.segments.length&&u.hasChildren())for(const[d,m]of Object.entries(u.children))e[d]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function kR(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new kn(n.segments.concat(e.segments),e.children)}return n}(new kn(n.segments,e))}function pm(n){return n instanceof oy}function gx(n){let e;const o=fx(function t(u){const d={};for(const w of u.children){const D=t(w);d[w.outlet]=D}const m=new kn(u.url,d);return u===n&&(e=m),m}(n.root));return e??o}function mx(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return iM(o,o,o,t,r);const u=function RR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vx(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([w,D])=>{m[w]="string"==typeof D?D.split("/"):D}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new vx(t,e,r)}(e);if(u.toRoot())return iM(o,o,new kn([],{}),t,r);const d=function OR(n,e,t){if(n.isAbsolute)return new $b(e,!0,0);if(!t)return new $b(e,!1,NaN);if(null===t.parent)return new $b(t,!0,0);const r=Gb(n.commands[0])?0:1;return function LR(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new i.vHH(4005,!1);o=r.segments.length}return new $b(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),m=d.processChildren?Vw(d.segmentGroup,d.index,u.commands):yx(d.segmentGroup,d.index,u.commands);return iM(o,d.segmentGroup,m,t,r)}function Gb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uw(n){return"object"==typeof n&&null!=n&&n.outlets}function iM(n,e,t,r,o){let d,u={};r&&Object.entries(r).forEach(([w,D])=>{u[w]=Array.isArray(D)?D.map(M=>`${M}`):`${D}`}),d=n===e?t:_x(n,e,t);const m=fx(px(d));return new oy(m,u,o)}function _x(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:_x(u,e,t)}),new kn(n.segments,r)}class vx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gb(r[0]))throw new i.vHH(4003,!1);const o=r.find(Uw);if(o&&o!==ix(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yx(n,e,t){if(n||(n=new kn([],{})),0===n.segments.length&&n.hasChildren())return Vw(n,e,t);const r=function FR(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(Uw(m))break;const w=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!wx(w,D,d))return u;r+=2}else{if(!wx(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new kn(n.segments.slice(0,r.pathIndex),{});return u.children[Wt]=new kn(n.segments.slice(r.pathIndex),n.children),Vw(u,0,o)}return r.match&&0===o.length?new kn(n.segments,{}):r.match&&!n.hasChildren()?sM(n,e,t):r.match?Vw(n,0,o):sM(n,e,t)}function Vw(n,e,t){if(0===t.length)return new kn(n.segments,{});{const r=function PR(n){return Uw(n[0])?n[0].outlets:{[Wt]:n}}(t),o={};if(!r[Wt]&&n.children[Wt]&&1===n.numberOfChildren&&0===n.children[Wt].segments.length){const u=Vw(n.children[Wt],e,t);return new kn(n.segments,u.children)}return Object.entries(r).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[u]=yx(n.children[u],e,d))}),Object.entries(n.children).forEach(([u,d])=>{void 0===r[u]&&(o[u]=d)}),new kn(n.segments,o)}}function sM(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Uw(u)){const w=UR(u.outlets);return new kn(r,w)}if(0===o&&Gb(t[0])){r.push(new Lw(n.segments[e].path,Ex(t[0]))),o++;continue}const d=Uw(u)?u.outlets[Wt]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Gb(m)?(r.push(new Lw(d,Ex(m))),o+=2):(r.push(new Lw(d,{})),o++)}return new kn(r,{})}function UR(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=sM(new kn([],{}),0,r))}),e}function Ex(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function wx(n,e,t){return n==t.path&&Bu(e,t.parameters)}const Bw="imperative";class Zu{constructor(e,t){this.id=e,this.url=t}}class oM extends Zu{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gm extends Zu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zb extends Zu{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zw extends Zu{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class aM extends Zu{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VR extends Zu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BR extends Zu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZR extends Zu{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HR extends Zu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qR extends Zu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jR{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class GR{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $R{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zR{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WR{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ix{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JR{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hw,this.attachRef=null}}let Hw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new JR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cM(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return uM(e,this._root).map(t=>t.value)}}function cM(n,e){if(n===e.value)return e;for(const t of e.children){const r=cM(n,t);if(r)return r}return null}function uM(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uM(n,t);if(r.length)return r.unshift(e),r}return[]}class Dd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ay(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bx extends Tx{constructor(e,t){super(e),this.snapshot=t,lM(this,e)}toString(){return this.snapshot.toString()}}function Dx(n,e){const t=function QR(n,e){const d=new Wb([],{},{},"",{},Wt,e,null,{});return new Ax("",new Dd(d,[]))}(0,e),r=new Sc.X([new Lw("",{})]),o=new Sc.X({}),u=new Sc.X({}),d=new Sc.X({}),m=new Sc.X(""),w=new cy(r,o,d,m,u,Wt,e,t.root);return w.snapshot=t.root,new bx(new Dd(w,[]),t)}class cy{constructor(e,t,r,o,u,d,m,w){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=d,this.component=m,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,Mt.U)(D=>D[Ow]))??(0,wt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>sy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>sy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function YR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wb{get title(){return this.data?.[Ow]}constructor(e,t,r,o,u,d,m,w,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ax extends Tx{constructor(e,t){super(t),this.url=e,lM(this,t)}toString(){return Mx(this._root)}}function lM(n,e){e.value._routerState=n,e.children.forEach(t=>lM(n,t))}function Mx(n){const e=n.children.length>0?` { ${n.children.map(Mx).join(", ")} } `:"";return`${n.value}${e}`}function dM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bu(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bu(e.params,t.params)||n.paramsSubject.next(t.params),function fR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Bu(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hM(n,e){const t=Bu(n.params,e.params)&&function _R(n,e){return fm(n,e)&&n.every((t,r)=>Bu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hM(n.parent,e.parent))}let Sx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.parentContexts=(0,i.f3M)(Hw),this.location=(0,i.f3M)(i.s_b),this.changeDetector=(0,i.f3M)(i.sBO),this.environmentInjector=(0,i.f3M)(i.lqb),this.inputBinder=(0,i.f3M)(Kb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new i.vHH(4013,!1);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new XR(t,m,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.TTD]}),n})();class XR{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cy?this.route:e===Hw?this.childContexts:this.parent.get(e,t)}}const Kb=new i.OlP("");let xx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=QA([r.queryParams,r.params,r.data]).pipe(Yi(([u,d,m],w)=>(m={...u,...d,...m},0===w?(0,wt.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,i.qFp)(r.component);if(d)for(const{templateName:m}of d.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function qw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function tO(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return qw(n,r,o);return qw(n,r)})}(n,e,t);return new Dd(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>qw(n,m)),d}}const r=function nO(n){return new cy(new Sc.X(n.url),new Sc.X(n.params),new Sc.X(n.queryParams),new Sc.X(n.fragment),new Sc.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>qw(n,u));return new Dd(r,o)}}const fM="ngNavigationCancelingError";function kx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=pm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Nx(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Nx(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[fM]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Rx(n){return Ox(n)&&pm(n.url)}function Ox(n){return n&&n[fM]}let Lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(t,r){1&t&&i._UZ(0,"router-outlet")},dependencies:[Sx],encapsulation:2}),n})();function pM(n){const e=n.children&&n.children.map(pM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=Lx),t}function xc(n){return n.outlet||Wt}function jw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class uO{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dM(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ay(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ay(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ay(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=ay(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new KR(u.value.snapshot))}),e.children.length&&this.forwardEvent(new zR(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(dM(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),dM(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=jw(o.snapshot);d.attachRef=null,d.route=o,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Px{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jb{constructor(e,t){this.component=e,this.route=t}}function lO(n,e,t){const r=n._root;return Gw(r,e?e._root:null,t,[r.value])}function uy(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,i.Z0I)(n)?e.get(n):n:r}function Gw(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ay(e);return n.children.forEach(d=>{(function hO(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function fO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fm(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fm(n.url,e.url)||!Bu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hM(n,e)||!Bu(n.queryParams,e.queryParams);default:return!hM(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new Px(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Gw(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Jb(m.outlet.component,d))}else d&&$w(e,m,o),o.canActivateChecks.push(new Px(r)),Gw(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,m])=>$w(m,t.getContext(d),o)),o}function $w(n,e,t){const r=ay(n),o=n.value;Object.entries(r).forEach(([u,d])=>{$w(d,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Jb(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function zw(n){return"function"==typeof n}function Fx(n){return n instanceof Sb||"EmptyError"===n?.name}const Qb=Symbol("INITIAL_VALUE");function ly(){return Yi(n=>QA(n.map(e=>e.pipe(ry(1),Fp(Qb)))).pipe((0,Mt.U)(e=>{for(const t of e)if(!0!==t){if(t===Qb)return Qb;if(!1===t||t instanceof oy)return t}return!0}),Eo(e=>e!==Qb),ry(1)))}function Ux(n){return(0,cR.z)((0,Os.b)(e=>{if(pm(e))throw kx(0,e)}),(0,Mt.U)(e=>!0===e))}class Yb{constructor(e){this.segmentGroup=e||null}}class Vx{constructor(e){this.urlTree=e}}function dy(n){return Nw(new Yb(n))}function Bx(n){return Nw(new Vx(n))}class RO{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new i.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,wt.of)(r);if(o.numberOfChildren>1||!o.children[Wt])return Nw(new i.vHH(4e3,!1));o=o.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new oy(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[o]=t[m]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Object.entries(t.children).forEach(([m,w])=>{d[m]=this.createSegmentGroup(e,w,r,o)}),new kn(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new i.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const gM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OO(n,e,t,r,o){const u=mM(n,e,t);return u.matched?(r=function rO(n,e){return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function xO(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,wt.of)(!0);const u=o.map(d=>{const m=uy(d,n);return Hf(function yO(n){return n&&zw(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,wt.of)(u).pipe(ly(),Ux())}(r,e,t).pipe((0,Mt.U)(d=>!0===d?u:{...gM}))):(0,wt.of)(u)}function mM(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||hR)(t,n,e);if(!o)return{...gM};const u={};Object.entries(o.posParams??{}).forEach(([m,w])=>{u[m]=w.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Zx(n,e,t,r){return t.length>0&&function FO(n,e,t){return t.some(r=>Xb(n,e,r)&&xc(r)!==Wt)}(n,t,r)?{segmentGroup:new kn(e,PO(r,new kn(t,n.children))),slicedSegments:[]}:0===t.length&&function UO(n,e,t){return t.some(r=>Xb(n,e,r))}(n,t,r)?{segmentGroup:new kn(n.segments,LO(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new kn(n.segments,n.children),slicedSegments:t}}function LO(n,e,t,r,o){const u={};for(const d of r)if(Xb(n,t,d)&&!o[xc(d)]){const m=new kn([],{});u[xc(d)]=m}return{...o,...u}}function PO(n,e){const t={};t[Wt]=e;for(const r of n)if(""===r.path&&xc(r)!==Wt){const o=new kn([],{});t[xc(r)]=o}return t}function Xb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class HO{constructor(e,t,r,o,u,d,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new RO(this.urlSerializer,this.urlTree)}noMatchError(e){return new i.vHH(4002,!1)}recognize(){const e=Zx(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wt).pipe(hm(t=>{if(t instanceof Vx)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Yb?this.noMatchError(t):t}),(0,Mt.U)(t=>{const r=new Wb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),o=new Dd(r,t),u=new Ax("",o),d=function NR(n,e,t=null,r=null){return mx(gx(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Wt).pipe(hm(r=>{throw r instanceof Yb?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Cx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,fn.D)(o).pipe(Rw(u=>{const d=r.children[u],m=function aO(n,e){const t=n.filter(r=>xc(r)===e);return t.push(...n.filter(r=>xc(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,d,u)}),Dh((u,d)=>(u.push(...d),u)),xb(null),function uR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Eo((o,u)=>n(o,u,r)):kb.y,XA(1),t?xb(e):hS(()=>new Sb))}(),(0,Rs.z)(u=>{if(null===u)return dy(r);const d=Hx(u);return function qO(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,wt.of)(d)}))}processSegment(e,t,r,o,u,d){return(0,fn.D)(t).pipe(Rw(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,u,d).pipe(hm(w=>{if(w instanceof Yb)return(0,wt.of)(null);throw w}))),Zf(m=>!!m),hm(m=>{if(Fx(m))return function BO(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,wt.of)([]):dy(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,u,d,m){return function VO(n,e,t,r){return!!(xc(n)===r||r!==Wt&&Xb(e,t,n))&&("**"===n.path||mM(e,n,t).matched)}(r,o,u,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,d):dy(o):dy(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bx(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Rs.z)(d=>{const m=new kn(d,{});return this.processSegment(e,t,m,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:w,remainingSegments:D,positionalParamSegments:M}=mM(t,o,u);if(!m)return dy(t);const N=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,M);return o.redirectTo.startsWith("/")?Bx(N):this.applyRedirects.lineralizeSegments(o,N).pipe((0,Rs.z)(q=>this.processSegment(e,r,t,q.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,d){let m;if("**"===r.path){const w=o.length>0?ix(o).parameters:{},D=new Wb(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qx(r),xc(r),r.component??r._loadedComponent??null,r,jx(r));m=(0,wt.of)({snapshot:D,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=OO(t,r,o,e).pipe((0,Mt.U)(({matched:w,consumedSegments:D,remainingSegments:M,parameters:N})=>w?{snapshot:new Wb(D,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qx(r),xc(r),r.component??r._loadedComponent??null,r,jx(r)),consumedSegments:D,remainingSegments:M}:null));return m.pipe(Yi(w=>null===w?dy(t):this.getChildConfig(e=r._injector??e,r,o).pipe(Yi(({routes:D})=>{const M=r._loadedInjector??e,{snapshot:N,consumedSegments:q,remainingSegments:Y}=w,{segmentGroup:me,slicedSegments:Le}=Zx(t,q,Y,D);if(0===Le.length&&me.hasChildren())return this.processChildren(M,D,me).pipe((0,Mt.U)(dt=>null===dt?null:[new Dd(N,dt)]));if(0===D.length&&0===Le.length)return(0,wt.of)([new Dd(N,[])]);const Fe=xc(r)===u;return this.processSegment(M,D,me,Le,Fe?Wt:u,!0).pipe((0,Mt.U)(dt=>[new Dd(N,dt)]))}))))}getChildConfig(e,t,r){return t.children?(0,wt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,wt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function SO(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,wt.of)(!0);const u=o.map(d=>{const m=uy(d,n);return Hf(function gO(n){return n&&zw(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,wt.of)(u).pipe(ly(),Ux())}(e,t,r).pipe((0,Rs.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Os.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function NO(n){return Nw(Nx(!1,3))}())):(0,wt.of)({routes:[],injector:e})}}function jO(n){const e=n.value.routeConfig;return e&&""===e.path}function Hx(n){const e=[],t=new Set;for(const r of n){if(!jO(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Hx(r.children);e.push(new Dd(r.value,o))}return e.filter(r=>!t.has(r))}function qx(n){return n.data||{}}function jx(n){return n.resolve||{}}function Gx(n){return"string"==typeof n.title||null===n.title}function _M(n){return Yi(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,Mt.U)(()=>e)):(0,wt.of)(e)})}const hy=new i.OlP("ROUTES");let vM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.f3M)(i.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,wt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hf(t.loadComponent()).pipe((0,Mt.U)($x),(0,Os.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),eM(()=>{this.componentLoaders.delete(t)})),o=new nx(r,()=>new dm.x).pipe(YA());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,wt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Mt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,D;return Array.isArray(m)?D=m:(w=m.create(t).injector,D=w.get(hy,[],i.XFs.Self|i.XFs.Optional).flat()),{routes:D.map(pM),injector:w}}),eM(()=>{this.childrenLoaders.delete(r)})),d=new nx(u,()=>new dm.x).pipe(YA());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Hf(t()).pipe((0,Mt.U)($x),(0,Rs.z)(r=>r instanceof i.YKP||Array.isArray(r)?(0,wt.of)(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $x(n){return function QO(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let eD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dm.x,this.configLoader=(0,i.f3M)(vM),this.environmentInjector=(0,i.f3M)(i.lqb),this.urlSerializer=(0,i.f3M)(Pw),this.rootContexts=(0,i.f3M)(Hw),this.inputBindingEnabled=null!==(0,i.f3M)(Kb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,wt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new GR(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new jR(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Sc.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bw,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Eo(r=>0!==r.id),(0,Mt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Yi(r=>{let o=!1,u=!1;return(0,wt.of)(r).pipe((0,Os.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yi(d=>{const m=t.browserUrlTree.toString(),w=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!w&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Zw(d.id,t.serializeUrl(r.rawUrl),M,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Bf.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return zx(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,wt.of)(d).pipe(Yi(M=>{const N=this.transitions?.getValue();return this.events.next(new oM(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),N!==this.transitions?.getValue()?Bf.E:Promise.resolve(M)}),function GO(n,e,t,r,o,u){return(0,Rs.z)(d=>function ZO(n,e,t,r,o,u,d="emptyOnly"){return new HO(n,e,t,r,o,d,u).recognize()}(n,e,t,r,d.extractedUrl,o,u).pipe((0,Mt.U)(({state:m,tree:w})=>({...d,targetSnapshot:m,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Os.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,r.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!M.extras.skipLocationChange){const q=t.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);t.setBrowserUrl(q,M)}t.browserUrlTree=M.urlAfterRedirects}const N=new VR(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(N)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:M,extractedUrl:N,source:q,restoredState:Y,extras:me}=d,Le=new oM(M,this.urlSerializer.serialize(N),q,Y);this.events.next(Le);const Fe=Dx(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:Fe,urlAfterRedirects:N,extras:{...me,skipLocationChange:!1,replaceUrl:!1}},(0,wt.of)(r)}{const M="";return this.events.next(new Zw(d.id,t.serializeUrl(r.extractedUrl),M,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Bf.E}}),(0,Os.b)(d=>{const m=new BR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,Mt.U)(d=>r={...d,guards:lO(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function wO(n,e){return(0,Rs.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?(0,wt.of)({...t,guardsResult:!0}):function IO(n,e,t,r){return(0,fn.D)(n).pipe((0,Rs.z)(o=>function MO(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,wt.of)(!0);const d=u.map(m=>{const w=jw(e)??o,D=uy(m,w);return Hf(function vO(n){return n&&zw(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):w.runInContext(()=>D(n,e,t,r))).pipe(Zf())});return(0,wt.of)(d).pipe(ly())}(o.component,o.route,t,e,r)),Zf(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Rs.z)(m=>m&&function pO(n){return"boolean"==typeof n}(m)?function TO(n,e,t,r){return(0,fn.D)(e).pipe(Rw(o=>by(function DO(n,e){return null!==n&&e&&e(new $R(n)),(0,wt.of)(!0)}(o.route.parent,r),function bO(n,e){return null!==n&&e&&e(new WR(n)),(0,wt.of)(!0)}(o.route,r),function AO(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function dO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ex(()=>{const m=d.guards.map(w=>{const D=jw(d.node)??t,M=uy(w,D);return Hf(function _O(n){return n&&zw(n.canActivateChild)}(M)?M.canActivateChild(r,n):D.runInContext(()=>M(r,n))).pipe(Zf())});return(0,wt.of)(m).pipe(ly())}));return(0,wt.of)(u).pipe(ly())}(n,o.path,t),function CO(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,wt.of)(!0);const o=r.map(u=>ex(()=>{const d=jw(e)??t,m=uy(u,d);return Hf(function mO(n){return n&&zw(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Zf())}));return(0,wt.of)(o).pipe(ly())}(n,o.route,t))),Zf(o=>!0!==o,!0))}(r,u,n,e):(0,wt.of)(m)),(0,Mt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Os.b)(d=>{if(r.guardsResult=d.guardsResult,pm(d.guardsResult))throw kx(0,d.guardsResult);const m=new ZR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Eo(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),_M(d=>{if(d.guards.canActivateChecks.length)return(0,wt.of)(d).pipe((0,Os.b)(m=>{const w=new HR(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Yi(m=>{let w=!1;return(0,wt.of)(m).pipe(function $O(n,e){return(0,Rs.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,wt.of)(t);let u=0;return(0,fn.D)(o).pipe(Rw(d=>function zO(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Gx(o)&&(u[Ow]=o.title),function WO(n,e,t,r){const o=function KO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,wt.of)({});const u={};return(0,fn.D)(o).pipe((0,Rs.z)(d=>function JO(n,e,t,r){const o=jw(e)??r,u=uy(n,o);return Hf(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(Zf(),(0,Os.b)(m=>{u[d]=m}))),XA(1),function lR(n){return(0,Mt.U)(()=>n)}(u),hm(d=>Fx(d)?Bf.E:Nw(d)))}(u,n,e,r).pipe((0,Mt.U)(d=>(n._resolvedData=d,n.data=Cx(n,t).resolve,o&&Gx(o)&&(n.data[Ow]=o.title),null)))}(d.route,r,n,e)),(0,Os.b)(()=>u++),XA(1),(0,Rs.z)(d=>u===o.length?(0,wt.of)(t):Bf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Os.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Os.b)(m=>{const w=new qR(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),_M(d=>{const m=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Os.b)(M=>{w.component=M}),(0,Mt.U)(()=>{})));for(const M of w.children)D.push(...m(M));return D};return QA(m(d.targetSnapshot.root)).pipe(xb(),ry(1))}),_M(()=>this.afterPreactivation()),(0,Mt.U)(d=>{const m=function eO(n,e,t){const r=qw(n,e._root,t?t._root:void 0);return new bx(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,Os.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t,r)=>(0,Mt.U)(o=>(new uO(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ry(1),(0,Os.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),eM(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hm(d=>{if(u=!0,Ox(d)){Rx(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new zb(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),Rx(d)){const w=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zx(r.source)};t.scheduleNavigation(w,Bw,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new aM(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(w){r.reject(w)}}return Bf.E}))}))}cancelNavigationTransition(t,r,o){const u=new zb(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zx(n){return n!==Bw}let Wx=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Wt);return r}getResolvedTitleForRoute(t){return t.data[Ow]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(YO)},providedIn:"root"}),n})(),YO=(()=>{class n extends Wx{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ka))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(tL)},providedIn:"root"}),n})();class eL{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let tL=(()=>{class n extends eL{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tD=new i.OlP("",{providedIn:"root",factory:()=>({})});let nL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(rL)},providedIn:"root"}),n})(),rL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ko=(()=>((ko=ko||{})[ko.COMPLETE=0]="COMPLETE",ko[ko.FAILED=1]="FAILED",ko[ko.REDIRECTING=2]="REDIRECTING",ko))();function Kx(n,e){n.events.pipe(Eo(t=>t instanceof gm||t instanceof zb||t instanceof aM||t instanceof Zw),(0,Mt.U)(t=>t instanceof gm||t instanceof Zw?ko.COMPLETE:t instanceof zb&&(0===t.code||1===t.code)?ko.REDIRECTING:ko.FAILED),Eo(t=>t!==ko.REDIRECTING),ry(1)).subscribe(()=>{e()})}function iL(n){throw n}function sL(n,e,t){return e.parse("/")}const oL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Da=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,i.f3M)(i.c2e),this.isNgZoneEnabled=!1,this.options=(0,i.f3M)(tD,{optional:!0})||{},this.pendingTasks=(0,i.f3M)(i.HDt),this.errorHandler=this.options.errorHandler||iL,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sL,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,i.f3M)(nL),this.routeReuseStrategy=(0,i.f3M)(XO),this.titleStrategy=(0,i.f3M)(Wx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,i.f3M)(hy,{optional:!0})?.flat()??[],this.navigationTransitions=(0,i.f3M)(eD),this.urlSerializer=(0,i.f3M)(Pw),this.location=(0,i.f3M)(Ge),this.componentInputBindingEnabled=!!(0,i.f3M)(Kb,{optional:!0}),this.isNgZoneEnabled=(0,i.f3M)(i.R0b)instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oy,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dx(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bw,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(pM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,D=w?this.currentUrlTree.fragment:d;let N,M=null;switch(m){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}null!==M&&(M=this.removeEmptyProps(M));try{N=gx(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),N=this.currentUrlTree.root}return mx(N,t,M,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=pm(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Bw,null,r)}navigate(t,r={skipLocationChange:!1}){return function cL(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new i.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...oL}:!1===r?{...aL}:r,pm(t))return ox(this.currentUrlTree,t,o);const u=this.parseUrl(t);return ox(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,D;d?(m=d.resolve,w=d.reject,D=d.promise):D=new Promise((N,q)=>{m=N,w=q});const M=this.pendingTasks.add();return Kx(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jx{}let dL=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Eo(t=>t instanceof gm),Rw(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,i.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,fn.D)(o).pipe((0,hu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,wt.of)(null);const u=o.pipe((0,Rs.z)(d=>null===d?(0,wt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,fn.D)([u,d]).pipe((0,hu.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Da),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(Jx),i.LFG(vM))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EM=new i.OlP("");let Qx=(()=>{class n{constructor(t,r,o,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gm?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Zw&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ix&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ix(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Cd(n,e){return{\u0275kind:n,\u0275providers:e}}function Xx(){const n=(0,i.f3M)(i.zs3);return e=>{const t=n.get(i.z2F);if(e!==t.components[0])return;const r=n.get(Da),o=n.get(ek);1===n.get(wM)&&r.initialNavigation(),n.get(tk,null,i.XFs.Optional)?.setUpPreloading(),n.get(EM,null,i.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const ek=new i.OlP("",{factory:()=>new dm.x}),wM=new i.OlP("",{providedIn:"root",factory:()=>1}),tk=new i.OlP("");function gL(n){return Cd(0,[{provide:tk,useExisting:dL},{provide:Jx,useExisting:n}])}const nk=new i.OlP("ROUTER_FORROOT_GUARD"),_L=[Ge,{provide:Pw,useClass:tM},Da,Hw,{provide:cy,useFactory:function Yx(n){return n.routerState.root},deps:[Da]},vM,[]];function vL(){return new i.PXZ("Router",Da)}let rk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_L,[],{provide:hy,multi:!0,useValue:t},{provide:nk,useFactory:IL,deps:[[Da,new i.FiY,new i.tp0]]},{provide:tD,useValue:r||{}},r?.useHash?{provide:Pe,useClass:Se}:{provide:Pe,useClass:Je},{provide:EM,useFactory:()=>{const n=(0,i.f3M)(os),e=(0,i.f3M)(i.R0b),t=(0,i.f3M)(tD),r=(0,i.f3M)(eD),o=(0,i.f3M)(Pw);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Qx(o,r,n,e,t)}},r?.preloadingStrategy?gL(r.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:vL},r?.initialNavigation?TL(r):[],r?.bindToComponentInputs?Cd(8,[xx,{provide:Kb,useExisting:xx}]).\u0275providers:[],[{provide:ik,useFactory:Xx},{provide:i.tb,multi:!0,useExisting:ik}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(nk,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function IL(n){return"guarded"}function TL(n){return["disabled"===n.initialNavigation?Cd(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const e=(0,i.f3M)(Da);return()=>{e.setUpLocationChangeListener()}}},{provide:wM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Cd(2,[{provide:wM,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:e=>{const t=e.get(Re,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Da),u=e.get(ek);Kx(o,()=>{r(!0)}),e.get(eD).afterPreactivation=()=>(r(!0),u.closed?(0,wt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const ik=new i.OlP(""),DL=[];let CL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[rk.forRoot(DL),rk]}),n})();class sk{constructor(){this.persuasivoM=0,this.persuasivoL=0,this.gentilM=0,this.gentilL=0,this.humildeM=0,this.humildeL=0,this.originalM=0,this.originalL=0,this.fuerzavoluntadM=0,this.fuerzavoluntadL=0,this.menteabiertaM=0,this.menteabiertaL=0,this.complacienteM=0,this.complacienteL=0,this.animosoM=0,this.animosoL=0,this.obedienteM=0,this.obedienteL=0,this.quisquillosoM=0,this.quisquillosoL=0,this.inconquistableM=0,this.inconquistableL=0,this.juguetonM=0,this.juguetonL=0,this.aventureroM=0,this.aventureroL=0,this.receptivoM=0,this.receptivoL=0,this.cordialM=0,this.cordialL=0,this.moderadoM=0,this.moderadoL=0,this.agresivoM=0,this.agresivoL=0,this.almafiestaM=0,this.almafiestaL=0,this.comodinoM=0,this.comodinoL=0,this.temerosoM=0,this.temerosoL=0,this.confiadoM=0,this.confiadoL=0,this.simpatizadorM=0,this.simpatizadorL=0,this.toleranteM=0,this.toleranteL=0,this.afirmativoM=0,this.afirmativoL=0,this.respetuosoM=0,this.respetuosoL=0,this.emprendedorM=0,this.emprendedorL=0,this.optimistaM=0,this.optimistaL=0,this.servicialM=0,this.servicialL=0,this.indulgenteM=0,this.indulgenteL=0,this.estetaM=0,this.estetaL=0,this.vigorosoM=0,this.vigorosoL=0,this.sociableM=0,this.sociableL=0,this.agradableM=0,this.agradableL=0,this.temerosodiosM=0,this.temerosodiosL=0,this.tenazM=0,this.tenazL=0,this.atractivoM=0,this.atractivoL=0,this.ecuanimeM=0,this.ecuanimeL=0,this.precisoM=0,this.precisoL=0,this.nerviosoM=0,this.nerviosoL=0,this.jovialM=0,this.jovialL=0,this.valienteM=0,this.valienteL=0,this.inspiradorM=0,this.inspiradorL=0,this.sumisoM=0,this.sumisoL=0,this.timidoM=0,this.timidoL=0,this.parlanchinM=0,this.parlanchinL=0,this.controladoM=0,this.controladoL=0,this.convencionalM=0,this.convencionalL=0,this.decisivoM=0,this.decisivoL=0,this.cautelosoM=0,this.cautelosoL=0,this.determinadoM=0,this.determinadoL=0,this.convincenteM=0,this.convincenteL=0,this.bonachonM=0,this.bonachonL=0,this.disciplinadoM=0,this.disciplinadoL=0,this.generosoM=0,this.generosoL=0,this.ani_mosoM=0,this.ani_mosoL=0,this.persistenteM=0,this.persistenteL=0,this.adaptableM=0,this.adaptableL=0,this.disputadorM=0,this.disputadorL=0,this.indiferenteM=0,this.indiferenteL=0,this.sangrelivianaM=0,this.sangrelivianaL=0,this.cohibidoM=0,this.cohibidoL=0,this.exactoM=0,this.exactoL=0,this.francoM=0,this.francoL=0,this.buencompaneroM=0,this.buencompaneroL=0,this.docilM=0,this.docilL=0,this.atrevidoM=0,this.atrevidoL=0,this.lealM=0,this.lealL=0,this.encantadorM=0,this.encantadorL=0,this.competitivoM=0,this.competitivoL=0,this.alegreM=0,this.alegreL=0,this.consideradoM=0,this.consideradoL=0,this.armoniosoM=0,this.armoniosoL=0,this.amigueroM=0,this.amigueroL=0,this.pacienteM=0,this.pacienteL=0,this.confianzamismoM=0,this.confianzamismoL=0,this.mesuradohablarM=0,this.mesuradohablarL=0,this.diplomaticoM=0,this.diplomaticoL=0,this.audazM=0,this.audazL=0,this.refinadoM=0,this.refinadoL=0,this.satisfechoM=0,this.satisfechoL=0,this.dispuestoM=0,this.dispuestoL=0,this.deseosoM=0,this.deseosoL=0,this.consecuenteM=0,this.consecuenteL=0,this.entusiastaM=0,this.entusiastaL=0,this.admirableM=0,this.admirableL=0,this.bondadosoM=0,this.bondadosoL=0,this.resignadoM=0,this.resignadoL=0,this.caracterfirmeM=0,this.caracterfirmeL=0,this.conformeM=0,this.conformeL=0,this.confiableM=0,this.confiableL=0,this.pacificoM=0,this.pacificoL=0,this.positivoM=0,this.positivoL=0,this.inquietoM=0,this.inquietoL=0,this.popularM=0,this.popularL=0,this.buenvecinoM=0,this.buenvecinoL=0,this.devotoM=0,this.devotoL=0,this.facultad="fnt",this.periodo="2025",this.FinalT=0,this.FinalM=0,this.FinalL=0,this.FinalResult=0,this.Result=0,this.message=""}}let AL=(()=>{class n{constructor(t){this.db=t,this.dbPath="/tests",this.testsRef=t.collection(this.dbPath)}getAll(){return this.testsRef}getByProgram(t){return this.db.collection(this.dbPath,r=>r.where("programaInteres","==",t))}create(t){return this.testsRef.add({...t})}update(t,r){return this.testsRef.doc(t).update(r)}delete(t){return this.testsRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(YS))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ML(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 1"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"PERSUASIVO"),i.qZA(),i.TgZ(17,"td")(18,"input",38),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM1(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",39),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL1(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"GENTIL"),i.qZA(),i.TgZ(24,"td")(25,"input",40),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM1(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",41),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL1(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"HUMILDE"),i.qZA(),i.TgZ(31,"td")(32,"input",42),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM1(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",43),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL1(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"ORIGINAL"),i.qZA(),i.TgZ(38,"td")(39,"input",44),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM1(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",45),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL1(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.persuasivoM),i.xp6(2),i.Q6J("checked",1===t.test.persuasivoL),i.xp6(5),i.Q6J("checked",1===t.test.gentilM),i.xp6(2),i.Q6J("checked",1===t.test.gentilL),i.xp6(5),i.Q6J("checked",1===t.test.humildeM),i.xp6(2),i.Q6J("checked",1===t.test.humildeL),i.xp6(5),i.Q6J("checked",1===t.test.originalM),i.xp6(2),i.Q6J("checked",1===t.test.originalL),i.xp6(3),i.Oqu(t.item1Error)}}function SL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 2"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"FUERZA DE VOLUNTAD"),i.qZA(),i.TgZ(17,"td")(18,"input",46),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM2(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",47),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL2(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"MENTE ABIERTA"),i.qZA(),i.TgZ(24,"td")(25,"input",48),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM2(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",49),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL2(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"COMPLACIENTE"),i.qZA(),i.TgZ(31,"td")(32,"input",50),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM2(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",51),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL2(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"ANIMOSO"),i.qZA(),i.TgZ(38,"td")(39,"input",52),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM2(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",53),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL2(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.fuerzavoluntadM),i.xp6(2),i.Q6J("checked",1===t.test.fuerzavoluntadL),i.xp6(5),i.Q6J("checked",1===t.test.menteabiertaM),i.xp6(2),i.Q6J("checked",1===t.test.menteabiertaL),i.xp6(5),i.Q6J("checked",1===t.test.complacienteM),i.xp6(2),i.Q6J("checked",1===t.test.complacienteL),i.xp6(5),i.Q6J("checked",1===t.test.animosoM),i.xp6(2),i.Q6J("checked",1===t.test.animosoL),i.xp6(3),i.Oqu(t.item2Error)}}function xL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 3"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"OBEDIENTE"),i.qZA(),i.TgZ(17,"td")(18,"input",54),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM3(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",55),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL3(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"QUISQUILLOSO"),i.qZA(),i.TgZ(24,"td")(25,"input",56),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM3(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",57),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL3(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"INCONQUISTABLE"),i.qZA(),i.TgZ(31,"td")(32,"input",58),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM3(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL3(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"JUGUETON"),i.qZA(),i.TgZ(38,"td")(39,"input",60),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM3(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",61),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL3(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.obedienteM),i.xp6(2),i.Q6J("checked",1===t.test.obedienteL),i.xp6(5),i.Q6J("checked",1===t.test.quisquillosoM),i.xp6(2),i.Q6J("checked",1===t.test.quisquillosoL),i.xp6(5),i.Q6J("checked",1===t.test.inconquistableM),i.xp6(2),i.Q6J("checked",1===t.test.inconquistableL),i.xp6(5),i.Q6J("checked",1===t.test.juguetonM),i.xp6(2),i.Q6J("checked",1===t.test.juguetonL),i.xp6(3),i.Oqu(t.item3Error)}}function kL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 4"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"AVENTURERO"),i.qZA(),i.TgZ(17,"td")(18,"input",62),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM4(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",63),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL4(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"RECEPTIVO"),i.qZA(),i.TgZ(24,"td")(25,"input",64),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM4(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",65),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL4(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"CORDIAL"),i.qZA(),i.TgZ(31,"td")(32,"input",66),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM4(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",67),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL4(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"MODERADO"),i.qZA(),i.TgZ(38,"td")(39,"input",68),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM4(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",69),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL4(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.aventureroM),i.xp6(2),i.Q6J("checked",1===t.test.aventureroL),i.xp6(5),i.Q6J("checked",1===t.test.receptivoM),i.xp6(2),i.Q6J("checked",1===t.test.receptivoL),i.xp6(5),i.Q6J("checked",1===t.test.cordialM),i.xp6(2),i.Q6J("checked",1===t.test.cordialL),i.xp6(5),i.Q6J("checked",1===t.test.moderadoM),i.xp6(2),i.Q6J("checked",1===t.test.moderadoL),i.xp6(3),i.Oqu(t.item4Error)}}function NL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 5"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"AGRESIVO"),i.qZA(),i.TgZ(17,"td")(18,"input",70),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM5(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",71),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL5(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"ALMA DE LA FIESTA"),i.qZA(),i.TgZ(24,"td")(25,"input",72),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM5(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",73),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL5(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"COMODINO"),i.qZA(),i.TgZ(31,"td")(32,"input",74),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM5(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",75),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL5(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"TEMEROSO"),i.qZA(),i.TgZ(38,"td")(39,"input",76),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM5(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",77),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL5(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.agresivoM),i.xp6(2),i.Q6J("checked",1===t.test.agresivoL),i.xp6(5),i.Q6J("checked",1===t.test.almafiestaM),i.xp6(2),i.Q6J("checked",1===t.test.almafiestaL),i.xp6(5),i.Q6J("checked",1===t.test.comodinoM),i.xp6(2),i.Q6J("checked",1===t.test.comodinoL),i.xp6(5),i.Q6J("checked",1===t.test.temerosoM),i.xp6(2),i.Q6J("checked",1===t.test.temerosoL),i.xp6(3),i.Oqu(t.item5Error)}}function RL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 6"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"CONFIADO"),i.qZA(),i.TgZ(17,"td")(18,"input",78),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM6(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",79),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL6(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"SIMPATIZADOR"),i.qZA(),i.TgZ(24,"td")(25,"input",80),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM6(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",81),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL6(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"TOLERANTE"),i.qZA(),i.TgZ(31,"td")(32,"input",82),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM6(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",83),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL6(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"AFIRMATIVO"),i.qZA(),i.TgZ(38,"td")(39,"input",84),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM6(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",85),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL6(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.confiadoM),i.xp6(2),i.Q6J("checked",1===t.test.confiadoL),i.xp6(5),i.Q6J("checked",1===t.test.simpatizadorM),i.xp6(2),i.Q6J("checked",1===t.test.simpatizadorL),i.xp6(5),i.Q6J("checked",1===t.test.toleranteM),i.xp6(2),i.Q6J("checked",1===t.test.toleranteL),i.xp6(5),i.Q6J("checked",1===t.test.afirmativoM),i.xp6(2),i.Q6J("checked",1===t.test.afirmativoL),i.xp6(3),i.Oqu(t.item6Error)}}function OL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 7"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"RESPETUOSO"),i.qZA(),i.TgZ(17,"td")(18,"input",86),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM7(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",87),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL7(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"EMPRENDEDOR"),i.qZA(),i.TgZ(24,"td")(25,"input",88),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM7(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",89),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL7(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"OPTIMISTA"),i.qZA(),i.TgZ(31,"td")(32,"input",90),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM7(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",91),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL7(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"SERVICIAL"),i.qZA(),i.TgZ(38,"td")(39,"input",92),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM7(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",93),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL7(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.respetuosoM),i.xp6(2),i.Q6J("checked",1===t.test.respetuosoL),i.xp6(5),i.Q6J("checked",1===t.test.emprendedorM),i.xp6(2),i.Q6J("checked",1===t.test.emprendedorL),i.xp6(5),i.Q6J("checked",1===t.test.optimistaM),i.xp6(2),i.Q6J("checked",1===t.test.optimistaL),i.xp6(5),i.Q6J("checked",1===t.test.servicialM),i.xp6(2),i.Q6J("checked",1===t.test.servicialL),i.xp6(3),i.Oqu(t.item7Error)}}function LL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 8"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"INDULGENTE"),i.qZA(),i.TgZ(17,"td")(18,"input",94),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM8(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",95),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL8(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"ESTETA"),i.qZA(),i.TgZ(24,"td")(25,"input",96),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM8(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",97),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL8(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"VIGOROSO"),i.qZA(),i.TgZ(31,"td")(32,"input",98),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM8(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",99),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL8(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"SOCIABLE"),i.qZA(),i.TgZ(38,"td")(39,"input",100),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM8(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",101),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL8(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.indulgenteM),i.xp6(2),i.Q6J("checked",1===t.test.indulgenteL),i.xp6(5),i.Q6J("checked",1===t.test.estetaM),i.xp6(2),i.Q6J("checked",1===t.test.estetaL),i.xp6(5),i.Q6J("checked",1===t.test.vigorosoM),i.xp6(2),i.Q6J("checked",1===t.test.vigorosoL),i.xp6(5),i.Q6J("checked",1===t.test.sociableM),i.xp6(2),i.Q6J("checked",1===t.test.sociableL),i.xp6(3),i.Oqu(t.item8Error)}}function PL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 9"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"AGRADABLE"),i.qZA(),i.TgZ(17,"td")(18,"input",102),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM9(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",103),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL9(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"TEMEROSO DE DIOS"),i.qZA(),i.TgZ(24,"td")(25,"input",104),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM9(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",105),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL9(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"TENAZ"),i.qZA(),i.TgZ(31,"td")(32,"input",106),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM9(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",107),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL9(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"ATRACTIVO"),i.qZA(),i.TgZ(38,"td")(39,"input",108),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM9(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",109),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL9(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.agradableM),i.xp6(2),i.Q6J("checked",1===t.test.agradableL),i.xp6(5),i.Q6J("checked",1===t.test.temerosodiosM),i.xp6(2),i.Q6J("checked",1===t.test.temerosodiosL),i.xp6(5),i.Q6J("checked",1===t.test.tenazM),i.xp6(2),i.Q6J("checked",1===t.test.tenazL),i.xp6(5),i.Q6J("checked",1===t.test.atractivoM),i.xp6(2),i.Q6J("checked",1===t.test.atractivoL),i.xp6(3),i.Oqu(t.item9Error)}}function FL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 10"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"ECUANIME"),i.qZA(),i.TgZ(17,"td")(18,"input",110),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM10(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",111),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL10(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"PRECISO"),i.qZA(),i.TgZ(24,"td")(25,"input",112),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM10(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",113),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL10(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"NERVIOSO"),i.qZA(),i.TgZ(31,"td")(32,"input",114),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM10(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",115),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL10(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"JOVIAL"),i.qZA(),i.TgZ(38,"td")(39,"input",116),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM10(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",117),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL10(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.ecuanimeM),i.xp6(2),i.Q6J("checked",1===t.test.ecuanimeL),i.xp6(5),i.Q6J("checked",1===t.test.precisoM),i.xp6(2),i.Q6J("checked",1===t.test.precisoL),i.xp6(5),i.Q6J("checked",1===t.test.nerviosoM),i.xp6(2),i.Q6J("checked",1===t.test.nerviosoL),i.xp6(5),i.Q6J("checked",1===t.test.jovialM),i.xp6(2),i.Q6J("checked",1===t.test.jovialL),i.xp6(3),i.Oqu(t.item10Error)}}function UL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 11"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"VALIENTE"),i.qZA(),i.TgZ(17,"td")(18,"input",118),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM11(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",119),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL11(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"INSPIRADOR"),i.qZA(),i.TgZ(24,"td")(25,"input",120),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM11(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",121),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL11(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"SUMISO"),i.qZA(),i.TgZ(31,"td")(32,"input",122),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM11(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",123),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL11(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"TIMIDO"),i.qZA(),i.TgZ(38,"td")(39,"input",124),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM11(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",125),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL11(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.valienteM),i.xp6(2),i.Q6J("checked",1===t.test.valienteL),i.xp6(5),i.Q6J("checked",1===t.test.inspiradorM),i.xp6(2),i.Q6J("checked",1===t.test.inspiradorL),i.xp6(5),i.Q6J("checked",1===t.test.sumisoM),i.xp6(2),i.Q6J("checked",1===t.test.sumisoL),i.xp6(5),i.Q6J("checked",1===t.test.timidoM),i.xp6(2),i.Q6J("checked",1===t.test.timidoL),i.xp6(3),i.Oqu(t.item11Error)}}function VL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 12"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"PARLANCHIN"),i.qZA(),i.TgZ(17,"td")(18,"input",126),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM12(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",127),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL12(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"CONTROLADO"),i.qZA(),i.TgZ(24,"td")(25,"input",128),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM12(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",129),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL12(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"CONVENCIONAL"),i.qZA(),i.TgZ(31,"td")(32,"input",130),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM12(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",131),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL12(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"DECISIVO"),i.qZA(),i.TgZ(38,"td")(39,"input",132),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM12(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",133),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL12(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.parlanchinM),i.xp6(2),i.Q6J("checked",1===t.test.parlanchinL),i.xp6(5),i.Q6J("checked",1===t.test.controladoM),i.xp6(2),i.Q6J("checked",1===t.test.controladoL),i.xp6(5),i.Q6J("checked",1===t.test.convencionalM),i.xp6(2),i.Q6J("checked",1===t.test.convencionalL),i.xp6(5),i.Q6J("checked",1===t.test.decisivoM),i.xp6(2),i.Q6J("checked",1===t.test.decisivoL),i.xp6(3),i.Oqu(t.item12Error)}}function BL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 13"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"CAUTELOSO"),i.qZA(),i.TgZ(17,"td")(18,"input",134),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM13(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",135),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL13(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"DETERMINADO"),i.qZA(),i.TgZ(24,"td")(25,"input",136),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM13(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",137),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL13(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"CONVINCENTE"),i.qZA(),i.TgZ(31,"td")(32,"input",138),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM13(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",139),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL13(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"BONACHON"),i.qZA(),i.TgZ(38,"td")(39,"input",140),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM13(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",141),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL13(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.cautelosoM),i.xp6(2),i.Q6J("checked",1===t.test.cautelosoL),i.xp6(5),i.Q6J("checked",1===t.test.determinadoM),i.xp6(2),i.Q6J("checked",1===t.test.determinadoL),i.xp6(5),i.Q6J("checked",1===t.test.convincenteM),i.xp6(2),i.Q6J("checked",1===t.test.convincenteL),i.xp6(5),i.Q6J("checked",1===t.test.bonachonM),i.xp6(2),i.Q6J("checked",1===t.test.bonachonL),i.xp6(3),i.Oqu(t.item13Error)}}function ZL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 14"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"DISCIPLINADO"),i.qZA(),i.TgZ(17,"td")(18,"input",142),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM14(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",143),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL14(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"GENEROSO"),i.qZA(),i.TgZ(24,"td")(25,"input",144),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM14(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",145),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL14(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"ANIMOSO"),i.qZA(),i.TgZ(31,"td")(32,"input",146),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM14(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",147),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL14(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"PERSISTENTE"),i.qZA(),i.TgZ(38,"td")(39,"input",148),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM14(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",149),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL14(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.disciplinadoM),i.xp6(2),i.Q6J("checked",1===t.test.disciplinadoL),i.xp6(5),i.Q6J("checked",1===t.test.generosoM),i.xp6(2),i.Q6J("checked",1===t.test.generosoL),i.xp6(5),i.Q6J("checked",1===t.test.ani_mosoM),i.xp6(2),i.Q6J("checked",1===t.test.ani_mosoL),i.xp6(5),i.Q6J("checked",1===t.test.persistenteM),i.xp6(2),i.Q6J("checked",1===t.test.persistenteL),i.xp6(3),i.Oqu(t.item14Error)}}function HL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 15"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"ADAPTABLE"),i.qZA(),i.TgZ(17,"td")(18,"input",150),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM15(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",151),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL15(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"DISPUTADOR"),i.qZA(),i.TgZ(24,"td")(25,"input",152),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM15(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",153),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL15(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"INDIFERENTE"),i.qZA(),i.TgZ(31,"td")(32,"input",154),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM15(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",155),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL15(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"SANGRE LIVIANA"),i.qZA(),i.TgZ(38,"td")(39,"input",156),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM15(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",157),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL15(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.adaptableM),i.xp6(2),i.Q6J("checked",1===t.test.adaptableL),i.xp6(5),i.Q6J("checked",1===t.test.disputadorM),i.xp6(2),i.Q6J("checked",1===t.test.disputadorL),i.xp6(5),i.Q6J("checked",1===t.test.indiferenteM),i.xp6(2),i.Q6J("checked",1===t.test.indiferenteL),i.xp6(5),i.Q6J("checked",1===t.test.sangrelivianaM),i.xp6(2),i.Q6J("checked",1===t.test.sangrelivianaL),i.xp6(3),i.Oqu(t.item15Error)}}function qL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 16"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"COHIBIDO"),i.qZA(),i.TgZ(17,"td")(18,"input",158),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM16(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",159),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL16(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"EXACTO"),i.qZA(),i.TgZ(24,"td")(25,"input",160),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM16(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",161),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL16(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"FRANCO"),i.qZA(),i.TgZ(31,"td")(32,"input",162),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM16(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",163),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL16(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"BUEN COMPANERO"),i.qZA(),i.TgZ(38,"td")(39,"input",164),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM16(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",165),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL16(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.cohibidoM),i.xp6(2),i.Q6J("checked",1===t.test.cohibidoL),i.xp6(5),i.Q6J("checked",1===t.test.exactoM),i.xp6(2),i.Q6J("checked",1===t.test.exactoL),i.xp6(5),i.Q6J("checked",1===t.test.francoM),i.xp6(2),i.Q6J("checked",1===t.test.francoL),i.xp6(5),i.Q6J("checked",1===t.test.buencompaneroM),i.xp6(2),i.Q6J("checked",1===t.test.buencompaneroL),i.xp6(3),i.Oqu(t.item16Error)}}function jL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 17"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"DOCIL"),i.qZA(),i.TgZ(17,"td")(18,"input",166),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM17(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",167),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL17(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"ATREVIDO"),i.qZA(),i.TgZ(24,"td")(25,"input",168),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM17(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",169),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL17(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"LEAL"),i.qZA(),i.TgZ(31,"td")(32,"input",170),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM17(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",171),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL17(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"ENCANTADOR"),i.qZA(),i.TgZ(38,"td")(39,"input",172),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM17(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",173),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL17(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.docilM),i.xp6(2),i.Q6J("checked",1===t.test.docilL),i.xp6(5),i.Q6J("checked",1===t.test.atrevidoM),i.xp6(2),i.Q6J("checked",1===t.test.atrevidoL),i.xp6(5),i.Q6J("checked",1===t.test.lealM),i.xp6(2),i.Q6J("checked",1===t.test.lealL),i.xp6(5),i.Q6J("checked",1===t.test.encantadorM),i.xp6(2),i.Q6J("checked",1===t.test.encantadorL),i.xp6(3),i.Oqu(t.item17Error)}}function GL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 18"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"COMPETITIVO"),i.qZA(),i.TgZ(17,"td")(18,"input",174),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM18(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",175),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL18(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"ALEGRE"),i.qZA(),i.TgZ(24,"td")(25,"input",176),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM18(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",177),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL18(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"CONSIDERADO"),i.qZA(),i.TgZ(31,"td")(32,"input",178),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM18(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",179),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL18(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"ARMONIOSO"),i.qZA(),i.TgZ(38,"td")(39,"input",180),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM18(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",181),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL18(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.competitivoM),i.xp6(2),i.Q6J("checked",1===t.test.competitivoL),i.xp6(5),i.Q6J("checked",1===t.test.alegreM),i.xp6(2),i.Q6J("checked",1===t.test.alegreL),i.xp6(5),i.Q6J("checked",1===t.test.consideradoM),i.xp6(2),i.Q6J("checked",1===t.test.consideradoL),i.xp6(5),i.Q6J("checked",1===t.test.armoniosoM),i.xp6(2),i.Q6J("checked",1===t.test.armoniosoL),i.xp6(3),i.Oqu(t.item18Error)}}function $L(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 19"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"AMIGUERO"),i.qZA(),i.TgZ(17,"td")(18,"input",182),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM19(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",183),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL19(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"PACIENTE"),i.qZA(),i.TgZ(24,"td")(25,"input",184),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM19(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",185),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL19(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"CONFIANZA EN SI MISMO"),i.qZA(),i.TgZ(31,"td")(32,"input",186),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM19(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",187),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL19(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"MESURADO PARA HABLAR"),i.qZA(),i.TgZ(38,"td")(39,"input",188),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM19(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",189),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL19(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.amigueroM),i.xp6(2),i.Q6J("checked",1===t.test.amigueroL),i.xp6(5),i.Q6J("checked",1===t.test.pacienteM),i.xp6(2),i.Q6J("checked",1===t.test.pacienteL),i.xp6(5),i.Q6J("checked",1===t.test.confianzamismoM),i.xp6(2),i.Q6J("checked",1===t.test.confianzamismoL),i.xp6(5),i.Q6J("checked",1===t.test.mesuradohablarM),i.xp6(2),i.Q6J("checked",1===t.test.mesuradohablarL),i.xp6(3),i.Oqu(t.item19Error)}}function zL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 20"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"DIPLOMATICO"),i.qZA(),i.TgZ(17,"td")(18,"input",190),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM20(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",191),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL20(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"AUDAZ"),i.qZA(),i.TgZ(24,"td")(25,"input",192),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM20(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",193),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL20(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"REFINADO"),i.qZA(),i.TgZ(31,"td")(32,"input",194),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM20(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",195),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL20(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"SATISFECHO"),i.qZA(),i.TgZ(38,"td")(39,"input",196),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM20(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",197),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL20(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.diplomaticoM),i.xp6(2),i.Q6J("checked",1===t.test.diplomaticoL),i.xp6(5),i.Q6J("checked",1===t.test.audazM),i.xp6(2),i.Q6J("checked",1===t.test.audazL),i.xp6(5),i.Q6J("checked",1===t.test.refinadoM),i.xp6(2),i.Q6J("checked",1===t.test.refinadoL),i.xp6(5),i.Q6J("checked",1===t.test.satisfechoM),i.xp6(2),i.Q6J("checked",1===t.test.satisfechoL),i.xp6(3),i.Oqu(t.item20Error)}}function WL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 21"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"DISPUESTO"),i.qZA(),i.TgZ(17,"td")(18,"input",198),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM21(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",199),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL21(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"DESEOSO"),i.qZA(),i.TgZ(24,"td")(25,"input",200),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM21(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",201),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL21(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"CONSECUENTE"),i.qZA(),i.TgZ(31,"td")(32,"input",202),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM21(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",203),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL21(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"ENTUSIASTA"),i.qZA(),i.TgZ(38,"td")(39,"input",204),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM21(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",205),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL21(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.dispuestoM),i.xp6(2),i.Q6J("checked",1===t.test.dispuestoL),i.xp6(5),i.Q6J("checked",1===t.test.deseosoM),i.xp6(2),i.Q6J("checked",1===t.test.deseosoL),i.xp6(5),i.Q6J("checked",1===t.test.consecuenteM),i.xp6(2),i.Q6J("checked",1===t.test.consecuenteL),i.xp6(5),i.Q6J("checked",1===t.test.entusiastaM),i.xp6(2),i.Q6J("checked",1===t.test.entusiastaL),i.xp6(3),i.Oqu(t.item21Error)}}function KL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 22"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"ADMIRABLE"),i.qZA(),i.TgZ(17,"td")(18,"input",206),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM22(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",207),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL22(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"BONDADOSO"),i.qZA(),i.TgZ(24,"td")(25,"input",208),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM22(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",209),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL22(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"RESIGNADO"),i.qZA(),i.TgZ(31,"td")(32,"input",210),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM22(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",211),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL22(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"CARACTER FIRME"),i.qZA(),i.TgZ(38,"td")(39,"input",212),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM22(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",213),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL22(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.admirableM),i.xp6(2),i.Q6J("checked",1===t.test.admirableL),i.xp6(5),i.Q6J("checked",1===t.test.bondadosoM),i.xp6(2),i.Q6J("checked",1===t.test.bondadosoL),i.xp6(5),i.Q6J("checked",1===t.test.resignadoM),i.xp6(2),i.Q6J("checked",1===t.test.resignadoL),i.xp6(5),i.Q6J("checked",1===t.test.caracterfirmeM),i.xp6(2),i.Q6J("checked",1===t.test.caracterfirmeL),i.xp6(3),i.Oqu(t.item22Error)}}function JL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 23"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"CONFORME"),i.qZA(),i.TgZ(17,"td")(18,"input",214),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM23(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",215),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL23(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"CONFIABLE"),i.qZA(),i.TgZ(24,"td")(25,"input",216),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM23(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",217),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL23(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"PACIFICO"),i.qZA(),i.TgZ(31,"td")(32,"input",218),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM23(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",219),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL23(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"POSITIVO"),i.qZA(),i.TgZ(38,"td")(39,"input",220),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM23(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",221),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL23(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.conformeM),i.xp6(2),i.Q6J("checked",1===t.test.conformeL),i.xp6(5),i.Q6J("checked",1===t.test.confiableM),i.xp6(2),i.Q6J("checked",1===t.test.confiableL),i.xp6(5),i.Q6J("checked",1===t.test.pacificoM),i.xp6(2),i.Q6J("checked",1===t.test.pacificoL),i.xp6(5),i.Q6J("checked",1===t.test.positivoM),i.xp6(2),i.Q6J("checked",1===t.test.positivoL),i.xp6(3),i.Oqu(t.item23Error)}}function QL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"h4"),i._uU(2,"PREGUNTA 24"),i.qZA(),i.TgZ(3,"table")(4,"tr"),i._UZ(5,"td"),i.TgZ(6,"td")(7,"b"),i._uU(8,"M"),i.qZA(),i._uU(9,"\xe1s"),i.qZA(),i.TgZ(10,"td")(11,"b"),i._uU(12,"M"),i.qZA(),i._uU(13,"enos"),i.qZA()(),i.TgZ(14,"tr")(15,"td"),i._uU(16,"INQUIETO"),i.qZA(),i.TgZ(17,"td")(18,"input",222),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM24(0))}),i.qZA()(),i.TgZ(19,"td")(20,"input",223),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL24(0))}),i.qZA()()(),i.TgZ(21,"tr")(22,"td"),i._uU(23,"POPULAR"),i.qZA(),i.TgZ(24,"td")(25,"input",224),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM24(1))}),i.qZA()(),i.TgZ(26,"td")(27,"input",225),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL24(1))}),i.qZA()()(),i.TgZ(28,"tr")(29,"td"),i._uU(30,"BUEN VECINO"),i.qZA(),i.TgZ(31,"td")(32,"input",226),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM24(2))}),i.qZA()(),i.TgZ(33,"td")(34,"input",227),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL24(2))}),i.qZA()()(),i.TgZ(35,"tr")(36,"td"),i._uU(37,"DEVOTO"),i.qZA(),i.TgZ(38,"td")(39,"input",228),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setM24(3))}),i.qZA()(),i.TgZ(40,"td")(41,"input",229),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2);return i.KtG(o.setL24(3))}),i.qZA()()()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()()}if(2&n){const t=i.oxw(2);i.xp6(18),i.Q6J("checked",1===t.test.inquietoM),i.xp6(2),i.Q6J("checked",1===t.test.inquietoL),i.xp6(5),i.Q6J("checked",1===t.test.popularM),i.xp6(2),i.Q6J("checked",1===t.test.popularL),i.xp6(5),i.Q6J("checked",1===t.test.buenvecinoM),i.xp6(2),i.Q6J("checked",1===t.test.buenvecinoL),i.xp6(5),i.Q6J("checked",1===t.test.devotoM),i.xp6(2),i.Q6J("checked",1===t.test.devotoL),i.xp6(3),i.Oqu(t.item24Error)}}function YL(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5"),i._uU(5,"Ingresar apellido paterno, materno, nombre, el n\xfamero de folio y puesto"),i.qZA(),i.TgZ(6,"div",5)(7,"label",6),i._uU(8,"Apellido Paterno"),i.qZA(),i.TgZ(9,"input",7),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.appPaterno=o)}),i.qZA(),i.TgZ(10,"span",8)(11,"b"),i._uU(12),i.qZA()()(),i.TgZ(13,"div",5)(14,"label",9),i._uU(15,"Apellido Materno"),i.qZA(),i.TgZ(16,"input",10),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.appMaterno=o)}),i.qZA(),i.TgZ(17,"span",8)(18,"b"),i._uU(19),i.qZA()()(),i.TgZ(20,"div",5)(21,"label",11),i._uU(22,"Nombre"),i.qZA(),i.TgZ(23,"input",12),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.nombre=o)}),i.qZA(),i.TgZ(24,"span",8)(25,"b"),i._uU(26),i.qZA()()(),i.TgZ(27,"div",5)(28,"label",13),i._uU(29,"Matr\xedcula"),i.qZA(),i.TgZ(30,"input",14),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.facebook=o)}),i.qZA(),i.TgZ(31,"span",8)(32,"b"),i._uU(33),i.qZA()()(),i.TgZ(34,"div",5)(35,"label",15),i._uU(36,"Facultad"),i.qZA(),i.TgZ(37,"select",16),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.facultad=o)}),i.TgZ(38,"option",17),i._uU(39,"Facultad de Negocios y Tecnolog\xedas, USBI Ixtac"),i.qZA(),i.TgZ(40,"option",18),i._uU(41,"Facultad de Ingenier\xeda, USBI Ixtac"),i.qZA()(),i.TgZ(42,"span",8)(43,"b"),i._uU(44),i.qZA()()(),i.TgZ(45,"div",5)(46,"label",19),i._uU(47,"Carrera"),i.qZA(),i.TgZ(48,"select",20),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.programaInteres=o)}),i.TgZ(49,"option",21),i._uU(50,"Lic. en Ingenier\xeda de Software"),i.qZA(),i.TgZ(51,"option",22),i._uU(52,"Lic. en Contadur\xeda"),i.qZA(),i.TgZ(53,"option",23),i._uU(54,"Lic. en Administraci\xf3n"),i.qZA(),i.TgZ(55,"option",24),i._uU(56,"Lic. en Gesti\xf3n y Direcci\xf3n de Negocios"),i.qZA(),i.TgZ(57,"option",25),i._uU(58,"Lic. en Tecnolog\xedas de Informaci\xf3n Organizacional"),i.qZA(),i.TgZ(59,"option",26),i._uU(60,"Lic. en Ciencias Pol\xedticas y Gesti\xf3n P\xfablica"),i.qZA(),i.TgZ(61,"option",27),i._uU(62,"Ingreso a MDEIT"),i.qZA()(),i.TgZ(63,"span",8)(64,"b"),i._uU(65),i.qZA()()(),i.TgZ(66,"div",5)(67,"label",28),i._uU(68,"Periodo"),i.qZA(),i.TgZ(69,"select",29),i.NdJ("ngModelChange",function(o){i.CHM(t);const u=i.oxw();return i.KtG(u.test.periodo=o)}),i.TgZ(70,"option",30),i._uU(71,"2024"),i.qZA(),i.TgZ(72,"option",31),i._uU(73,"2025"),i.qZA(),i.TgZ(74,"option",32),i._uU(75,"2026"),i.qZA(),i.TgZ(76,"option",33),i._uU(77,"2027"),i.qZA()(),i.TgZ(78,"span",8)(79,"b"),i._uU(80),i.qZA()()()(),i.TgZ(81,"div",4)(82,"h5"),i._uU(83,' Encontrar\xe1n cuatro palabras agrupadas, seleccionar de esas 4, \xfanicamente 2, la que "M\xe1s" se parezca a uds. y la que "Menos" se parezca. '),i.qZA(),i.TgZ(84,"p"),i._uU(85," Continuar con los grupos de 4 palabras hasta terminar el test."),i._UZ(86,"br"),i._uU(87," No dejar ninguna en blanco. "),i.qZA(),i.YNc(88,ML,45,9,"div",1),i.YNc(89,SL,45,9,"div",1),i.YNc(90,xL,45,9,"div",1),i.YNc(91,kL,45,9,"div",1),i.YNc(92,NL,45,9,"div",1),i.YNc(93,RL,45,9,"div",1),i.YNc(94,OL,45,9,"div",1),i.YNc(95,LL,45,9,"div",1),i.YNc(96,PL,45,9,"div",1),i.YNc(97,FL,45,9,"div",1),i.YNc(98,UL,45,9,"div",1),i.YNc(99,VL,45,9,"div",1),i.YNc(100,BL,45,9,"div",1),i.YNc(101,ZL,45,9,"div",1),i.YNc(102,HL,45,9,"div",1),i.YNc(103,qL,45,9,"div",1),i.YNc(104,jL,45,9,"div",1),i.YNc(105,GL,45,9,"div",1),i.YNc(106,$L,45,9,"div",1),i.YNc(107,zL,45,9,"div",1),i.YNc(108,WL,45,9,"div",1),i.YNc(109,KL,45,9,"div",1),i.YNc(110,JL,45,9,"div",1),i.YNc(111,QL,45,9,"div",1),i.TgZ(112,"div",34)(113,"button",35),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.anteriorPregunta())}),i._uU(114," Anterior "),i.qZA(),i.TgZ(115,"button",36),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.siguientePregunta())}),i._uU(116," Siguiente "),i.qZA()()()()(),i.TgZ(117,"button",37),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.saveTest())}),i._uU(118,"Guardar Registro"),i.qZA(),i.TgZ(119,"span",8)(120,"b"),i._uU(121),i.qZA()()()}if(2&n){const t=i.oxw();i.xp6(9),i.Q6J("ngModel",t.test.appPaterno),i.xp6(3),i.Oqu(t.itemApPaternoError),i.xp6(4),i.Q6J("ngModel",t.test.appMaterno),i.xp6(3),i.Oqu(t.itemApMaternoError),i.xp6(4),i.Q6J("ngModel",t.test.nombre),i.xp6(3),i.Oqu(t.itemNombreError),i.xp6(4),i.Q6J("ngModel",t.test.facebook),i.xp6(3),i.Oqu(t.itemMatriculaError),i.xp6(4),i.Q6J("ngModel",t.test.facultad),i.xp6(7),i.Oqu(t.itemFacultadError),i.xp6(4),i.Q6J("ngModel",t.test.programaInteres),i.xp6(17),i.Oqu(t.itemCarreraError),i.xp6(4),i.Q6J("ngModel",t.test.periodo),i.xp6(11),i.Oqu(t.itemPeriodoError),i.xp6(8),i.Q6J("ngIf",0===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",1===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",2===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",3===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",4===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",5===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",6===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",7===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",8===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",9===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",10===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",11===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",12===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",13===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",14===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",15===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",16===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",17===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",18===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",19===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",20===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",21===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",22===t.currentQuestionIndex),i.xp6(1),i.Q6J("ngIf",23===t.currentQuestionIndex),i.xp6(2),i.Q6J("disabled",0===t.currentQuestionIndex),i.xp6(2),i.Q6J("disabled",23===t.currentQuestionIndex),i.xp6(6),i.Oqu(t.missingValuesError)}}function XL(n,e){if(1&n&&(i.TgZ(0,"div")(1,"h4"),i._uU(2,"Te has registrado exitosamente!"),i.qZA(),i.TgZ(3,"h3"),i._uU(4),i.qZA(),i._uU(5),i._UZ(6,"br"),i._uU(7),i._UZ(8,"br"),i._uU(9),i._UZ(10,"br")(11,"br")(12,"br"),i._uU(13),i._UZ(14,"br"),i._uU(15),i._UZ(16,"br"),i._uU(17),i._UZ(18,"br")(19,"br")(20,"br"),i._uU(21),i._UZ(22,"br"),i._uU(23),i._UZ(24,"br"),i._uU(25),i._UZ(26,"br"),i._uU(27),i._UZ(28,"br"),i.qZA()),2&n){const t=i.oxw();i.xp6(4),i.hij("Felicidades ",t.test.nombre,"!"),i.xp6(1),i.HOy(" ",t.MD," - ",t.MI," - ",t.MS," - ",t.MC," "),i.xp6(2),i.HOy(" ",t.LD," - ",t.LI," - ",t.LS," - ",t.LC," "),i.xp6(2),i.HOy(" ",t.TotD," , ",t.TotI," , ",t.TotS," , ",t.TotC," "),i.xp6(4),i.HOy(" ",t.ResultMD," - ",t.ResultMI," - ",t.ResultMS," - ",t.ResultMC," "),i.xp6(2),i.HOy(" ",t.ResultLD," - ",t.ResultLI," - ",t.ResultLS," - ",t.ResultLC," "),i.xp6(2),i.HOy(" ",t.ResultTotD," - ",t.ResultTotI," - ",t.ResultTotS," - ",t.ResultTotC," "),i.xp6(4),i.lnq(" ",t.FinalT," - ",t.FinalM," - ",t.FinalL," "),i.xp6(2),i.hij(" ",t.FinalResult," "),i.xp6(2),i.hij(" ",t.Result," "),i.xp6(2),i.hij(" ",t.message," ")}}let e2=(()=>{class n{anteriorPregunta(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}siguientePregunta(){this.currentQuestionIndex<23&&this.currentQuestionIndex++}validateText(t){var r=0;return console.log(t),"-"!=t&&""!=t&&(r=1),r}constructor(t){this.testUvWebService=t,this.test=new sk,this.submitted=!1,this.itemApPaternoError="",this.itemApMaternoError="",this.itemNombreError="",this.itemMatriculaError="",this.itemCarreraError="",this.itemPeriodoError="",this.itemFacultadError="",this.item1Error="",this.item2Error="",this.item3Error="",this.item4Error="",this.item5Error="",this.item6Error="",this.item7Error="",this.item8Error="",this.item9Error="",this.item10Error="",this.item11Error="",this.item12Error="",this.item13Error="",this.item14Error="",this.item15Error="",this.item16Error="",this.item17Error="",this.item18Error="",this.item19Error="",this.item20Error="",this.item21Error="",this.item22Error="",this.item23Error="",this.item24Error="",this.missingValuesError="",this.arrMD=[1,5,10,20,30,40,50,60,65,75,84,87,90,93,95,97,97,98,98,98,99],this.arrMI=[4,10,25,40,55,70,82,90,95,96,97,97,97,97,97,97,97,99],this.arrMS=[5,10,16,30,40,55,63,75,84,90,95,96,97,97,97,97,98,98,98,99],this.arrMC=[1,5,16,30,55,70,84,93,95,97,97,97,98,98,98,99],this.arrLD=[99,95,87,80,65,55,50,35,30,20,18,15,10,6,5,4,3,2,2,2,2,1],this.arrLI=[99,95,87,75,55,40,25,16,10,5,4,4,3,3,3,2,2,2,2,1],this.arrLS=[99,97,95,87,80,65,55,35,28,18,10,5,4,3,3,3,2,2,2,1],this.arrLC=[99,97,95,90,84,70,55,40,38,23,10,5,4,3,2,2,1],this.arrtempTC=[[-21,1],[-20,2],[-19,2],[-18,2],[-17,2],[-16,2],[-15,2],[-14,2],[-13,4],[-12,5],[-11,5],[-10,9],[-9,13],[-8,15],[-7,16],[-6,20],[-5,25],[-4,29],[-3,35],[-2,40],[-1,45],[0,50],[1,55],[2,60],[3,65],[4,67],[5,70],[6,75],[7,80],[8,84],[9,85],[10,90],[11,91],[12,94],[13,95],[14,96],[15,97],[16,97],[17,98],[18,98],[19,98],[20,99]],this.arrTD={"-21":1,"-20":2,"-19":2,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":4,"-12":5,"-11":5,"-10":9,"-9":13,"-8":15,"-7":16,"-6":20,"-5":25,"-4":29,"-3":35,"-2":40,"-1":45,0:50,1:55,2:60,3:65,4:67,5:70,6:75,7:80,8:84,9:85,10:90,11:91,12:94,13:95,14:96,15:97,16:97,17:98,18:98,19:98,20:99},this.arrTI={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":2,"-11":2,"-10":3,"-9":4,"-8":5,"-7":6,"-6":10,"-5":16,"-4":20,"-3":29,"-2":35,"-1":45,0:55,1:60,2:70,3:75,4:85,5:90,6:95,7:96,8:97,9:97,10:98,11:98,12:98,13:98,14:98,15:98,16:98,17:99},this.arrTS={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":3,"-11":4,"-10":5,"-9":8,"-8":10,"-7":15,"-6":20,"-5":25,"-4":30,"-3":35,"-2":40,"-1":50,0:57,1:60,2:70,3:75,4:80,5:84,6:87,7:91,8:94,9:96,10:97,11:97,12:98,13:98,14:98,15:98,16:98,17:98,18:98,19:99},this.arrTC={"-16":1,"-15":2,"-14":2,"-13":2,"-12":2,"-11":3,"-10":4,"-9":6,"-8":9,"-7":13,"-6":20,"-5":25,"-4":30,"-3":35,"-2":55,"-1":60,0:70,1:75,2:84,3:90,4:95,5:96,6:97,7:97,8:98,9:98,10:98,11:98,12:98,13:98,14:98,15:99},this.arrInter={1:"Persuasivo\tel que tiene fuerza para hacer creer a otros una cosa, convencer de algo.",2:"Gentil\tel que act\xfaa con cortes\xeda y soltura, con urbanidad. El amable, gallardo, con gracia.",3:"Humilde\tsencillo, que no alardea (no interpretar como vida cristiana)",4:"Original\tel que no es imitaci\xf3n de otro, el singular.",5:"Agresivo\tel que demuestra empuje e iniciativa en una forma positiva, no es el propenso a ofender.",6:"Alma de la fiesta\tel m\xe1s popular, el que genera mayor atracci\xf3n en  el grupo.",7:"Comodino\tel amante de la comodidad, que busca caminos f\xe1ciles.",8:"Temeroso\tel t\xedmido, el cobarde, aprensivo.",9:"Agradable\tel que agrada y complace, gusta a los dem\xe1s.",10:"Temeroso de Dios\tel que reconoce el poder de Dios sobre todas las cosas, religioso",11:"Tenaz\tel obstinado y testarudo, con inquebrantable fuerza de voluntad para realizar alg\xfan objetivo.",12:"Atractivo\tcualidad de la persona (encanto) que atrae la voluntad de los dem\xe1s.",13:"Cauteloso\tel reservado que act\xfaa con cuidado, con precauci\xf3n.",14:"Determinado\tel atrevido, que toma resoluciones, preciso y decidido, que define.",15:"Convincente\tel que sabe convencer y obligar a otro con razones a que reconozca una cosa o cambie de opini\xf3n.",25:"Fuerza de voluntad\tdeterminaci\xf3n inquebrantable para lograr algo, firmeza.",26:"Mente abierta\tcualidad para escuchar y recibir otro punto de vista diferente.",27:"Complaciente\tel que procura ser agradable, servicial, sol\xedcito, comedido, conciliador o deferente.",28:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",29:"Confiado\tel presumido y vanidoso, cr\xe9dulo y sencillo. No el que conf\xeda en s\xed mismo.",30:"Simpatizador\tel que manifiesta inclinaci\xf3n o afecto natural hacia otras personas.",31:"Tolerante\tel que reconoce y respeta las opiniones, pr\xe1cticas y comportamiento de otros, aunque sean diferentes a las de \xe9l. No el que sufre con paciencia o el que deja pasar cosas que no son l\xedcitas.",32:"Afirmativo\tel que responde en la mayor\xeda de las ocasiones de una manera positiva. No el que se sostiene o ratifica lo dicho.",33:"Ecu\xe1nime\tel calmado, sereno, imparcial, inalterable, paciente, prudente. Que tiene siempre el mismo \xe1nimo.",34:"Preciso\tel puntual y exacto, con claridad y determinado.",35:"Nervioso\tel ansioso, al que le falta sentido de seguridad",36:"Jovial\tel apacible, alegre y festivo.",37:"Disciplinado\tel acostumbrado a la obediencia, a seguir las reglas.",38:"Generoso\tel que obra con magnanimidad y nobleza, liberal dadivoso y franco.",39:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",40:"Persistente\tel que supera obst\xe1culos, el que es constante, y perseverante, el que se mantiene en un prop\xf3sito.",41:"Competitivo\tel que contiende o disputa con otros por una causa de superaci\xf3n com\xfan por perfecci\xf3n o por la posesi\xf3n de propiedades.",42:"Alegre\tel  que est\xe1 lleno de alegr\xeda y la ocasiona en otros. Contento de animo, festivo.",43:"Considerado\tel que obra con reflexi\xf3n y que trata con respeto a los dem\xe1s.",44:"Armonioso\tel que tiene amistad y buena correspondencia, el que no tiene fricciones con otros.",45:"Admirable\tque es digno de admiraci\xf3n. Notable.",46:"Bondadoso\tel que es muy bueno, humanitario.",47:"Resignado\tel que se conforma, se sujeta, el condescendiente. El que acepta estar bajo la voluntad de otro.",48:"Car\xe1cter firme\tque no cambia f\xe1cilmente su punto de vista o su estilo de condici\xf3n.",49:"Obediente\tel que sabe seguir indicaciones sin poner su creatividad, cumple voluntad de quien manda, d\xf3cil, subordinado.",50:"Quisquilloso\tel que f\xe1cilmente se agravia u ofende, demasiado delicado en el trato, meticuloso.",51:"Inconquistable\tque no se deja vencer con ruegos, detalles o agasajos, susceptible.",52:"Juguet\xf3n\tel que tiene buen sentido del humor, aficionado a bromas.",53:"Respetuoso\tel que guarda reverencia, consideraci\xf3n y cortes\xeda para los dem\xe1s.",54:"Emprendedor\tque muestra imaginaci\xf3n instintiva y empuje, que se dedica a resolver situaciones dif\xedciles. Atrevido.",55:"Optimista\tel que suele ver y juzgar las cosas bajo su aspecto m\xe1s favorable.",56:"Servicial\tel que sirve con diligencia, siempre dispuesto a complacer a otros, amable y colaborador.",57:"Valiente\tel que manifiesta coraje y decisi\xf3n. El fuerte, en\xe9rgico y animoso.",58:"Inspirador\tel que anima la mente o las emociones de otros; infunde entusiasmo.",59:"Sumiso\tel que permite por s\xed mismo estar sujeto a otro. Obediente y d\xf3cil.",60:"T\xedmido\tcallado, no busca sobresalir.",61:"Adaptable\tel que se ajusta f\xe1cilmente a condiciones nuevas o diferentes.",62:"Disputador\tdado a arg\xfcir o debatir razones para, por o contra algo. Discutidor.",63:"Indiferente\tel que parece en forma sistem\xe1tica no estar involucrado. No presenta motivo de preferencia.",64:'"Sangre liviana"\tel que a todo el mundo le cae bien, persona simp\xe1tica.',65:"Amiguero\tel que busca y goza la compa\xf1\xeda de otros, muy sociable.",66:"Paciente\tel que es capaz de soportar, sabe esperar con calma el momento oportuno.",67:"Confianza en s\xed mismo\tconf\xeda en sus propias capacidades y recursos, autosuficiente.",68:"Mesurado para hablar\tmedido para hablar, habla lo necesario.",69:"Conforme\tel satisfecho con lo que tiene, de acuerdo con el parecer de otros.",70:"Confiable\tpersona con la cual se tiene confianza.",71:"Pac\xedfico\tel que tiene calma y serenidad, amante de la paz.",72:"Positivo\toptimista.",73:"Aventurero\tel que busca aventuras",74:"Receptivo\tpersona con capacidad de recibir, facilidad para captar algo",75:"Cordial\tpersona amable, afectuosa, cari\xf1osa.",76:"Moderado\tguarda medio entre dos extremos, que mantiene un equilibrio en sus acciones.",77:"Indulgente\tel que perdona f\xe1cilmente, tolerante, conciliador.",78:"Esteta\tel que es aficionado, percibe o cultiva la belleza. Busca en todo la elegancia.",79:"Vigoroso\tel robusto y fuerte.",80:"Sociable\tel que busca y necesita del compa\xf1erismo de otros, f\xe1cil de tratar con \xe9l.",81:"Parlanch\xedn\tpersona locuaz, que tiene inclinaci\xf3n por hablar mucho, platicador.",82:"Controlado\tejerce influencia resultante en s\xed mismo y en otros, con dominio de s\xed.",83:"Convencional\tel que se mantiene en una trayectoria de uso general.",84:"Decisivo\tel resuelto, determinado e incuestionable.",85:"Cohibido\tel que se limita, restringe o controla ante los dem\xe1s.",86:"Exacto\tjusto, preciso, matem\xe1tico, calculador.",87:"Franco\tespont\xe1neo, leal, sincero.",88:"Buen compa\xf1ero\tpersona sociable, que mantiene armon\xeda con otros.",89:"Diplom\xe1tico\tel que se caracteriza por el buen tacto en su trato con la gente.",90:"Audaz\tel arrogante e insolente. No el osado ni atrevido.",91:"Refinado\tel elegante y fino en su manera de ser, se distingue.",92:"Satisfecho\tse contenta o conforma con lo que tiene.",93:"Inquieto\tel que gusta de lo nuevo, vers\xe1til y cambiante.",94:"Popular\tel que genera atracci\xf3n en el grupo.",95:"Buen vecino\tel que act\xfaa con soltura y cortes\xeda.",96:"Devoto\tel sumiso y fiel."},this.message="",this.currentQuestionIndex=0,this.test.appPaterno="",this.test.appMaterno="",this.test.nombre="",this.test.facebook="",this.test.programaInteres="",this.test.periodo="2025",this.test.facultad="fnt"}validateGroups(){var t,r=this.validateText(this.test.appPaterno);this.itemApPaternoError=0==r?"Ap Paterno requerido.":"";var o=this.validateText(this.test.appMaterno);this.itemApMaternoError=0==o?"Ap Materno requerido.":"";var u=this.validateText(this.test.nombre);this.itemNombreError=0==u?"Nombre requerido.":"";var d=this.validateText(this.test.facebook);this.itemMatriculaError=0==d?"Matricula requerida.":"";var m=this.validateText(this.test.programaInteres);this.itemCarreraError=0==m?"Carrera requerida.":"";var w=this.validateText(this.test.periodo);this.itemCarreraError=0==w?"Carrera requerida.":"";var D=this.validateText(this.test.facultad);this.itemCarreraError=0==D?"Carrera requerida.":"";var M=this.validateItem(this.test.persuasivoM,this.test.persuasivoL,this.test.gentilM,this.test.gentilL,this.test.humildeM,this.test.humildeL,this.test.originalM,this.test.originalL);M<2&&(this.item1Error="Grupo 1 requerido ...");var N=this.validateItem(this.test.fuerzavoluntadM,this.test.fuerzavoluntadL,this.test.menteabiertaM,this.test.menteabiertaL,this.test.complacienteM,this.test.complacienteL,this.test.animosoM,this.test.animosoL);N<2&&(this.item2Error="Grupo 2 requerido ...");var q=this.validateItem(this.test.obedienteM,this.test.obedienteL,this.test.quisquillosoM,this.test.quisquillosoL,this.test.inconquistableM,this.test.inconquistableL,this.test.juguetonM,this.test.juguetonL);q<2&&(this.item3Error="Grupo 3 requerido ...");var Y=this.validateItem(this.test.aventureroM,this.test.aventureroL,this.test.receptivoM,this.test.receptivoL,this.test.cordialM,this.test.cordialL,this.test.moderadoM,this.test.moderadoL);Y<2&&(this.item4Error="Grupo 4 requerido ...");var me=this.validateItem(this.test.agresivoM,this.test.agresivoL,this.test.almafiestaM,this.test.almafiestaL,this.test.comodinoM,this.test.comodinoL,this.test.temerosoM,this.test.temerosoL);me<2&&(this.item5Error="Grupo 5 requerido ...");var Le=this.validateItem(this.test.confiadoM,this.test.confiadoL,this.test.simpatizadorM,this.test.simpatizadorL,this.test.toleranteM,this.test.toleranteL,this.test.afirmativoM,this.test.afirmativoL);Le<2&&(this.item6Error="Grupo 6 requerido ...");var Fe=this.validateItem(this.test.respetuosoM,this.test.respetuosoL,this.test.emprendedorM,this.test.emprendedorL,this.test.optimistaM,this.test.optimistaL,this.test.servicialM,this.test.servicialL);Fe<2&&(this.item7Error="Grupo 7 requerido ...");var dt=this.validateItem(this.test.indulgenteM,this.test.indulgenteL,this.test.estetaM,this.test.estetaL,this.test.vigorosoM,this.test.vigorosoL,this.test.sociableM,this.test.sociableL);dt<2&&(this.item8Error="Grupo 8 requerido ...");var xt=this.validateItem(this.test.agradableM,this.test.agradableL,this.test.temerosodiosM,this.test.temerosodiosL,this.test.tenazM,this.test.tenazL,this.test.atractivoM,this.test.atractivoL);xt<2&&(this.item9Error="Grupo 9 requerido ...");var It=this.validateItem(this.test.ecuanimeM,this.test.ecuanimeL,this.test.precisoM,this.test.precisoL,this.test.nerviosoM,this.test.nerviosoL,this.test.jovialM,this.test.jovialL);It<2&&(this.item10Error="Grupo 10 requerido ...");var kt=this.validateItem(this.test.valienteM,this.test.valienteL,this.test.inspiradorM,this.test.inspiradorL,this.test.sumisoM,this.test.sumisoL,this.test.timidoM,this.test.timidoL);kt<2&&(this.item11Error="Grupo 11 requerido ...");var Zt=this.validateItem(this.test.parlanchinM,this.test.parlanchinL,this.test.controladoM,this.test.controladoL,this.test.convencionalM,this.test.convencionalL,this.test.decisivoM,this.test.decisivoL);Zt<2&&(this.item12Error="Grupo 12 requerido ...");var nn=this.validateItem(this.test.cautelosoM,this.test.cautelosoL,this.test.determinadoM,this.test.determinadoL,this.test.convincenteM,this.test.convincenteL,this.test.bonachonM,this.test.bonachonL);nn<2&&(this.item13Error="Grupo 13 requerido ...");var vi=this.validateItem(this.test.disciplinadoM,this.test.disciplinadoL,this.test.generosoM,this.test.generosoL,this.test.ani_mosoM,this.test.ani_mosoL,this.test.persistenteM,this.test.persistenteL);vi<2&&(this.item14Error="Grupo 14 requerido ...");var Hu=this.validateItem(this.test.adaptableM,this.test.adaptableL,this.test.disputadorM,this.test.disputadorL,this.test.indiferenteM,this.test.indiferenteL,this.test.sangrelivianaM,this.test.sangrelivianaL);Hu<2&&(this.item15Error="Grupo 15 requerido ...");var Ww=this.validateItem(this.test.cohibidoM,this.test.cohibidoL,this.test.exactoM,this.test.exactoL,this.test.francoM,this.test.francoL,this.test.buencompaneroM,this.test.buencompaneroL);Ww<2&&(this.item16Error="Grupo 16 requerido ...");var ok=this.validateItem(this.test.docilM,this.test.docilL,this.test.atrevidoM,this.test.atrevidoL,this.test.lealM,this.test.lealL,this.test.encantadorM,this.test.encantadorL);ok<2&&(this.item17Error="Grupo 17 requerido ...");var ak=this.validateItem(this.test.competitivoM,this.test.competitivoL,this.test.alegreM,this.test.alegreL,this.test.consideradoM,this.test.consideradoL,this.test.armoniosoM,this.test.armoniosoL);ak<2&&(this.item18Error="Grupo 18 requerido ...");var ck=this.validateItem(this.test.amigueroM,this.test.amigueroL,this.test.pacienteM,this.test.pacienteL,this.test.confianzamismoM,this.test.confianzamismoL,this.test.mesuradohablarM,this.test.mesuradohablarL);ck<2&&(this.item19Error="Grupo 19 requerido ...");var uk=this.validateItem(this.test.diplomaticoM,this.test.diplomaticoL,this.test.audazM,this.test.audazL,this.test.refinadoM,this.test.refinadoL,this.test.satisfechoM,this.test.satisfechoL);uk<2&&(this.item20Error="Grupo 20 requerido ...");var lk=this.validateItem(this.test.dispuestoM,this.test.dispuestoL,this.test.deseosoM,this.test.deseosoL,this.test.consecuenteM,this.test.consecuenteL,this.test.entusiastaM,this.test.entusiastaL);lk<2&&(this.item21Error="Grupo 21 requerido ...");var dk=this.validateItem(this.test.admirableM,this.test.admirableL,this.test.bondadosoM,this.test.bondadosoL,this.test.resignadoM,this.test.resignadoL,this.test.caracterfirmeM,this.test.caracterfirmeL);dk<2&&(this.item22Error="Grupo 22 requerido ...");var hk=this.validateItem(this.test.conformeM,this.test.conformeL,this.test.confiableM,this.test.confiableL,this.test.pacificoM,this.test.pacificoL,this.test.positivoM,this.test.positivoL);hk<2&&(this.item23Error="Grupo 23 requerido ...");var fk=this.validateItem(this.test.inquietoM,this.test.inquietoL,this.test.popularM,this.test.popularL,this.test.buenvecinoM,this.test.buenvecinoL,this.test.devotoM,this.test.devotoL);return fk<2&&(this.item24Error="Grupo 24 requerido ..."),t=r+o+u+d+m+M+N+q+Y+me+Le+Fe+dt+xt+It+kt+Zt+nn+vi+Hu+Ww+ok+ak+ck+uk+lk+dk+hk+fk,console.log("total "+t),t}saveTest(){this.validateGroups()<53?this.missingValuesError="LLenar campos requeridos":(this.calculateTest(),this.missingValuesError="guardando ...",this.testUvWebService.create(this.test).then(()=>{console.log("Created new item successfully!"),this.submitted=!0}))}calculateTest(){console.log(this.test),this.message="",this.MD=Number(this.test.agresivoM)+Number(this.test.tenazM)+Number(this.test.determinadoM)+Number(this.test.atrevidoM)+Number(this.test.afirmativoM)+Number(this.test.persistenteM)+Number(this.test.competitivoM)+Number(this.test.caracterfirmeM)+Number(this.test.inconquistableM)+Number(this.test.emprendedorM)+Number(this.test.valienteM)+Number(this.test.disputadorM)+Number(this.test.confianzamismoM)+Number(this.test.positivoM),Number(this.test.aventureroM),Number(this.test.vigorosoM),Number(this.test.decisivoM),Number(this.test.francoM),Number(this.test.audazM),Number(this.test.inquietoM),this.MI=Number(this.test.persuasivoM)+Number(this.test.almafiestaM)+Number(this.test.atractivoM)+Number(this.test.convincenteM)+Number(this.test.encantadorM)+Number(this.test.animosoM)+Number(this.test.confiadoM)+Number(this.test.admirableM)+Number(this.test.juguetonM)+Number(this.test.optimistaM)+Number(this.test.inspiradorM)+Number(this.test.sangrelivianaM)+Number(this.test.amigueroM)+Number(this.test.cordialM)+Number(this.test.sociableM)+Number(this.test.parlanchinM)+Number(this.test.buencompaneroM)+Number(this.test.popularM),this.MS=Number(this.test.gentilM)+Number(this.test.comodinoM)+Number(this.test.bonachonM)+Number(this.test.lealM)+Number(this.test.dispuestoM)+Number(this.test.complacienteM)+Number(this.test.ecuanimeM)+Number(this.test.generosoM)+Number(this.test.consideradoM)+Number(this.test.bondadosoM)+Number(this.test.obedienteM)+Number(this.test.servicialM)+Number(this.test.pacienteM)+Number(this.test.confiableM)+Number(this.test.moderadoM)+Number(this.test.indulgenteM)+Number(this.test.controladoM)+Number(this.test.satisfechoM)+Number(this.test.buenvecinoM),this.MC=Number(this.test.humildeM)+Number(this.test.temerosodiosM)+Number(this.test.cautelosoM)+Number(this.test.consecuenteM)+Number(this.test.menteabiertaM)+Number(this.test.precisoM)+Number(this.test.disciplinadoM)+Number(this.test.respetuosoM)+Number(this.test.adaptableM)+Number(this.test.mesuradohablarM)+Number(this.test.pacificoM)+Number(this.test.receptivoM)+Number(this.test.exactoM)+Number(this.test.diplomaticoM)+Number(this.test.devotoM),this.LD=Number(this.test.originalL)+Number(this.test.tenazL)+Number(this.test.atractivoL)+Number(this.test.entusiastaL)+Number(this.test.fuerzavoluntadL)+Number(this.test.afirmativoL)+Number(this.test.nerviosoL)+Number(this.test.persistenteL)+Number(this.test.competitivoL)+Number(this.test.emprendedorM)+Number(this.test.caracterfirmeL)+Number(this.test.inconquistableL)+Number(this.test.emprendedorL)+Number(this.test.disputadorL),Number(this.test.confianzamismoL),Number(this.test.positivoL),Number(this.test.aventureroL),Number(this.test.vigorosoL),Number(this.test.decisivoL),Number(this.test.francoL),Number(this.test.audazL),Number(this.test.inquietoL),this.LI=Number(this.test.almafiestaL)+Number(this.test.atractivoL)+Number(this.test.convincenteL)+Number(this.test.encantadorL)+Number(this.test.animosoL)+Number(this.test.jovialL)+Number(this.test.ani_mosoL)+Number(this.test.alegreL)+Number(this.test.juguetonL)+Number(this.test.optimistaL)+Number(this.test.sangrelivianaL)+Number(this.test.amigueroL)+Number(this.test.confiableL)+Number(this.test.cordialL)+Number(this.test.sociableL)+Number(this.test.parlanchinL)+Number(this.test.buencompaneroL)+Number(this.test.refinadoL)+Number(this.test.popularL),this.LS=Number(this.test.gentilL)+Number(this.test.comodinoL)+Number(this.test.agradableL)+Number(this.test.complacienteL)+Number(this.test.simpatizadorL)+Number(this.test.ecuanimeL)+Number(this.test.generosoL)+Number(this.test.consideradoL)+Number(this.test.servicialL)+Number(this.test.sumisoL)+Number(this.test.indiferenteL)+Number(this.test.pacienteL)+Number(this.test.conformeL)+Number(this.test.moderadoL)+Number(this.test.indulgenteL)+Number(this.test.controladoL)+Number(this.test.cohibidoL)+Number(this.test.satisfechoL)+Number(this.test.buenvecinoL),this.LC=Number(this.test.humildeL)+Number(this.test.temerosoL)+Number(this.test.temerosodiosL)+Number(this.test.cautelosoL)+Number(this.test.docilL)+Number(this.test.consecuenteL)+Number(this.test.toleranteL)+Number(this.test.precisoL)+Number(this.test.armoniosoL)+Number(this.test.resignadoL)+Number(this.test.quisquillosoL)+Number(this.test.timidoL)+Number(this.test.pacificoL)+Number(this.test.estetaL),Number(this.test.convencionalL),Number(this.test.devotoL),this.TotD=Number(this.MD)-Number(this.LD),this.TotI=Number(this.MI)-Number(this.LI),this.TotS=Number(this.MS)-Number(this.LS),this.TotC=Number(this.MC)-Number(this.LC),this.ResultMD=this.arrMD[this.MD],this.ResultMI=this.arrMI[this.MI],this.ResultMS=this.arrMS[this.MS],this.ResultMC=this.arrMC[this.MC],this.ResultLD=this.arrLD[this.LD],this.ResultLI=this.arrLI[this.LI],this.ResultLS=this.arrLS[this.LS],this.ResultLC=this.arrLC[this.LC],this.ResultTotD=this.arrTD[this.TotD],this.ResultTotI=this.arrTI[this.TotI],this.ResultTotS=this.arrTS[this.TotS],this.ResultTotC=this.arrTC[this.TotC];var r=[this.ResultMD,this.ResultMI,this.ResultMS,this.ResultMC],o=[this.ResultLD,this.ResultLI,this.ResultLS,this.ResultLC],u=Math.max(...[this.ResultTotD,this.ResultTotI,this.ResultTotS,this.ResultTotC].map(w=>w)),d=Math.max(...r.map(w=>w)),m=Math.max(...o.map(w=>w));this.FinalT=u,this.FinalM=d,this.FinalL=m,this.FinalResult=(this.FinalT+this.FinalM+this.FinalL)/3,this.Result=this.FinalResult.toFixed(0),this.message=this.arrInter[this.Result],this.test.FinalT=this.FinalT,this.test.FinalM=this.FinalM,this.test.FinalL=this.FinalL,this.test.FinalResult=this.FinalResult,this.test.Result=this.Result,this.test.message=this.message}newTest(){this.submitted=!1,this.test=new sk}setDuplicateError(t){var r="";return 1==t&&(r="ERROR: Seleccione Diferentes categorias"),r}validateItem(t,r,o,u,d,m,w,D){var M=t+r+o+u+d+m+w+D;return 1==t&&1==r&&(M=0),1==o&&1==u&&(M=0),1==d&&1==m&&(M=0),1==w&&1==D&&(M=0),M}setM1(t){return this.test.persuasivoM=0,this.test.gentilM=0,this.test.humildeM=0,this.test.originalM=0,0==t&&(this.test.persuasivoM=1,this.item1Error=this.setDuplicateError(this.test.persuasivoL)),1==t&&(this.test.gentilM=1,this.item1Error=this.setDuplicateError(this.test.gentilL)),2==t&&(this.test.humildeM=1,this.item1Error=this.setDuplicateError(this.test.humildeL)),3==t&&(this.test.originalM=1,this.item1Error=this.setDuplicateError(this.test.originalL)),1}setL1(t){this.test.persuasivoL=0,this.test.gentilL=0,this.test.humildeL=0,this.test.originalL=0,0==t&&(this.test.persuasivoL=1,this.item1Error=this.setDuplicateError(this.test.persuasivoM)),1==t&&(this.test.gentilL=1,this.item1Error=this.setDuplicateError(this.test.gentilM)),2==t&&(this.test.humildeL=1,this.item1Error=this.setDuplicateError(this.test.humildeM)),3==t&&(this.test.originalL=1,this.item1Error=this.setDuplicateError(this.test.originalM))}setM2(t){return this.test.fuerzavoluntadM=0,this.test.menteabiertaM=0,this.test.complacienteM=0,this.test.animosoM=0,0==t&&(this.test.fuerzavoluntadM=1,this.item2Error=this.setDuplicateError(this.test.fuerzavoluntadL)),1==t&&(this.test.menteabiertaM=1,this.item2Error=this.setDuplicateError(this.test.menteabiertaL)),2==t&&(this.test.complacienteM=1,this.item2Error=this.setDuplicateError(this.test.competitivoL)),3==t&&(this.test.animosoM=1,this.item2Error=this.setDuplicateError(this.test.animosoL)),1}setL2(t){return this.test.fuerzavoluntadL=0,this.test.menteabiertaL=0,this.test.complacienteL=0,this.test.animosoL=0,0==t&&(this.test.fuerzavoluntadL=1,this.item2Error=this.setDuplicateError(this.test.fuerzavoluntadM)),1==t&&(this.test.menteabiertaL=1,this.item2Error=this.setDuplicateError(this.test.menteabiertaM)),2==t&&(this.test.complacienteL=1,this.item2Error=this.setDuplicateError(this.test.complacienteM)),3==t&&(this.test.animosoL=1,this.item2Error=this.setDuplicateError(this.test.animosoM)),1}setM3(t){return this.test.obedienteM=0,this.test.quisquillosoM=0,this.test.inconquistableM=0,this.test.juguetonM=0,0==t&&(this.test.obedienteM=1,this.item3Error=this.setDuplicateError(this.test.obedienteL)),1==t&&(this.test.quisquillosoM=1,this.item3Error=this.setDuplicateError(this.test.quisquillosoL)),2==t&&(this.test.inconquistableM=1,this.item3Error=this.setDuplicateError(this.test.inconquistableL)),3==t&&(this.test.juguetonM=1,this.item3Error=this.setDuplicateError(this.test.juguetonL)),1}setL3(t){return this.test.obedienteL=0,this.test.quisquillosoL=0,this.test.inconquistableL=0,this.test.juguetonL=0,0==t&&(this.test.obedienteL=1,this.item3Error=this.setDuplicateError(this.test.obedienteM)),1==t&&(this.test.quisquillosoL=1,this.item3Error=this.setDuplicateError(this.test.quisquillosoM)),2==t&&(this.test.inconquistableL=1,this.item3Error=this.setDuplicateError(this.test.inconquistableM)),3==t&&(this.test.juguetonL=1,this.item3Error=this.setDuplicateError(this.test.juguetonM)),1}setM4(t){return this.test.aventureroM=0,this.test.receptivoM=0,this.test.cordialM=0,this.test.moderadoM=0,0==t&&(this.test.aventureroM=1,this.item4Error=this.setDuplicateError(this.test.aventureroL)),1==t&&(this.test.receptivoM=1,this.item4Error=this.setDuplicateError(this.test.receptivoL)),2==t&&(this.test.cordialM=1,this.item4Error=this.setDuplicateError(this.test.cordialL)),3==t&&(this.test.moderadoM=1,this.item4Error=this.setDuplicateError(this.test.moderadoL)),1}setL4(t){return this.test.aventureroL=0,this.test.receptivoL=0,this.test.cordialL=0,this.test.moderadoL=0,0==t&&(this.test.aventureroL=1,this.item4Error=this.setDuplicateError(this.test.aventureroM)),1==t&&(this.test.receptivoL=1,this.item4Error=this.setDuplicateError(this.test.receptivoM)),2==t&&(this.test.cordialL=1,this.item4Error=this.setDuplicateError(this.test.cordialM)),3==t&&(this.test.moderadoL=1,this.item4Error=this.setDuplicateError(this.test.moderadoM)),1}setM5(t){return this.test.agresivoM=0,this.test.almafiestaM=0,this.test.comodinoM=0,this.test.temerosoM=0,0==t&&(this.test.agresivoM=1,this.item5Error=this.setDuplicateError(this.test.agresivoL)),1==t&&(this.test.almafiestaM=1,this.item5Error=this.setDuplicateError(this.test.almafiestaL)),2==t&&(this.test.comodinoM=1,this.item5Error=this.setDuplicateError(this.test.comodinoL)),3==t&&(this.test.temerosoM=1,this.item5Error=this.setDuplicateError(this.test.temerosoL)),1}setL5(t){return this.test.agresivoL=0,this.test.almafiestaL=0,this.test.comodinoL=0,this.test.temerosoL=0,0==t&&(this.test.agresivoL=1,this.item5Error=this.setDuplicateError(this.test.agresivoM)),1==t&&(this.test.almafiestaL=1,this.item5Error=this.setDuplicateError(this.test.almafiestaM)),2==t&&(this.test.comodinoL=1,this.item5Error=this.setDuplicateError(this.test.comodinoM)),3==t&&(this.test.temerosoL=1,this.item5Error=this.setDuplicateError(this.test.temerosoM)),1}setM6(t){return this.test.confiadoM=0,this.test.simpatizadorM=0,this.test.toleranteM=0,this.test.afirmativoM=0,0==t&&(this.test.confiadoM=1,this.item6Error=this.setDuplicateError(this.test.confiadoL)),1==t&&(this.test.simpatizadorM=1,this.item6Error=this.setDuplicateError(this.test.simpatizadorL)),2==t&&(this.test.toleranteM=1,this.item6Error=this.setDuplicateError(this.test.toleranteL)),3==t&&(this.test.afirmativoM=1,this.item6Error=this.setDuplicateError(this.test.afirmativoL)),1}setL6(t){return this.test.confiadoL=0,this.test.simpatizadorL=0,this.test.toleranteL=0,this.test.afirmativoL=0,0==t&&(this.test.confiadoL=1,this.item6Error=this.setDuplicateError(this.test.confiadoM)),1==t&&(this.test.simpatizadorL=1,this.item6Error=this.setDuplicateError(this.test.simpatizadorM)),2==t&&(this.test.toleranteL=1,this.item6Error=this.setDuplicateError(this.test.toleranteM)),3==t&&(this.test.afirmativoL=1,this.item6Error=this.setDuplicateError(this.test.afirmativoM)),1}setM7(t){return this.test.respetuosoM=0,this.test.emprendedorM=0,this.test.optimistaM=0,this.test.servicialM=0,0==t&&(this.test.respetuosoM=1,this.item7Error=this.setDuplicateError(this.test.respetuosoL)),1==t&&(this.test.emprendedorM=1,this.item7Error=this.setDuplicateError(this.test.emprendedorL)),2==t&&(this.test.optimistaM=1,this.item7Error=this.setDuplicateError(this.test.optimistaL)),3==t&&(this.test.servicialM=1,this.item7Error=this.setDuplicateError(this.test.servicialL)),1}setL7(t){return this.test.respetuosoL=0,this.test.emprendedorL=0,this.test.optimistaL=0,this.test.servicialL=0,0==t&&(this.test.respetuosoL=1,this.item7Error=this.setDuplicateError(this.test.respetuosoM)),1==t&&(this.test.emprendedorL=1,this.item7Error=this.setDuplicateError(this.test.emprendedorM)),2==t&&(this.test.optimistaL=1,this.item7Error=this.setDuplicateError(this.test.optimistaM)),3==t&&(this.test.servicialL=1,this.item7Error=this.setDuplicateError(this.test.servicialM)),1}setM8(t){return this.test.indulgenteM=0,this.test.estetaM=0,this.test.vigorosoM=0,this.test.sociableM=0,0==t&&(this.test.indulgenteM=1,this.item8Error=this.setDuplicateError(this.test.indulgenteL)),1==t&&(this.test.estetaM=1,this.item8Error=this.setDuplicateError(this.test.estetaL)),2==t&&(this.test.vigorosoM=1,this.item8Error=this.setDuplicateError(this.test.vigorosoL)),3==t&&(this.test.sociableM=1,this.item8Error=this.setDuplicateError(this.test.sociableL)),1}setL8(t){return this.test.indulgenteL=0,this.test.estetaL=0,this.test.vigorosoL=0,this.test.sociableL=0,0==t&&(this.test.indulgenteL=1,this.item8Error=this.setDuplicateError(this.test.indulgenteM)),1==t&&(this.test.estetaL=1,this.item8Error=this.setDuplicateError(this.test.estetaM)),2==t&&(this.test.vigorosoL=1,this.item8Error=this.setDuplicateError(this.test.vigorosoM)),3==t&&(this.test.sociableL=1,this.item8Error=this.setDuplicateError(this.test.sociableM)),1}setM9(t){return this.test.agradableM=0,this.test.temerosodiosM=0,this.test.tenazM=0,this.test.atractivoM=0,0==t&&(this.test.agradableM=1,this.item9Error=this.setDuplicateError(this.test.agradableL)),1==t&&(this.test.temerosodiosM=1,this.item9Error=this.setDuplicateError(this.test.temerosodiosL)),2==t&&(this.test.tenazM=1,this.item9Error=this.setDuplicateError(this.test.tenazL)),3==t&&(this.test.atractivoM=1,this.item9Error=this.setDuplicateError(this.test.atractivoL)),1}setL9(t){return this.test.agradableL=0,this.test.temerosodiosL=0,this.test.tenazL=0,this.test.atractivoL=0,0==t&&(this.test.agradableL=1,this.item9Error=this.setDuplicateError(this.test.agradableM)),1==t&&(this.test.temerosodiosL=1,this.item9Error=this.setDuplicateError(this.test.temerosodiosM)),2==t&&(this.test.tenazL=1,this.item9Error=this.setDuplicateError(this.test.tenazM)),3==t&&(this.test.atractivoL=1,this.item9Error=this.setDuplicateError(this.test.atractivoM)),1}setM10(t){return this.test.ecuanimeM=0,this.test.precisoM=0,this.test.nerviosoM=0,this.test.jovialM=0,0==t&&(this.test.ecuanimeM=1,this.item10Error=this.setDuplicateError(this.test.ecuanimeL)),1==t&&(this.test.precisoM=1,this.item10Error=this.setDuplicateError(this.test.precisoL)),2==t&&(this.test.nerviosoM=1,this.item10Error=this.setDuplicateError(this.test.nerviosoL)),3==t&&(this.test.jovialM=1,this.item10Error=this.setDuplicateError(this.test.jovialL)),1}setL10(t){return this.test.ecuanimeL=0,this.test.precisoL=0,this.test.nerviosoL=0,this.test.jovialL=0,0==t&&(this.test.ecuanimeL=1,this.item10Error=this.setDuplicateError(this.test.ecuanimeM)),1==t&&(this.test.precisoL=1,this.item10Error=this.setDuplicateError(this.test.precisoM)),2==t&&(this.test.nerviosoL=1,this.item10Error=this.setDuplicateError(this.test.nerviosoM)),3==t&&(this.test.jovialL=1,this.item10Error=this.setDuplicateError(this.test.jovialM)),1}setM11(t){return this.test.valienteM=0,this.test.inspiradorM=0,this.test.sumisoM=0,this.test.timidoM=0,0==t&&(this.test.valienteM=1,this.item11Error=this.setDuplicateError(this.test.valienteL)),1==t&&(this.test.inspiradorM=1,this.item11Error=this.setDuplicateError(this.test.inspiradorL)),2==t&&(this.test.sumisoM=1,this.item11Error=this.setDuplicateError(this.test.sumisoL)),3==t&&(this.test.timidoM=1,this.item11Error=this.setDuplicateError(this.test.timidoL)),1}setL11(t){return this.test.valienteL=0,this.test.inspiradorL=0,this.test.sumisoL=0,this.test.timidoL=0,0==t&&(this.test.valienteL=1,this.item11Error=this.setDuplicateError(this.test.valienteM)),1==t&&(this.test.inspiradorL=1,this.item11Error=this.setDuplicateError(this.test.inspiradorM)),2==t&&(this.test.sumisoL=1,this.item11Error=this.setDuplicateError(this.test.sumisoM)),3==t&&(this.test.timidoL=1,this.item11Error=this.setDuplicateError(this.test.timidoM)),1}setM12(t){return this.test.parlanchinM=0,this.test.controladoM=0,this.test.convencionalM=0,this.test.decisivoM=0,0==t&&(this.test.parlanchinM=1,this.item12Error=this.setDuplicateError(this.test.parlanchinL)),1==t&&(this.test.controladoM=1,this.item12Error=this.setDuplicateError(this.test.controladoL)),2==t&&(this.test.convencionalM=1,this.item12Error=this.setDuplicateError(this.test.convencionalL)),3==t&&(this.test.decisivoM=1,this.item12Error=this.setDuplicateError(this.test.decisivoL)),1}setL12(t){return this.test.parlanchinL=0,this.test.controladoL=0,this.test.convencionalL=0,this.test.decisivoL=0,0==t&&(this.test.parlanchinL=1,this.item12Error=this.setDuplicateError(this.test.parlanchinM)),1==t&&(this.test.controladoL=1,this.item12Error=this.setDuplicateError(this.test.controladoM)),2==t&&(this.test.convencionalL=1,this.item12Error=this.setDuplicateError(this.test.convencionalM)),3==t&&(this.test.decisivoL=1,this.item12Error=this.setDuplicateError(this.test.decisivoM)),1}setM13(t){return this.test.cautelosoM=0,this.test.determinadoM=0,this.test.convincenteM=0,this.test.bonachonM=0,0==t&&(this.test.cautelosoM=1,this.item13Error=this.setDuplicateError(this.test.cautelosoL)),1==t&&(this.test.determinadoM=1,this.item13Error=this.setDuplicateError(this.test.determinadoL)),2==t&&(this.test.convincenteM=1,this.item13Error=this.setDuplicateError(this.test.convincenteL)),3==t&&(this.test.bonachonM=1,this.item13Error=this.setDuplicateError(this.test.bonachonL)),1}setL13(t){return this.test.cautelosoL=0,this.test.determinadoL=0,this.test.convincenteL=0,this.test.bonachonL=0,0==t&&(this.test.cautelosoL=1,this.item13Error=this.setDuplicateError(this.test.cautelosoM)),1==t&&(this.test.determinadoL=1,this.item13Error=this.setDuplicateError(this.test.determinadoM)),2==t&&(this.test.convincenteL=1,this.item13Error=this.setDuplicateError(this.test.convincenteM)),3==t&&(this.test.bonachonL=1,this.item13Error=this.setDuplicateError(this.test.bonachonM)),1}setM14(t){return this.test.disciplinadoM=0,this.test.generosoM=0,this.test.ani_mosoM=0,this.test.persistenteM=0,0==t&&(this.test.disciplinadoM=1,this.item14Error=this.setDuplicateError(this.test.disciplinadoL)),1==t&&(this.test.generosoM=1,this.item14Error=this.setDuplicateError(this.test.generosoL)),2==t&&(this.test.ani_mosoM=1,this.item14Error=this.setDuplicateError(this.test.ani_mosoL)),3==t&&(this.test.persistenteM=1,this.item14Error=this.setDuplicateError(this.test.persistenteL)),1}setL14(t){return this.test.disciplinadoL=0,this.test.generosoL=0,this.test.ani_mosoL=0,this.test.persistenteL=0,0==t&&(this.test.disciplinadoL=1,this.item14Error=this.setDuplicateError(this.test.disciplinadoM)),1==t&&(this.test.generosoL=1,this.item14Error=this.setDuplicateError(this.test.generosoM)),2==t&&(this.test.ani_mosoL=1,this.item14Error=this.setDuplicateError(this.test.ani_mosoM)),3==t&&(this.test.persistenteL=1,this.item14Error=this.setDuplicateError(this.test.persistenteM)),1}setM15(t){return this.test.adaptableM=0,this.test.disputadorM=0,this.test.indiferenteM=0,this.test.sangrelivianaM=0,0==t&&(this.test.adaptableM=1,this.item15Error=this.setDuplicateError(this.test.adaptableL)),1==t&&(this.test.disputadorM=1,this.item15Error=this.setDuplicateError(this.test.disputadorL)),2==t&&(this.test.indiferenteM=1,this.item15Error=this.setDuplicateError(this.test.indiferenteL)),3==t&&(this.test.sangrelivianaM=1,this.item15Error=this.setDuplicateError(this.test.sangrelivianaL)),1}setL15(t){return this.test.adaptableL=0,this.test.disputadorL=0,this.test.indiferenteL=0,this.test.sangrelivianaL=0,0==t&&(this.test.adaptableL=1,this.item15Error=this.setDuplicateError(this.test.adaptableM)),1==t&&(this.test.disputadorL=1,this.item15Error=this.setDuplicateError(this.test.disputadorM)),2==t&&(this.test.indiferenteL=1,this.item15Error=this.setDuplicateError(this.test.indiferenteM)),3==t&&(this.test.sangrelivianaL=1,this.item15Error=this.setDuplicateError(this.test.sangrelivianaM)),1}setM16(t){return this.test.cohibidoM=0,this.test.exactoM=0,this.test.francoM=0,this.test.buencompaneroM=0,0==t&&(this.test.cohibidoM=1,this.item16Error=this.setDuplicateError(this.test.cohibidoL)),1==t&&(this.test.exactoM=1,this.item16Error=this.setDuplicateError(this.test.exactoL)),2==t&&(this.test.francoM=1,this.item16Error=this.setDuplicateError(this.test.francoL)),3==t&&(this.test.buencompaneroM=1,this.item16Error=this.setDuplicateError(this.test.buencompaneroL)),1}setL16(t){return this.test.cohibidoL=0,this.test.exactoL=0,this.test.francoL=0,this.test.buencompaneroL=0,0==t&&(this.test.cohibidoL=1,this.item16Error=this.setDuplicateError(this.test.cohibidoM)),1==t&&(this.test.exactoL=1,this.item16Error=this.setDuplicateError(this.test.exactoM)),2==t&&(this.test.francoL=1,this.item16Error=this.setDuplicateError(this.test.francoM)),3==t&&(this.test.buencompaneroL=1,this.item16Error=this.setDuplicateError(this.test.buencompaneroM)),1}setM17(t){return this.test.docilM=0,this.test.atrevidoM=0,this.test.lealM=0,this.test.encantadorM=0,0==t&&(this.test.docilM=1,this.item17Error=this.setDuplicateError(this.test.docilL)),1==t&&(this.test.atrevidoM=1,this.item17Error=this.setDuplicateError(this.test.atrevidoL)),2==t&&(this.test.lealM=1,this.item17Error=this.setDuplicateError(this.test.lealL)),3==t&&(this.test.encantadorM=1,this.item17Error=this.setDuplicateError(this.test.encantadorL)),1}setL17(t){return this.test.docilL=0,this.test.atrevidoL=0,this.test.lealL=0,this.test.encantadorL=0,0==t&&(this.test.docilL=1,this.item17Error=this.setDuplicateError(this.test.docilM)),1==t&&(this.test.atrevidoL=1,this.item17Error=this.setDuplicateError(this.test.atrevidoM)),2==t&&(this.test.lealL=1,this.item17Error=this.setDuplicateError(this.test.lealM)),3==t&&(this.test.encantadorL=1,this.item17Error=this.setDuplicateError(this.test.encantadorM)),1}setM18(t){return this.test.competitivoM=0,this.test.alegreM=0,this.test.consideradoM=0,this.test.armoniosoM=0,0==t&&(this.test.competitivoM=1,this.item18Error=this.setDuplicateError(this.test.competitivoL)),1==t&&(this.test.alegreM=1,this.item18Error=this.setDuplicateError(this.test.alegreL)),2==t&&(this.test.consideradoM=1,this.item18Error=this.setDuplicateError(this.test.consideradoL)),3==t&&(this.test.armoniosoM=1,this.item18Error=this.setDuplicateError(this.test.armoniosoL)),1}setL18(t){return this.test.competitivoL=0,this.test.alegreL=0,this.test.consideradoL=0,this.test.armoniosoL=0,0==t&&(this.test.competitivoL=1,this.item18Error=this.setDuplicateError(this.test.competitivoM)),1==t&&(this.test.alegreL=1,this.item18Error=this.setDuplicateError(this.test.alegreM)),2==t&&(this.test.consideradoL=1,this.item18Error=this.setDuplicateError(this.test.consideradoM)),3==t&&(this.test.armoniosoL=1,this.item18Error=this.setDuplicateError(this.test.armoniosoM)),1}setM19(t){return this.test.amigueroM=0,this.test.pacienteM=0,this.test.confianzamismoM=0,this.test.mesuradohablarM=0,0==t&&(this.test.amigueroM=1,this.item19Error=this.setDuplicateError(this.test.amigueroL)),1==t&&(this.test.pacienteM=1,this.item19Error=this.setDuplicateError(this.test.pacienteL)),2==t&&(this.test.confianzamismoM=1,this.item19Error=this.setDuplicateError(this.test.confianzamismoL)),3==t&&(this.test.mesuradohablarM=1,this.item19Error=this.setDuplicateError(this.test.mesuradohablarL)),1}setL19(t){return this.test.amigueroL=0,this.test.pacienteL=0,this.test.confianzamismoL=0,this.test.mesuradohablarL=0,0==t&&(this.test.amigueroL=1,this.item19Error=this.setDuplicateError(this.test.amigueroM)),1==t&&(this.test.pacienteL=1,this.item19Error=this.setDuplicateError(this.test.pacienteM)),2==t&&(this.test.confianzamismoL=1,this.item19Error=this.setDuplicateError(this.test.confianzamismoM)),3==t&&(this.test.mesuradohablarL=1,this.item19Error=this.setDuplicateError(this.test.mesuradohablarM)),1}setM20(t){return this.test.diplomaticoM=0,this.test.audazM=0,this.test.refinadoM=0,this.test.satisfechoM=0,0==t&&(this.test.diplomaticoM=1,this.item20Error=this.setDuplicateError(this.test.diplomaticoL)),1==t&&(this.test.audazM=1,this.item20Error=this.setDuplicateError(this.test.audazL)),2==t&&(this.test.refinadoM=1,this.item20Error=this.setDuplicateError(this.test.refinadoL)),3==t&&(this.test.satisfechoM=1,this.item20Error=this.setDuplicateError(this.test.satisfechoL)),1}setL20(t){return this.test.diplomaticoL=0,this.test.audazL=0,this.test.refinadoL=0,this.test.satisfechoL=0,0==t&&(this.test.diplomaticoL=1,this.item20Error=this.setDuplicateError(this.test.diplomaticoM)),1==t&&(this.test.audazL=1,this.item20Error=this.setDuplicateError(this.test.audazM)),2==t&&(this.test.refinadoL=1,this.item20Error=this.setDuplicateError(this.test.refinadoM)),3==t&&(this.test.satisfechoL=1,this.item20Error=this.setDuplicateError(this.test.satisfechoM)),1}setM21(t){return this.test.dispuestoM=0,this.test.deseosoM=0,this.test.consecuenteM=0,this.test.entusiastaM=0,0==t&&(this.test.dispuestoM=1,this.item21Error=this.setDuplicateError(this.test.dispuestoL)),1==t&&(this.test.deseosoM=1,this.item21Error=this.setDuplicateError(this.test.deseosoL)),2==t&&(this.test.consecuenteM=1,this.item21Error=this.setDuplicateError(this.test.consecuenteL)),3==t&&(this.test.entusiastaM=1,this.item21Error=this.setDuplicateError(this.test.entusiastaL)),1}setL21(t){return this.test.dispuestoL=0,this.test.deseosoL=0,this.test.consecuenteL=0,this.test.entusiastaL=0,0==t&&(this.test.dispuestoL=1,this.item21Error=this.setDuplicateError(this.test.dispuestoM)),1==t&&(this.test.deseosoL=1,this.item21Error=this.setDuplicateError(this.test.deseosoM)),2==t&&(this.test.consecuenteL=1,this.item21Error=this.setDuplicateError(this.test.consecuenteM)),3==t&&(this.test.entusiastaL=1,this.item21Error=this.setDuplicateError(this.test.entusiastaM)),1}setM22(t){return this.test.admirableM=0,this.test.bondadosoM=0,this.test.resignadoM=0,this.test.caracterfirmeM=0,0==t&&(this.test.admirableM=1,this.item22Error=this.setDuplicateError(this.test.admirableL)),1==t&&(this.test.bondadosoM=1,this.item22Error=this.setDuplicateError(this.test.bondadosoL)),2==t&&(this.test.resignadoM=1,this.item22Error=this.setDuplicateError(this.test.resignadoL)),3==t&&(this.test.caracterfirmeM=1,this.item22Error=this.setDuplicateError(this.test.caracterfirmeL)),1}setL22(t){return this.test.admirableL=0,this.test.bondadosoL=0,this.test.resignadoL=0,this.test.caracterfirmeL=0,0==t&&(this.test.admirableL=1,this.item22Error=this.setDuplicateError(this.test.admirableM)),1==t&&(this.test.bondadosoL=1,this.item22Error=this.setDuplicateError(this.test.bondadosoM)),2==t&&(this.test.resignadoL=1,this.item22Error=this.setDuplicateError(this.test.resignadoM)),3==t&&(this.test.caracterfirmeL=1,this.item22Error=this.setDuplicateError(this.test.caracterfirmeM)),1}setM23(t){return this.test.conformeM=0,this.test.confiableM=0,this.test.pacificoM=0,this.test.positivoM=0,0==t&&(this.test.conformeM=1,this.item23Error=this.setDuplicateError(this.test.conformeL)),1==t&&(this.test.confiableM=1,this.item23Error=this.setDuplicateError(this.test.confiableL)),2==t&&(this.test.pacificoM=1,this.item23Error=this.setDuplicateError(this.test.pacificoL)),3==t&&(this.test.positivoM=1,this.item23Error=this.setDuplicateError(this.test.positivoL)),1}setL23(t){return this.test.conformeL=0,this.test.confiableL=0,this.test.pacificoL=0,this.test.positivoL=0,0==t&&(this.test.conformeL=1,this.item23Error=this.setDuplicateError(this.test.conformeM)),1==t&&(this.test.confiableL=1,this.item23Error=this.setDuplicateError(this.test.confiableM)),2==t&&(this.test.pacificoL=1,this.item23Error=this.setDuplicateError(this.test.pacificoM)),3==t&&(this.test.positivoL=1,this.item23Error=this.setDuplicateError(this.test.positivoM)),1}setM24(t){return this.test.inquietoM=0,this.test.popularM=0,this.test.buenvecinoM=0,this.test.devotoM=0,0==t&&(this.test.inquietoM=1,this.item24Error=this.setDuplicateError(this.test.inquietoL)),1==t&&(this.test.popularM=1,this.item24Error=this.setDuplicateError(this.test.popularL)),2==t&&(this.test.buenvecinoM=1,this.item24Error=this.setDuplicateError(this.test.buenvecinoL)),3==t&&(this.test.devotoM=1,this.item24Error=this.setDuplicateError(this.test.devotoL)),1}setL24(t){return this.test.inquietoL=0,this.test.popularL=0,this.test.buenvecinoL=0,this.test.devotoL=0,0==t&&(this.test.inquietoL=1,this.item24Error=this.setDuplicateError(this.test.inquietoM)),1==t&&(this.test.popularL=1,this.item24Error=this.setDuplicateError(this.test.popularM)),2==t&&(this.test.buenvecinoL=1,this.item24Error=this.setDuplicateError(this.test.buenvecinoM)),3==t&&(this.test.devotoL=1,this.item24Error=this.setDuplicateError(this.test.devotoM)),1}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(AL))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-add-test-uv-web"]],decls:3,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","appPaterno"],["id","appPaterno","required","","name","appPaterno",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],["for","appMaterno"],["id","appMaterno","required","","name","appMaterno",1,"form-control",3,"ngModel","ngModelChange"],["for","nombre"],["id","nombre","required","","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","matricula"],["id","matricula","required","","name","matricula",1,"form-control",3,"ngModel","ngModelChange"],["for","facultad"],["id","facultad","required","","name","facultad",1,"form-control",3,"ngModel","ngModelChange"],["value","fnt"],["value","fi"],["for","carrera"],["id","carrera","required","","name","programaInteres",1,"form-control",3,"ngModel","ngModelChange"],["value","LIS"],["value","LC"],["value","LAE"],["value","LGE"],["value","LTIO"],["value","LPOL"],["value","MDEIT"],["for","periodo"],["id","periodo","required","","name","periodo",1,"form-control",3,"ngModel","ngModelChange"],["value","2024"],["value","2025"],["value","2026"],["value","2027"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-success",3,"click"],["type","radio","value","0","name","m1",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l1",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m1",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l1",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m1",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l1",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m1",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l1",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m2",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l2",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m2",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l2",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m2",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l2",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m2",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l2",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m3",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l3",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m3",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l3",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m3",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l3",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m3",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l3",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m4",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l4",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m4",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l4",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m4",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l4",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m4",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l4",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m5",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l5",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m5",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l5",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m5",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l5",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m5",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l5",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m6",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l6",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m6",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l6",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m6",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l6",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m6",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l6",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m7",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l7",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m7",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l7",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m7",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l7",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m7",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l7",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m8",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l8",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m8",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l8",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m8",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l8",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m8",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l8",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m9",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l9",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m9",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l9",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m9",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l9",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m9",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l9",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m10",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l10",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m10",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l10",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m10",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l10",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m10",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l10",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m11",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l11",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m11",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l11",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m11",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l11",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m11",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l11",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m12",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l12",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m12",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l12",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m12",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l12",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m12",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l12",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m13",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l13",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m13",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l13",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m13",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l13",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m13",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l13",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m14",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l14",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m14",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l14",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m14",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l14",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m14",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l14",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m15",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l15",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m15",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l15",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m15",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l15",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m15",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l15",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m16",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l16",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m16",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l16",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m16",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l16",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m16",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l16",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m17",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l17",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m17",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l17",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m17",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l17",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m17",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l17",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m18",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l18",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m18",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l18",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m18",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l18",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m18",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l18",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m19",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l19",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m19",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l19",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m19",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l19",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m19",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l19",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m20",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l20",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m20",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l20",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m20",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l20",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m20",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l20",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m21",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l21",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m21",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l21",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m21",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l21",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m21",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l21",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m22",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l22",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m22",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l22",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m22",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l22",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m22",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l22",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m23",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l23",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m23",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l23",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m23",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l23",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m23",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l23",1,"form-control",3,"checked","click"],["type","radio","value","0","name","m24",1,"form-control",3,"checked","click"],["type","radio","value","0","name","l24",1,"form-control",3,"checked","click"],["type","radio","value","1","name","m24",1,"form-control",3,"checked","click"],["type","radio","value","1","name","l24",1,"form-control",3,"checked","click"],["type","radio","value","2","name","m24",1,"form-control",3,"checked","click"],["type","radio","value","2","name","l24",1,"form-control",3,"checked","click"],["type","radio","value","3","name","m24",1,"form-control",3,"checked","click"],["type","radio","value","3","name","l24",1,"form-control",3,"checked","click"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,YL,122,41,"div",1),i.YNc(2,XL,29,31,"div",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",!r.submitted),i.xp6(1),i.Q6J("ngIf",r.submitted))},dependencies:[No,Fm,Rl,Gs,Nl,Xo,du,Ip]}),n})(),t2=(()=>{class n{constructor(){this.title="UV Test"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-success"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"container","mt-3"]],template:function(t,r){1&t&&(i.TgZ(0,"div")(1,"nav",0)(2,"a",1),i._uU(3,"UV Test"),i.qZA(),i._UZ(4,"div",2),i.qZA(),i.TgZ(5,"div",3),i._UZ(6,"app-add-test-uv-web"),i.qZA()())},dependencies:[e2],styles:[".container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:25px auto}"]}),n})(),n2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[t2]}),n.\u0275inj=i.cJS({imports:[fo,CL,Ih,Si.hO.initializeApp(iR_firebase),rR]}),n})();Wd().bootstrapModule(n2).catch(n=>console.error(n))},1135:(lt,Ie,R)=>{R.d(Ie,{X:()=>$});var i=R(7579);class $ extends i.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const ne=super._subscribe(X);return!ne.closed&&X.next(this._value),ne}getValue(){const{hasError:X,thrownError:ne,_value:le}=this;if(X)throw ne;return this._throwIfClosed(),le}next(X){super.next(this._value=X)}}},9751:(lt,Ie,R)=>{R.d(Ie,{y:()=>Re});var i=R(2961),$=R(727),O=R(8822),X=R(9635),ne=R(2416),le=R(576),fe=R(2806);let Re=(()=>{class Q{constructor(be){be&&(this._subscribe=be)}lift(be){const Je=new Q;return Je.source=this,Je.operator=be,Je}subscribe(be,Je,Se){const Ge=function Z(Q){return Q&&Q instanceof i.Lv||function U(Q){return Q&&(0,le.m)(Q.next)&&(0,le.m)(Q.error)&&(0,le.m)(Q.complete)}(Q)&&(0,$.Nn)(Q)}(be)?be:new i.Hp(be,Je,Se);return(0,fe.x)(()=>{const{operator:ke,source:_t}=this;Ge.add(ke?ke.call(Ge,_t):_t?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(be){try{return this._subscribe(be)}catch(Je){be.error(Je)}}forEach(be,Je){return new(Je=de(Je))((Se,Ge)=>{const ke=new i.Hp({next:_t=>{try{be(_t)}catch(ht){Ge(ht),ke.unsubscribe()}},error:Ge,complete:Se});this.subscribe(ke)})}_subscribe(be){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(be)}[O.L](){return this}pipe(...be){return(0,X.U)(be)(this)}toPromise(be){return new(be=de(be))((Je,Se)=>{let Ge;this.subscribe(ke=>Ge=ke,ke=>Se(ke),()=>Je(Ge))})}}return Q.create=Pe=>new Q(Pe),Q})();function de(Q){var Pe;return null!==(Pe=Q??ne.config.Promise)&&void 0!==Pe?Pe:Promise}},7579:(lt,Ie,R)=>{R.d(Ie,{x:()=>fe});var i=R(9751),$=R(727);const X=(0,R(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=R(8737),le=R(2806);let fe=(()=>{class de extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const Q=new Re(this,this);return Q.operator=Z,Q}_throwIfClosed(){if(this.closed)throw new X}next(Z){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(Z)}})}error(Z){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:Q}=this;for(;Q.length;)Q.shift().error(Z)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:Q,isStopped:Pe,observers:be}=this;return Q||Pe?$.Lc:(this.currentObservers=null,be.push(Z),new $.w0(()=>{this.currentObservers=null,(0,ne.P)(be,Z)}))}_checkFinalizedStatuses(Z){const{hasError:Q,thrownError:Pe,isStopped:be}=this;Q?Z.error(Pe):be&&Z.complete()}asObservable(){const Z=new i.y;return Z.source=this,Z}}return de.create=(U,Z)=>new Re(U,Z),de})();class Re extends fe{constructor(U,Z){super(),this.destination=U,this.source=Z}next(U){var Z,Q;null===(Q=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===Q||Q.call(Z,U)}error(U){var Z,Q;null===(Q=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===Q||Q.call(Z,U)}complete(){var U,Z;null===(Z=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===Z||Z.call(U)}_subscribe(U){var Z,Q;return null!==(Q=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(U))&&void 0!==Q?Q:$.Lc}}},2961:(lt,Ie,R)=>{R.d(Ie,{Hp:()=>Se,Lv:()=>Q});var i=R(576),$=R(727),O=R(2416),X=R(7849);function ne(){}const le=de("C",void 0,void 0);function de(te,pe,K){return{kind:te,value:pe,error:K}}var U=R(3410),Z=R(2806);class Q extends $.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,$.Nn)(pe)&&pe.add(this)):this.destination=ht}static create(pe,K,he){return new Se(pe,K,he)}next(pe){this.isStopped?_t(function Re(te){return de("N",te,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?_t(function fe(te){return de("E",void 0,te)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?_t(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function be(te,pe){return Pe.call(te,pe)}class Je{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:K}=this;if(K.next)try{K.next(pe)}catch(he){Ge(he)}}error(pe){const{partialObserver:K}=this;if(K.error)try{K.error(pe)}catch(he){Ge(he)}else Ge(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(K){Ge(K)}}}class Se extends Q{constructor(pe,K,he){let Ce;if(super(),(0,i.m)(pe)||!pe)Ce={next:pe??void 0,error:K??void 0,complete:he??void 0};else{let Ue;this&&O.config.useDeprecatedNextContext?(Ue=Object.create(pe),Ue.unsubscribe=()=>this.unsubscribe(),Ce={next:pe.next&&be(pe.next,Ue),error:pe.error&&be(pe.error,Ue),complete:pe.complete&&be(pe.complete,Ue)}):Ce=pe}this.destination=new Je(Ce)}}function Ge(te){O.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(te):(0,X.h)(te)}function _t(te,pe){const{onStoppedNotification:K}=O.config;K&&U.z.setTimeout(()=>K(te,pe))}const ht={closed:!0,next:ne,error:function ke(te){throw te},complete:ne}},727:(lt,Ie,R)=>{R.d(Ie,{Lc:()=>le,w0:()=>ne,Nn:()=>fe});var i=R(576);const O=(0,R(3888).d)(de=>function(Z){de(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((Q,Pe)=>`${Pe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var X=R(8737);class ne{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const be of Z)be.remove(this);else Z.remove(this);const{initialTeardown:Q}=this;if((0,i.m)(Q))try{Q()}catch(be){U=be instanceof O?be.errors:[be]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const be of Pe)try{Re(be)}catch(Je){U=U??[],Je instanceof O?U=[...U,...Je.errors]:U.push(Je)}}if(U)throw new O(U)}}add(U){var Z;if(U&&U!==this)if(this.closed)Re(U);else{if(U instanceof ne){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(U)}}_hasParent(U){const{_parentage:Z}=this;return Z===U||Array.isArray(Z)&&Z.includes(U)}_addParent(U){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(U),Z):Z?[Z,U]:U}_removeParent(U){const{_parentage:Z}=this;Z===U?this._parentage=null:Array.isArray(Z)&&(0,X.P)(Z,U)}remove(U){const{_finalizers:Z}=this;Z&&(0,X.P)(Z,U),U instanceof ne&&U._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const le=ne.EMPTY;function fe(de){return de instanceof ne||de&&"closed"in de&&(0,i.m)(de.remove)&&(0,i.m)(de.add)&&(0,i.m)(de.unsubscribe)}function Re(de){(0,i.m)(de)?de():de.unsubscribe()}},2416:(lt,Ie,R)=>{R.d(Ie,{config:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Ie,R)=>{R.d(Ie,{E:()=>$});const $=new(R(9751).y)(ne=>ne.complete())},8996:(lt,Ie,R)=>{R.d(Ie,{D:()=>pe});var i=R(8421),$=R(5363),O=R(9468),le=R(9751),Re=R(2202),de=R(576),U=R(9672);function Q(K,he){if(!K)throw new Error("Iterable cannot be null");return new le.y(Ce=>{(0,U.f)(Ce,he,()=>{const Ue=K[Symbol.asyncIterator]();(0,U.f)(Ce,he,()=>{Ue.next().then(ie=>{ie.done?Ce.complete():Ce.next(ie.value)})},0,!0)})})}var Pe=R(3670),be=R(8239),Je=R(1144),Se=R(6495),Ge=R(2206),ke=R(4532),_t=R(3260);function pe(K,he){return he?function te(K,he){if(null!=K){if((0,Pe.c)(K))return function X(K,he){return(0,i.Xf)(K).pipe((0,O.R)(he),(0,$.Q)(he))}(K,he);if((0,Je.z)(K))return function fe(K,he){return new le.y(Ce=>{let Ue=0;return he.schedule(function(){Ue===K.length?Ce.complete():(Ce.next(K[Ue++]),Ce.closed||this.schedule())})})}(K,he);if((0,be.t)(K))return function ne(K,he){return(0,i.Xf)(K).pipe((0,O.R)(he),(0,$.Q)(he))}(K,he);if((0,Ge.D)(K))return Q(K,he);if((0,Se.T)(K))return function Z(K,he){return new le.y(Ce=>{let Ue;return(0,U.f)(Ce,he,()=>{Ue=K[Re.h](),(0,U.f)(Ce,he,()=>{let ie,He;try{({value:ie,done:He}=Ue.next())}catch(jt){return void Ce.error(jt)}He?Ce.complete():Ce.next(ie)},0,!0)}),()=>(0,de.m)(Ue?.return)&&Ue.return()})}(K,he);if((0,_t.L)(K))return function ht(K,he){return Q((0,_t.Q)(K),he)}(K,he)}throw(0,ke.z)(K)}(K,he):(0,i.Xf)(K)}},8421:(lt,Ie,R)=>{R.d(Ie,{Xf:()=>Pe});var i=R(7582),$=R(1144),O=R(8239),X=R(9751),ne=R(3670),le=R(2206),fe=R(4532),Re=R(6495),de=R(3260),U=R(576),Z=R(7849),Q=R(8822);function Pe(te){if(te instanceof X.y)return te;if(null!=te){if((0,ne.c)(te))return function be(te){return new X.y(pe=>{const K=te[Q.L]();if((0,U.m)(K.subscribe))return K.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,$.z)(te))return function Je(te){return new X.y(pe=>{for(let K=0;K<te.length&&!pe.closed;K++)pe.next(te[K]);pe.complete()})}(te);if((0,O.t)(te))return function Se(te){return new X.y(pe=>{te.then(K=>{pe.closed||(pe.next(K),pe.complete())},K=>pe.error(K)).then(null,Z.h)})}(te);if((0,le.D)(te))return ke(te);if((0,Re.T)(te))return function Ge(te){return new X.y(pe=>{for(const K of te)if(pe.next(K),pe.closed)return;pe.complete()})}(te);if((0,de.L)(te))return function _t(te){return ke((0,de.Q)(te))}(te)}throw(0,fe.z)(te)}function ke(te){return new X.y(pe=>{(function ht(te,pe){var K,he,Ce,Ue;return(0,i.mG)(this,void 0,void 0,function*(){try{for(K=(0,i.KL)(te);!(he=yield K.next()).done;)if(pe.next(he.value),pe.closed)return}catch(ie){Ce={error:ie}}finally{try{he&&!he.done&&(Ue=K.return)&&(yield Ue.call(K))}finally{if(Ce)throw Ce.error}}pe.complete()})})(te,pe).catch(K=>pe.error(K))})}},6451:(lt,Ie,R)=>{R.d(Ie,{T:()=>le});var i=R(8189),$=R(8421),O=R(515),X=R(7669),ne=R(8996);function le(...fe){const Re=(0,X.yG)(fe),de=(0,X._6)(fe,1/0),U=fe;return U.length?1===U.length?(0,$.Xf)(U[0]):(0,i.J)(de)((0,ne.D)(U,Re)):O.E}},9646:(lt,Ie,R)=>{R.d(Ie,{of:()=>O});var i=R(7669),$=R(8996);function O(...X){const ne=(0,i.yG)(X);return(0,$.D)(X,ne)}},5403:(lt,Ie,R)=>{R.d(Ie,{x:()=>$});var i=R(2961);function $(X,ne,le,fe,Re){return new O(X,ne,le,fe,Re)}class O extends i.Lv{constructor(ne,le,fe,Re,de,U){super(ne),this.onFinalize=de,this.shouldUnsubscribe=U,this._next=le?function(Z){try{le(Z)}catch(Q){ne.error(Q)}}:super._next,this._error=Re?function(Z){try{Re(Z)}catch(Q){ne.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},1884:(lt,Ie,R)=>{R.d(Ie,{x:()=>X});var i=R(4671),$=R(4482),O=R(5403);function X(le,fe=i.y){return le=le??ne,(0,$.e)((Re,de)=>{let U,Z=!0;Re.subscribe((0,O.x)(de,Q=>{const Pe=fe(Q);(Z||!le(U,Pe))&&(Z=!1,U=Pe,de.next(Q))}))})}function ne(le,fe){return le===fe}},4004:(lt,Ie,R)=>{R.d(Ie,{U:()=>O});var i=R(4482),$=R(5403);function O(X,ne){return(0,i.e)((le,fe)=>{let Re=0;le.subscribe((0,$.x)(fe,de=>{fe.next(X.call(ne,de,Re++))}))})}},8189:(lt,Ie,R)=>{R.d(Ie,{J:()=>O});var i=R(5577),$=R(4671);function O(X=1/0){return(0,i.z)($.y,X)}},5577:(lt,Ie,R)=>{R.d(Ie,{z:()=>Re});var i=R(4004),$=R(8421),O=R(4482),X=R(9672),ne=R(5403),fe=R(576);function Re(de,U,Z=1/0){return(0,fe.m)(U)?Re((Q,Pe)=>(0,i.U)((be,Je)=>U(Q,be,Pe,Je))((0,$.Xf)(de(Q,Pe))),Z):("number"==typeof U&&(Z=U),(0,O.e)((Q,Pe)=>function le(de,U,Z,Q,Pe,be,Je,Se){const Ge=[];let ke=0,_t=0,ht=!1;const te=()=>{ht&&!Ge.length&&!ke&&U.complete()},pe=he=>ke<Q?K(he):Ge.push(he),K=he=>{be&&U.next(he),ke++;let Ce=!1;(0,$.Xf)(Z(he,_t++)).subscribe((0,ne.x)(U,Ue=>{Pe?.(Ue),be?pe(Ue):U.next(Ue)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(ke--;Ge.length&&ke<Q;){const Ue=Ge.shift();Je?(0,X.f)(U,Je,()=>K(Ue)):K(Ue)}te()}catch(Ue){U.error(Ue)}}))};return de.subscribe((0,ne.x)(U,pe,()=>{ht=!0,te()})),()=>{Se?.()}}(Q,Pe,de,Z)))}},5363:(lt,Ie,R)=>{R.d(Ie,{Q:()=>X});var i=R(9672),$=R(4482),O=R(5403);function X(ne,le=0){return(0,$.e)((fe,Re)=>{fe.subscribe((0,O.x)(Re,de=>(0,i.f)(Re,ne,()=>Re.next(de),le),()=>(0,i.f)(Re,ne,()=>Re.complete(),le),de=>(0,i.f)(Re,ne,()=>Re.error(de),le)))})}},3099:(lt,Ie,R)=>{R.d(Ie,{B:()=>ne});var i=R(8421),$=R(7579),O=R(2961),X=R(4482);function ne(fe={}){const{connector:Re=(()=>new $.x),resetOnError:de=!0,resetOnComplete:U=!0,resetOnRefCountZero:Z=!0}=fe;return Q=>{let Pe,be,Je,Se=0,Ge=!1,ke=!1;const _t=()=>{be?.unsubscribe(),be=void 0},ht=()=>{_t(),Pe=Je=void 0,Ge=ke=!1},te=()=>{const pe=Pe;ht(),pe?.unsubscribe()};return(0,X.e)((pe,K)=>{Se++,!ke&&!Ge&&_t();const he=Je=Je??Re();K.add(()=>{Se--,0===Se&&!ke&&!Ge&&(be=le(te,Z))}),he.subscribe(K),!Pe&&Se>0&&(Pe=new O.Hp({next:Ce=>he.next(Ce),error:Ce=>{ke=!0,_t(),be=le(ht,de,Ce),he.error(Ce)},complete:()=>{Ge=!0,_t(),be=le(ht,U),he.complete()}}),(0,i.Xf)(pe).subscribe(Pe))})(Q)}}function le(fe,Re,...de){if(!0===Re)return void fe();if(!1===Re)return;const U=new O.Hp({next:()=>{U.unsubscribe(),fe()}});return(0,i.Xf)(Re(...de)).subscribe(U)}},9468:(lt,Ie,R)=>{R.d(Ie,{R:()=>$});var i=R(4482);function $(O,X=0){return(0,i.e)((ne,le)=>{le.add(O.schedule(()=>ne.subscribe(le),X))})}},8505:(lt,Ie,R)=>{R.d(Ie,{b:()=>ne});var i=R(576),$=R(4482),O=R(5403),X=R(4671);function ne(le,fe,Re){const de=(0,i.m)(le)||fe||Re?{next:le,error:fe,complete:Re}:le;return de?(0,$.e)((U,Z)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let Pe=!0;U.subscribe((0,O.x)(Z,be=>{var Je;null===(Je=de.next)||void 0===Je||Je.call(de,be),Z.next(be)},()=>{var be;Pe=!1,null===(be=de.complete)||void 0===be||be.call(de),Z.complete()},be=>{var Je;Pe=!1,null===(Je=de.error)||void 0===Je||Je.call(de,be),Z.error(be)},()=>{var be,Je;Pe&&(null===(be=de.unsubscribe)||void 0===be||be.call(de)),null===(Je=de.finalize)||void 0===Je||Je.call(de)}))}):X.y}},4408:(lt,Ie,R)=>{R.d(Ie,{o:()=>ne});var i=R(727);class $ extends i.w0{constructor(fe,Re){super()}schedule(fe,Re=0){return this}}const O={setInterval(le,fe,...Re){const{delegate:de}=O;return de?.setInterval?de.setInterval(le,fe,...Re):setInterval(le,fe,...Re)},clearInterval(le){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(le)},delegate:void 0};var X=R(8737);class ne extends ${constructor(fe,Re){super(fe,Re),this.scheduler=fe,this.work=Re,this.pending=!1}schedule(fe,Re=0){var de;if(this.closed)return this;this.state=fe;const U=this.id,Z=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(Z,U,Re)),this.pending=!0,this.delay=Re,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(Z,this.id,Re),this}requestAsyncId(fe,Re,de=0){return O.setInterval(fe.flush.bind(fe,this),de)}recycleAsyncId(fe,Re,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Re;null!=Re&&O.clearInterval(Re)}execute(fe,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(fe,Re);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Re){let U,de=!1;try{this.work(fe)}catch(Z){de=!0,U=Z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Re}=this,{actions:de}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(de,this),null!=fe&&(this.id=this.recycleAsyncId(Re,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Ie,R)=>{R.d(Ie,{v:()=>O});var i=R(6063);class ${constructor(ne,le=$.now){this.schedulerActionCtor=ne,this.now=le}schedule(ne,le=0,fe){return new this.schedulerActionCtor(this,ne).schedule(fe,le)}}$.now=i.l.now;class O extends ${constructor(ne,le=$.now){super(ne,le),this.actions=[],this._active=!1}flush(ne){const{actions:le}=this;if(this._active)return void le.push(ne);let fe;this._active=!0;do{if(fe=ne.execute(ne.state,ne.delay))break}while(ne=le.shift());if(this._active=!1,fe){for(;ne=le.shift();)ne.unsubscribe();throw fe}}}},4986:(lt,Ie,R)=>{R.d(Ie,{z:()=>O});var i=R(4408);const O=new(R(7565).v)(i.o)},6063:(lt,Ie,R)=>{R.d(Ie,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(lt,Ie,R)=>{R.d(Ie,{z:()=>i});const i={setTimeout($,O,...X){const{delegate:ne}=i;return ne?.setTimeout?ne.setTimeout($,O,...X):setTimeout($,O,...X)},clearTimeout($){const{delegate:O}=i;return(O?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(lt,Ie,R)=>{R.d(Ie,{h:()=>$});const $=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Ie,R)=>{R.d(Ie,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Ie,R)=>{R.d(Ie,{_6:()=>le,jO:()=>X,yG:()=>ne});var i=R(576);function O(fe){return fe[fe.length-1]}function X(fe){return(0,i.m)(O(fe))?fe.pop():void 0}function ne(fe){return function $(fe){return fe&&(0,i.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function le(fe,Re){return"number"==typeof O(fe)?fe.pop():Re}},8737:(lt,Ie,R)=>{function i($,O){if($){const X=$.indexOf(O);0<=X&&$.splice(X,1)}}R.d(Ie,{P:()=>i})},3888:(lt,Ie,R)=>{function i($){const X=$(ne=>{Error.call(ne),ne.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}R.d(Ie,{d:()=>i})},2806:(lt,Ie,R)=>{R.d(Ie,{O:()=>X,x:()=>O});var i=R(2416);let $=null;function O(ne){if(i.config.useDeprecatedSynchronousErrorHandling){const le=!$;if(le&&($={errorThrown:!1,error:null}),ne(),le){const{errorThrown:fe,error:Re}=$;if($=null,fe)throw Re}}else ne()}function X(ne){i.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ne)}},9672:(lt,Ie,R)=>{function i($,O,X,ne=0,le=!1){const fe=O.schedule(function(){X(),le?$.add(this.schedule(null,ne)):this.unsubscribe()},ne);if($.add(fe),!le)return fe}R.d(Ie,{f:()=>i})},4671:(lt,Ie,R)=>{function i($){return $}R.d(Ie,{y:()=>i})},1144:(lt,Ie,R)=>{R.d(Ie,{z:()=>i});const i=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(lt,Ie,R)=>{R.d(Ie,{D:()=>$});var i=R(576);function $(O){return Symbol.asyncIterator&&(0,i.m)(O?.[Symbol.asyncIterator])}},576:(lt,Ie,R)=>{function i($){return"function"==typeof $}R.d(Ie,{m:()=>i})},3670:(lt,Ie,R)=>{R.d(Ie,{c:()=>O});var i=R(8822),$=R(576);function O(X){return(0,$.m)(X[i.L])}},6495:(lt,Ie,R)=>{R.d(Ie,{T:()=>O});var i=R(2202),$=R(576);function O(X){return(0,$.m)(X?.[i.h])}},8239:(lt,Ie,R)=>{R.d(Ie,{t:()=>$});var i=R(576);function $(O){return(0,i.m)(O?.then)}},3260:(lt,Ie,R)=>{R.d(Ie,{L:()=>X,Q:()=>O});var i=R(7582),$=R(576);function O(ne){return(0,i.FC)(this,arguments,function*(){const fe=ne.getReader();try{for(;;){const{value:Re,done:de}=yield(0,i.qq)(fe.read());if(de)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(Re)}}finally{fe.releaseLock()}})}function X(ne){return(0,$.m)(ne?.getReader)}},4482:(lt,Ie,R)=>{R.d(Ie,{A:()=>$,e:()=>O});var i=R(576);function $(X){return(0,i.m)(X?.lift)}function O(X){return ne=>{if($(ne))return ne.lift(function(le){try{return X(le,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(lt,Ie,R)=>{R.d(Ie,{U:()=>O,z:()=>$});var i=R(4671);function $(...X){return O(X)}function O(X){return 0===X.length?i.y:1===X.length?X[0]:function(le){return X.reduce((fe,Re)=>Re(fe),le)}}},7849:(lt,Ie,R)=>{R.d(Ie,{h:()=>O});var i=R(2416),$=R(3410);function O(X){$.z.setTimeout(()=>{const{onUnhandledError:ne}=i.config;if(!ne)throw X;ne(X)})}},4532:(lt,Ie,R)=>{function i($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ie,{z:()=>i})},2223:(lt,Ie,R)=>{R.d(Ie,{$8M:()=>Dl,$WT:()=>Fs,$Z:()=>ng,AFp:()=>jp,AaK:()=>Q,CHM:()=>jc,CRH:()=>md,D6c:()=>_A,EJc:()=>$C,EpF:()=>Pn,F4k:()=>C0,FYo:()=>Wp,FiY:()=>qi,GfV:()=>Qy,Gpc:()=>Je,HDt:()=>Ov,HOy:()=>Z_,JOm:()=>yo,KtG:()=>dl,LFG:()=>Yt,Lbi:()=>mu,Lck:()=>Og,MMx:()=>u1,NdJ:()=>x_,Ojb:()=>Vl,OlP:()=>pn,Oqu:()=>q0,P3R:()=>Jm,PXZ:()=>ob,Q6J:()=>yg,QGY:()=>ha,Qsj:()=>Kp,R0b:()=>_i,RDi:()=>Hm,Rgc:()=>Ug,SBq:()=>Hh,Sil:()=>YE,Suo:()=>UE,TTD:()=>Uc,TgZ:()=>uf,X6Q:()=>_b,XFs:()=>$e,Xpm:()=>io,Xts:()=>xh,Y36:()=>yu,YKP:()=>Uu,YNc:()=>_g,Yjl:()=>$u,Yz7:()=>Kt,Z0I:()=>Wn,ZZ4:()=>jv,_Bn:()=>o1,_UZ:()=>M_,_c5:()=>yw,_uU:()=>Z0,aQg:()=>vw,c2e:()=>Rv,cJS:()=>zn,cg1:()=>tE,dDg:()=>XC,dqk:()=>sn,eFA:()=>ub,eJc:()=>bv,ekj:()=>V_,eoX:()=>Qg,f3M:()=>$t,g9A:()=>gI,h0i:()=>pd,hGG:()=>fA,hij:()=>Sn,iGM:()=>jg,ifc:()=>_n,ip1:()=>Nv,jDz:()=>jr,kL8:()=>j_,lG2:()=>Gu,lnq:()=>pf,lqb:()=>gu,lri:()=>rb,n5z:()=>oc,oAB:()=>ms,oxw:()=>sd,q4F:()=>TI,qFp:()=>yA,qLn:()=>jl,qOj:()=>hg,qZA:()=>Cu,rWj:()=>ib,rg0:()=>Vd,sBO:()=>wa,s_b:()=>_v,soG:()=>Ff,tb:()=>em,tp0:()=>li,uIk:()=>Yl,vHH:()=>te,vpe:()=>Ys,wAp:()=>St,xp6:()=>n0,z2F:()=>wd,zSh:()=>Hy,zs3:()=>mc});var i=R(7579),$=R(727),O=R(1135),X=R(9751),ne=R(6451),le=R(9646),fe=R(3099),Re=R(5577),de=R(1884);function U(s){for(let a in s)if(s[a]===U)return a;throw Error("Could not find renamed property on target object.")}function Z(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Pe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const be=U({__forward_ref__:U});function Je(s){return s.__forward_ref__=Je,s.toString=function(){return Q(this())},s}function Se(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(be)&&s.__forward_ref__===Je}function ke(s){return s&&!!s.\u0275providers}const ht="https://g.co/ng/security#xss";class te extends Error{constructor(a,c){super(function pe(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function K(s){return"string"==typeof s?s:null==s?"":String(s)}function He(s,a){throw new te(-201,!1)}function tt(s,a){null==s&&function ft(s,a,c,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${c} ${l} ${a} <=Actual]`))}(a,s,null,"!=")}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function zn(s){return{providers:s.providers||[],imports:s.imports||[]}}function $r(s){return eo(s,ni)||eo(s,Ps)}function Wn(s){return null!==$r(s)}function eo(s,a){return s.hasOwnProperty(a)?s[a]:null}function Ca(s){return s&&(s.hasOwnProperty(ri)||s.hasOwnProperty(Aa))?s[ri]:null}const ni=U({\u0275prov:U}),ri=U({\u0275inj:U}),Ps=U({ngInjectableDef:U}),Aa=U({ngInjectorDef:U});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let pt;function ln(s){const a=pt;return pt=s,a}function Cn(s,a,c){const l=$r(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:c&$e.Optional?null:void 0!==a?a:void He(Q(s))}const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sr={},Bt="__NG_DI_FLAG__",es="ngTempTokenPath",Sa=/\n/gm,ts="__source";let gr;function mn(s){const a=gr;return gr=s,a}function ns(s,a=$e.Default){if(void 0===gr)throw new te(-203,!1);return null===gr?Cn(s,void 0,a):gr.get(s,a&$e.Optional?null:void 0,a)}function Yt(s,a=$e.Default){return(function vt(){return pt}()||ns)(Se(s),a)}function $t(s,a=$e.Default){return Yt(s,V(a))}function V(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function F(s){const a=[];for(let c=0;c<s.length;c++){const l=Se(s[c]);if(Array.isArray(l)){if(0===l.length)throw new te(900,!1);let h,p=$e.Default;for(let _=0;_<l.length;_++){const E=l[_],T=ye(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}a.push(Yt(h,p))}else a.push(Yt(l))}return a}function G(s,a){return s[Bt]=a,s.prototype[Bt]=a,s}function ye(s){return s[Bt]}function gt(s){return{toString:s}.toString()}var Rt=(()=>((Rt=Rt||{})[Rt.OnPush=0]="OnPush",Rt[Rt.Default=1]="Default",Rt))(),_n=(()=>{return(s=_n||(_n={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_n;var s})();const dn={},Ct=[],Gt=U({\u0275cmp:U}),mr=U({\u0275dir:U}),yi=U({\u0275pipe:U}),is=U({\u0275mod:U}),si=U({\u0275fac:U}),ce=U({__NG_ELEMENT_ID__:U}),ee=U({__NG_ENV_ID__:U});function xe(s,a,c){let l=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}c=h+1}}function ct(s,a,c){let l=0;for(;l<c.length;){const h=c[l];if("number"==typeof h){if(0!==h)break;l++;const p=c[l++],_=c[l++],E=c[l++];s.setAttribute(a,_,E,p)}else{const p=h,_=c[++l];Pt(p)?s.setProperty(a,p,_):s.setAttribute(a,p,_),l++}}return l}function At(s){return 3===s||4===s||6===s}function Pt(s){return 64===s.charCodeAt(0)}function Jt(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let l=0;l<a.length;l++){const h=a[l];"number"==typeof h?c=h:0===c||rr(s,c,h,null,-1===c||2===c?a[++l]:null)}}return s}function rr(s,a,c,l,h){let p=0,_=s.length;if(-1===a)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===a){_=-1;break}if(E>a){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===c){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,a),p=_+1),s.splice(p++,0,c),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}const Kn="ng-template";function gs(s,a,c){let l=0,h=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&h){const _=s[l++];if(c&&"class"===p&&-1!==xe(_.toLowerCase(),a,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function ro(s){return 4===s.type&&s.value!==Kn}function xa(s,a,c){return a===(4!==s.type||c?s.value:Kn)}function Ad(s,a,c){let l=4;const h=s.attrs||[],p=function ju(s){for(let a=0;a<s.length;a++)if(At(s[a]))return a;return s.length}(h);let _=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!_)if(4&l){if(l=2|1&l,""!==T&&!xa(s,T,c)||""===T&&1===a.length){if(oi(l))return!1;_=!0}}else{const A=8&l?T:a[++E];if(8&l&&null!==s.attrs){if(!gs(s.attrs,A,c)){if(oi(l))return!1;_=!0}continue}const P=Md(8&l?"class":T,h,ro(s),c);if(-1===P){if(oi(l))return!1;_=!0;continue}if(""!==A){let j;j=P>p?"":h[P+1].toLowerCase();const W=8&l?j:null;if(W&&-1!==xe(W,A,0)||2&l&&A!==j){if(oi(l))return!1;_=!0}}}}else{if(!_&&!oi(l)&&!oi(T))return!1;if(_&&oi(T))continue;_=!1,l=T|1&l}}return oi(l)||_}function oi(s){return 0==(1&s)}function Md(s,a,c,l){if(null===a)return-1;let h=0;if(l||!c){let p=!1;for(;h<a.length;){const _=a[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Sd(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const l=s[c];if("number"==typeof l)return-1;if(l===a)return c;c++}return-1}(a,s)}function Ei(s,a,c=!1){for(let l=0;l<a.length;l++)if(Ad(s,a[l],c))return!0;return!1}function No(s,a){return s?":not("+a.trim()+")":a}function mm(s){let a=s[0],c=1,l=2,h="",p=!1;for(;c<s.length;){let _=s[c];if("string"==typeof _)if(2&l){const E=s[++c];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!oi(_)&&(a+=No(p,h),h=""),l=_,p=p||!oi(l);c++}return""!==h&&(a+=No(p,h)),a}function io(s){return gt(()=>{const a=Nc(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||_n.Emulated,styles:s.styles||Ct,_:null,schemas:s.schemas||null,tView:null,id:""};zu(c);const l=s.dependencies;return c.directiveDefs=Ro(l,!1),c.pipeDefs=Ro(l,!0),c.id=function Nd(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function kd(s){return Ft(s)||or(s)}function _m(s){return null!==s}function ms(s){return gt(()=>({type:s.type,bootstrap:s.bootstrap||Ct,declarations:s.declarations||Ct,imports:s.imports||Ct,exports:s.exports||Ct,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ka(s,a){if(null==s)return dn;const c={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=l,a&&(a[h]=p)}return c}function Gu(s){return gt(()=>{const a=Nc(s);return zu(a),a})}function $u(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ft(s){return s[Gt]||null}function or(s){return s[mr]||null}function un(s){return s[yi]||null}function Fs(s){const a=Ft(s)||or(s)||un(s);return null!==a&&a.standalone}function xr(s,a){const c=s[is]||null;if(!c&&!0===a)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return c}function Nc(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ct,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ka(s.inputs,a),outputs:ka(s.outputs)}}function zu(s){s.features?.forEach(a=>a(s))}function Ro(s,a){if(!s)return null;const c=a?un:kd;return()=>("function"==typeof s?s():s).map(l=>c(l)).filter(_m)}const Un=0,We=1,Lt=2,En=3,ai=4,Us=5,Br=6,so=7,wn=8,_r=9,_s=10,Ot=11,Wr=12,Rd=13,ss=14,Rn=15,Oo=16,Ra=17,wi=18,Lo=19,Od=20,ci=21,Vn=22,Wu=23,oo=24,Ht=25,Rc=1,os=2,Kr=7,Ii=8,ao=9,ar=11;function Bn(s){return Array.isArray(s)&&"object"==typeof s[Rc]}function ui(s){return Array.isArray(s)&&!0===s[Rc]}function Po(s){return 0!=(4&s.flags)}function vs(s){return s.componentOffset>-1}function ys(s){return 1==(1&s.flags)}function vr(s){return!!s.template}function kr(s){return 0!=(512&s[Lt])}function Vs(s,a){return s.hasOwnProperty(si)?s[si]:null}let Ua=sn.WeakRef??class Oc{constructor(a){this.ref=a}deref(){return this.ref}},Tm=0,Zr=null,Lc=!1;function Qn(s){const a=Zr;return Zr=s,a}class Pc{constructor(){this.id=Tm++,this.ref=function Ud(s){return new Ua(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,c]of this.producers){const l=c.producerNode.deref();if(void 0!==l&&c.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(a),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=Lc;Lc=!0;try{for(const[c,l]of this.consumers){const h=l.consumerNode.deref();void 0!==h&&h.trackingVersion===l.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{Lc=a}}producerAccessed(){if(Lc)throw new Error("");if(null===Zr)return;let a=Zr.producers.get(this.id);void 0===a?(a={consumerNode:Zr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Zr.trackingVersion},Zr.producers.set(this.id,a),this.consumers.set(Zr.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=Zr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Zr?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}let Za=null;function Vd(s){const a=Qn(null);try{return s()}finally{Qn(a)}}const tl=()=>{};class Bd extends Pc{constructor(a,c,l){super(),this.watch=a,this.schedule=c,this.dirty=!1,this.cleanupFn=tl,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=Qn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=tl,this.watch(this.registerOnCleanup)}finally{Qn(a)}}cleanup(){this.cleanupFn()}}class nl{constructor(a,c,l){this.previousValue=a,this.currentValue=c,this.firstChange=l}isFirstChange(){return this.firstChange}}function Uc(){return Ha}function Ha(s){return s.type.prototype.ngOnChanges&&(s.setInput=Vc),rl}function rl(){const s=Bc(this),a=s?.current;if(a){const c=s.previous;if(c===dn)s.previous=a;else for(let l in a)c[l]=a[l];s.current=null,this.ngOnChanges(a)}}function Vc(s,a,c,l){const h=this.declaredInputs[c],p=Bc(s)||function Dm(s,a){return s[il]=a}(s,{previous:dn,current:null}),_=p.current||(p.current={}),E=p.previous,T=E[h];_[h]=new nl(T&&T.currentValue,a,E===dn),s[l]=a}Uc.ngInherit=!0;const il="__ngSimpleChanges__";function Bc(s){return s[il]||null}const Fi=function(s,a,c){};function In(s){for(;Array.isArray(s);)s=s[Un];return s}function Zc(s,a){return In(a[s])}function qr(s,a){return In(a[s.index])}function sl(s,a){return s.data[a]}function cr(s,a){const c=a[s];return Bn(c)?c:c[Un]}function Zo(s){return 128==(128&s[Lt])}function Zs(s,a){return null==a?null:s[a]}function ol(s){s[Ra]=0}function qd(s){1024&s[Lt]||(s[Lt]|=1024,qc(s,1))}function al(s){1024&s[Lt]&&(s[Lt]&=-1025,qc(s,-1))}function qc(s,a){let c=s[En];if(null===c)return;c[Us]+=a;let l=c;for(c=c[En];null!==c&&(1===a&&1===l[Us]||-1===a&&0===l[Us]);)c[Us]+=a,l=c,c=c[En]}const mt={lFrame:fl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $d(){return mt.bindingsEnabled}function De(){return mt.lFrame.lView}function zt(){return mt.lFrame.tView}function jc(s){return mt.lFrame.contextLView=s,s[wn]}function dl(s){return mt.lFrame.contextLView=null,s}function An(){let s=Xf();for(;null!==s&&64===s.type;)s=s.parent;return s}function Xf(){return mt.lFrame.currentTNode}function ws(s,a){const c=mt.lFrame;c.currentTNode=s,c.isParent=a}function $a(){return mt.lFrame.isParent}function Is(){return mt.lFrame.bindingIndex}function qs(){return mt.lFrame.bindingIndex++}function hn(s){const a=mt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function za(s,a){const c=mt.lFrame;c.bindingIndex=c.bindingRootIndex=s,fo(a)}function fo(s){mt.lFrame.currentDirectiveIndex=s}function Kd(){return mt.lFrame.currentQueryIndex}function zc(s){mt.lFrame.currentQueryIndex=s}function Wc(s){const a=s[We];return 2===a.type?a.declTNode:1===a.type?s[Br]:null}function Ka(s,a,c){if(c&$e.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||c&$e.Host||(h=Wc(p),null===h||(p=p[ss],10&h.type))););if(null===h)return!1;a=h,s=p}const l=mt.lFrame=Ui();return l.currentTNode=a,l.lView=s,!0}function $o(s){const a=Ui(),c=s[We];mt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ui(){const s=mt.lFrame,a=null===s?null:s.child;return null===a?fl(s):a}function fl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Jd(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kc=Jd;function pl(){const s=Jd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Jr(){return mt.lFrame.selectedIndex}function po(s){mt.lFrame.selectedIndex=s}function bn(){const s=mt.lFrame;return sl(s.tView,s.selectedIndex)}let gl=!0;function ml(){return gl}function cs(s){gl=s}function Ya(s,a){for(let c=a.directiveStart,l=a.directiveEnd;c<l;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:k}=p;_&&(s.contentHooks??=[]).push(-c,_),E&&((s.contentHooks??=[]).push(c,E),(s.contentCheckHooks??=[]).push(c,E)),T&&(s.viewHooks??=[]).push(-c,T),A&&((s.viewHooks??=[]).push(c,A),(s.viewCheckHooks??=[]).push(c,A)),null!=k&&(s.destroyHooks??=[]).push(c,k)}}function _l(s,a,c){vl(s,a,3,c)}function zo(s,a,c,l){(3&s[Lt])===c&&vl(s,a,c,l)}function Xd(s,a){let c=s[Lt];(3&c)===a&&(c&=4095,c+=1,s[Lt]=c)}function vl(s,a,c,l){const p=l??-1,_=a.length-1;let E=0;for(let T=void 0!==l?65535&s[Ra]:0;T<_;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=l&&E>=l)break}else a[T]<0&&(s[Ra]+=65536),(E<p||-1==p)&&(Jc(s,c,a,T),s[Ra]=(4294901760&s[Ra])+T+2),T++}function rp(s,a){Fi(4,s,a);const c=Qn(null);try{a.call(s)}finally{Qn(c),Fi(5,s,a)}}function Jc(s,a,c,l){const h=c[l]<0,p=c[l+1],E=s[h?-c[l]:c[l]];h?s[Lt]>>12<s[Ra]>>16&&(3&s[Lt])===a&&(s[Lt]+=4096,rp(E,p)):rp(E,p)}const fn=-1;class yr{constructor(a,c,l){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=l}}function qn(s){return s!==fn}function Mt(s){return 32767&s}function tc(s,a){let c=function Di(s){return s>>16}(s),l=a;for(;c>0;)l=l[ss],c--;return l}let nc=!0;function js(s){const a=nc;return nc=s,a}const rc=255,Er=5;let Ci=0;const Vi={};function Jo(s,a){const c=Yc(s,a);if(-1!==c)return c;const l=a[We];l.firstCreatePass&&(s.injectorIndex=a.length,th(l.data,s),th(a,null),th(l.blueprint,null));const h=Gs(s,a),p=s.injectorIndex;if(qn(h)){const _=Mt(h),E=tc(h,a),T=E[We].data;for(let A=0;A<8;A++)a[p+A]=E[_+A]|T[_+A]}return a[p+8]=h,p}function th(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Yc(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Gs(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,l=null,h=a;for(;null!==h;){if(l=bl(h),null===l)return fn;if(c++,h=h[ss],-1!==l.injectorIndex)return l.injectorIndex|c<<16}return fn}function Ai(s,a,c){!function eh(s,a,c){let l;"string"==typeof c?l=c.charCodeAt(0)||0:c.hasOwnProperty(ce)&&(l=c[ce]),null==l&&(l=c[ce]=Ci++);const h=l&rc;a.data[s+(h>>Er)]|=1<<h}(s,a,c)}function Or(s,a,c){if(c&$e.Optional||void 0!==s)return s;He()}function Bi(s,a,c,l){if(c&$e.Optional&&void 0===l&&(l=null),!(c&($e.Self|$e.Host))){const h=s[_r],p=ln(void 0);try{return h?h.get(a,l,c&$e.Optional):Cn(a,l,c&$e.Optional)}finally{ln(p)}}return Or(l,0,c)}function Il(s,a,c,l=$e.Default,h){if(null!==s){if(2048&a[Lt]&&!(l&$e.Self)){const _=function ru(s,a,c,l,h){let p=s,_=a;for(;null!==p&&null!==_&&2048&_[Lt]&&!(512&_[Lt]);){const E=nh(p,_,c,l|$e.Self,Vi);if(E!==Vi)return E;let T=p.parent;if(!T){const A=_[Od];if(A){const k=A.get(c,Vi,l);if(k!==Vi)return k}T=bl(_),_=_[ss]}p=T}return h}(s,a,c,l,Vi);if(_!==Vi)return _}const p=nh(s,a,c,l,Vi);if(p!==Vi)return p}return Bi(a,c,l,h)}function nh(s,a,c,l,h){const p=function rh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ce)?s[ce]:void 0;return"number"==typeof a?a>=0?a&rc:tu:a}(c);if("function"==typeof p){if(!Ka(a,s,l))return l&$e.Host?Or(h,0,l):Bi(a,c,l,h);try{const _=p(l);if(null!=_||l&$e.Optional)return _;He()}finally{Kc()}}else if("number"==typeof p){let _=null,E=Yc(s,a),T=fn,A=l&$e.Host?a[Rn][Br]:null;for((-1===E||l&$e.SkipSelf)&&(T=-1===E?Gs(s,a):a[E+8],T!==fn&&eu(l,!1)?(_=a[We],E=Mt(T),a=tc(T,a)):E=-1);-1!==E;){const k=a[We];if(sc(p,E,k.data)){const P=Tl(E,a,c,_,l,A);if(P!==Vi)return P}T=a[E+8],T!==fn&&eu(l,a[We].data[E+8]===A)&&sc(p,E,a)?(_=k,E=Mt(T),a=tc(T,a)):E=-1}}return h}function Tl(s,a,c,l,h,p){const _=a[We],E=_.data[s+8],k=Xc(E,_,c,null==l?vs(E)&&nc:l!=_&&0!=(3&E.type),h&$e.Host&&p===E);return null!==k?us(a,_,k,E):Vi}function Xc(s,a,c,l,h){const p=s.providerIndexes,_=a.data,E=1048575&p,T=s.directiveStart,k=p>>20,j=h?E+k:s.directiveEnd;for(let W=l?E:E+k;W<j;W++){const ve=_[W];if(W<T&&c===ve||W>=T&&ve.type===c)return W}if(h){const W=_[T];if(W&&vr(W)&&W.type===c)return T}return null}function us(s,a,c,l){let h=s[c];const p=a.data;if(function ip(s){return s instanceof yr}(h)){const _=h;_.resolving&&function Ce(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new te(-200,`Circular dependency in DI detected for ${s}${c}`)}(function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():K(s)}(p[c]));const E=js(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?ln(_.injectImpl):null;Ka(s,l,$e.Default);try{h=s[c]=_.factory(void 0,p,s,l),a.firstCreatePass&&c>=l.directiveStart&&function Yd(s,a,c){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(l){const _=Ha(a);(c.preOrderHooks??=[]).push(s,_),(c.preOrderCheckHooks??=[]).push(s,_)}h&&(c.preOrderHooks??=[]).push(0-s,h),p&&((c.preOrderHooks??=[]).push(s,p),(c.preOrderCheckHooks??=[]).push(s,p))}(c,p[c],a)}finally{null!==T&&ln(T),js(E),_.resolving=!1,Kc()}}return h}function sc(s,a,c){return!!(c[a+(s>>Er)]&1<<s)}function eu(s,a){return!(s&$e.Self||s&$e.Host&&a)}class go{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,l){return Il(this._tNode,this._lView,a,V(l),c)}}function tu(){return new go(An(),De())}function oc(s){return gt(()=>{const a=s.prototype.constructor,c=a[si]||nu(a),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[si]||nu(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function nu(s){return Ge(s)?()=>{const a=nu(Se(s));return a&&a()}:Vs(s)}function bl(s){const a=s[We],c=a.type;return 2===c?a.declTNode:1===c?s[Br]:null}function Dl(s){return function ic(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const l=c.length;let h=0;for(;h<l;){const p=c[h];if(At(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(An(),s)}const mo="__parameters__";function Zi(s,a,c){return gt(()=>{const l=function Qo(s){return function(...c){if(s){const l=s(...c);for(const h in l)this[h]=l[h]}}}(a);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(T,A,k){const P=T.hasOwnProperty(mo)?T[mo]:Object.defineProperty(T,mo,{value:[]})[mo];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(_),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Hi(s,a){s.forEach(c=>Array.isArray(c)?Hi(c,a):a(c))}function zs(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function uc(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function I(s,a,c){let l=S(s,a);return l>=0?s[1|l]=c:(l=~l,function Mm(s,a,c,l){let h=s.length;if(h==a)s.push(c,l);else if(1===h)s.push(l,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=l}}(s,l,a,c)),l}function b(s,a){const c=S(s,a);if(c>=0)return s[1|c]}function S(s,a){return function H(s,a,c){let l=0,h=s.length>>c;for(;h!==l;){const p=l+(h-l>>1),_=s[p<<c];if(a===_)return p<<c;_>a?h=p:l=p+1}return~(h<<c)}(s,a,1)}const qi=G(Zi("Optional"),8),li=G(Zi("SkipSelf"),4);function Ep(s){return 128==(128&s.flags)}var yo=(()=>((yo=yo||{})[yo.Important=1]="Important",yo[yo.DashCase=2]="DashCase",yo))();const lh=new Map;let Ip=0;const dh="__ngContext__";function Ir(s,a){Bn(a)?(s[dh]=a[Lo],function kl(s){lh.set(s[Lo],s)}(a)):s[dh]=a}let gh;function mh(s,a){return gh(s,a)}function ls(s){const a=s[En];return ui(a)?a[En]:a}function xp(s){return kp(s[Wr])}function _h(s){return kp(s[ai])}function kp(s){for(;null!==s&&!ui(s);)s=s[ai];return s}function Lr(s,a,c,l,h){if(null!=l){let p,_=!1;ui(l)?p=l:Bn(l)&&(_=!0,l=l[Un]);const E=In(l);0===s&&null!==c?null==h?B(a,c,E):x(a,c,E,h||null,!0):1===s&&null!==c?x(a,c,E,h||null,!0):2===s?function Th(s,a,c){const l=et(s,a);l&&function Ae(s,a,c,l){s.removeChild(a,c,l)}(s,l,a,c)}(a,E,_):3===s&&a.destroyNode(E),null!=p&&function sD(s,a,c,l,h){const p=c[Kr];p!==In(c)&&Lr(a,s,l,p,h);for(let E=ar;E<c.length;E++){const T=c[E];wt(T[We],T,s,a,l,p)}}(a,s,p,c,h)}}function zi(s,a,c){return s.createElement(a,c)}function Vm(s,a){const c=s[ao],l=c.indexOf(a);al(a),c.splice(l,1)}function du(s,a){if(s.length<=ar)return;const c=ar+a,l=s[c];if(l){const h=l[Oo];null!==h&&h!==s&&Vm(h,l),a>0&&(s[c-1][ai]=l[ai]);const p=uc(s,ar+a);!function bs(s,a){wt(s,a,a[Ot],2,null,null),a[Un]=null,a[Br]=null}(l[We],l);const _=p[wi];null!==_&&_.detachView(p[We]),l[En]=null,l[ai]=null,l[Lt]&=-129}return l}function Rp(s,a){if(!(256&a[Lt])){const c=a[Ot];a[Wu]?.destroy(),a[oo]?.destroy(),c.destroyNode&&wt(s,a,c,3,null,null),function Iy(s){let a=s[Wr];if(!a)return v(s[We],s);for(;a;){let c=null;if(Bn(a))c=a[Wr];else{const l=a[ar];l&&(c=l)}if(!c){for(;a&&!a[ai]&&a!==s;)Bn(a)&&v(a[We],a),a=a[En];null===a&&(a=s),Bn(a)&&v(a[We],a),c=a&&a[ai]}a=c}}(a)}}function v(s,a){if(!(256&a[Lt])){a[Lt]&=-129,a[Lt]|=256,function g(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let l=0;l<c.length;l+=2){const h=a[c[l]];if(!(h instanceof yr)){const p=c[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],T=p[_+1];Fi(4,E,T);try{T.call(E)}finally{Fi(5,E,T)}}else{Fi(4,h,p);try{p.call(h)}finally{Fi(5,h,p)}}}}}(s,a),function f(s,a){const c=s.cleanup,l=a[so];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const _=c[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else c[p].call(l[c[p+1]]);null!==l&&(a[so]=null);const h=a[ci];if(null!==h){a[ci]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,a),1===a[We].type&&a[Ot].destroy();const c=a[Oo];if(null!==c&&ui(a[En])){c!==a[En]&&Vm(c,a);const l=a[wi];null!==l&&l.detachView(s)}!function Om(s){lh.delete(s[Lo])}(a)}}function y(s,a,c){return function C(s,a,c){let l=a;for(;null!==l&&40&l.type;)l=(a=l).parent;if(null===l)return c[Un];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=s.data[l.directiveStart+h];if(p===_n.None||p===_n.Emulated)return null}return qr(l,c)}}(s,a.parent,c)}function x(s,a,c,l,h){s.insertBefore(a,c,l,h)}function B(s,a,c){s.appendChild(a,c)}function J(s,a,c,l,h){null!==l?x(s,a,c,l,h):B(s,a,c)}function et(s,a){return s.parentNode(a)}let Op,hc,rn,Eh=function Ds(s,a,c){return 40&s.type?qr(s,c):null};function wh(s,a,c,l){const h=y(s,l,a),p=a[Ot],E=function On(s,a,c){return Eh(s,a,c)}(l.parent||a[Br],l,a);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)J(p,h,c[T],E,!1);else J(p,h,c,E,!1);void 0!==Op&&Op(p,l,a,c,h)}function Ol(s,a){if(null!==a){const c=a.type;if(3&c)return qr(a,s);if(4&c)return Ih(-1,s[a.index]);if(8&c){const l=a.child;if(null!==l)return Ol(s,l);{const h=s[a.index];return ui(h)?Ih(-1,h):In(h)}}if(32&c)return mh(a,s)()||In(s[a.index]);{const l=Pp(s,a);return null!==l?Array.isArray(l)?l[0]:Ol(ls(s[Rn]),l):Ol(s,a.next)}}return null}function Pp(s,a){return null!==a?s[Rn][Br].projection[a.projection]:null}function Ih(s,a){const c=ar+s+1;if(c<a.length){const l=a[c],h=l[We].firstChild;if(null!==h)return Ol(l,h)}return a[Kr]}function bh(s,a,c,l,h,p,_){for(;null!=c;){const E=l[c.index],T=c.type;if(_&&0===a&&(E&&Ir(In(E),l),c.flags|=2),32!=(32&c.flags))if(8&T)bh(s,a,c.child,l,h,p,!1),Lr(a,s,h,E,p);else if(32&T){const A=mh(c,l);let k;for(;k=A();)Lr(a,s,h,k,p);Lr(a,s,h,E,p)}else 16&T?hu(s,a,l,c,h,p):Lr(a,s,h,E,p);c=_?c.projectionNext:c.next}}function wt(s,a,c,l,h,p){bh(c,l,s.firstChild,a,h,p,!1)}function hu(s,a,c,l,h,p){const _=c[Rn],T=_[Br].projection[l.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)Lr(a,s,h,T[A],p);else{let A=T;const k=_[En];Ep(l)&&(A.flags|=128),bh(s,a,A,k,h,p,!0)}}function Fp(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function Bm(s,a,c){const{mergedAttrs:l,classes:h,styles:p}=c;null!==l&&ct(s,a,l),null!==h&&Fp(s,a,h),null!==p&&function Cs(s,a,c){s.setAttribute(a,"style",c)}(s,a,p)}function Hm(s){hc=s}function qm(s){return function Dy(){if(void 0===rn&&(rn=null,sn.trustedTypes))try{rn=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return rn}()?.createScriptURL(s)||s}class Ut{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}function fu(s){return s instanceof Ut?s.changingThisBreaksApplicationSecurity:s}function Vp(s,a){const c=function xi(s){return s instanceof Ut&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ht})`)}return c===a}const Bp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function Ry(s){const a=Sh();return a?a.sanitize(sr.URL,s)||"":Vp(s,"URL")?fu(s):function Ah(s){return(s=String(s)).match(Bp)?s:"unsafe:"+s}(K(s))}function Oy(s){const a=Sh();if(a)return qm(a.sanitize(sr.RESOURCE_URL,s)||"");if(Vp(s,"ResourceURL"))return qm(fu(s));throw new te(904,!1)}function Jm(s,a,c){return function Py(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Oy:Ry}(a,c)(s)}function Sh(){const s=De();return s&&s[_s].sanitizer}class pn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Kt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xh=new pn("ENVIRONMENT_INITIALIZER"),Fy=new pn("INJECTOR",-1),Qm=new pn("INJECTOR_DEF_TYPES");class Uy{get(a,c=Sr){if(c===Sr){const l=new Error(`NullInjectorError: No provider for ${Q(a)}!`);throw l.name="NullInjectorError",l}return c}}function Vy(...s){return{\u0275providers:Ym(0,s),\u0275fromNgModule:!0}}function Ym(s,...a){const c=[],l=new Set;let h;return Hi(a,p=>{const _=p;Pr(_,c,[],l)&&(h||=[],h.push(_))}),void 0!==h&&Xm(h,c),c}function Xm(s,a){for(let c=0;c<s.length;c++){const{providers:h}=s[c];kh(h,p=>{a.push(p)})}}function Pr(s,a,c,l){if(!(s=Se(s)))return!1;let h=null,p=Ca(s);const _=!p&&Ft(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const T=s.ngModule;if(p=Ca(T),!p)return!1;h=T}const E=l.has(h);if(_){if(E)return!1;if(l.add(h),_.dependencies){const T="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of T)Pr(A,a,c,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let A;l.add(h);try{Hi(p.imports,k=>{Pr(k,a,c,l)&&(A||=[],A.push(k))})}finally{}void 0!==A&&Xm(A,a)}if(!E){const A=Vs(h)||(()=>new h);a.push({provide:h,useFactory:A,deps:Ct},{provide:Qm,useValue:h,multi:!0},{provide:xh,useValue:()=>Yt(h),multi:!0})}const T=p.providers;null==T||E||kh(T,k=>{a.push(k)})}}return h!==s&&void 0!==s.providers}function kh(s,a){for(let c of s)ke(c)&&(c=c.\u0275providers),Array.isArray(c)?kh(c,a):a(c)}const By=U({provide:String,useValue:U});function Zy(s){return null!==s&&"object"==typeof s&&By in s}function pu(s){return"function"==typeof s}const Hy=new pn("Set Injector scope."),e_={},Hp={};let Ul;function Nh(){return void 0===Ul&&(Ul=new Uy),Ul}class gu{}class qy extends gu{get destroyed(){return this._destroyed}constructor(a,c,l,h){super(),this.parent=c,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t_(a,_=>this.processProvider(_)),this.records.set(Fy,Oh(void 0,this)),h.has("environment")&&this.records.set(gu,Oh(void 0,this));const p=this.records.get(Hy);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Qm.multi,Ct,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=mn(this),l=ln(void 0);try{return a()}finally{mn(c),ln(l)}}get(a,c=Sr,l=$e.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(ee))return a[ee](this);l=V(l);const h=mn(this),p=ln(void 0);try{if(!(l&$e.SkipSelf)){let E=this.records.get(a);if(void 0===E){const T=function pI(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(a)&&$r(a);E=T&&this.injectableDefInScope(T)?Oh(Rh(a),e_):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(l&$e.Self?Nh():this.parent).get(a,c=l&$e.Optional&&c===Sr?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[es]=_[es]||[]).unshift(Q(a)),h)throw _;return function se(s,a,c,l){const h=s[es];throw a[ts]&&h.unshift(a[ts]),s.message=function nt(s,a,c,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Q(a);if(Array.isArray(a))h=a.map(Q).join(" -> ");else if("object"==typeof a){let p=[];for(let _ in a)if(a.hasOwnProperty(_)){let E=a[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):Q(E)))}h=`{${p.join(", ")}}`}return`${c}${l?"("+l+")":""}[${h}]: ${s.replace(Sa,"\n  ")}`}("\n"+s.message,h,c,l),s.ngTokenPath=h,s[es]=null,s}(_,a,"R3InjectorError",this.source)}throw _}finally{ln(p),mn(h)}}resolveInjectorInitializers(){const a=mn(this),c=ln(void 0);try{const l=this.get(xh.multi,Ct,$e.Self);for(const h of l)h()}finally{mn(a),ln(c)}}toString(){const a=[],c=this.records;for(const l of c.keys())a.push(Q(l));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(a){let c=pu(a=Se(a))?a:Se(a&&a.provide);const l=function Gy(s){return Zy(s)?Oh(void 0,s.useValue):Oh($y(s),e_)}(a);if(pu(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Oh(void 0,e_,!0),h.factory=()=>F(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,l)}hydrate(a,c){return c.value===e_&&(c.value=Hp,c.value=c.factory()),"object"==typeof c.value&&c.value&&function fI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Se(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Rh(s){const a=$r(s),c=null!==a?a.factory:Vs(s);if(null!==c)return c;if(s instanceof pn)throw new te(204,!1);if(s instanceof Function)return function jy(s){const a=s.length;if(a>0)throw function ou(s,a){const c=[];for(let l=0;l<s;l++)c.push(a);return c}(a,"?"),new te(204,!1);const c=function to(s){return s&&(s[ni]||s[Ps])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new te(204,!1)}function $y(s,a,c){let l;if(pu(s)){const h=Se(s);return Vs(h)||Rh(h)}if(Zy(s))l=()=>Se(s.useValue);else if(function hI(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...F(s.deps||[]));else if(function dI(s){return!(!s||!s.useExisting)}(s))l=()=>Yt(Se(s.useExisting));else{const h=Se(s&&(s.useClass||s.provide));if(!function qp(s){return!!s.deps}(s))return Vs(h)||Rh(h);l=()=>new h(...F(s.deps))}return l}function Oh(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function t_(s,a){for(const c of s)Array.isArray(c)?t_(c,a):c&&ke(c)?t_(c.\u0275providers,a):a(c)}const jp=new pn("AppId",{providedIn:"root",factory:()=>_D}),_D="ng",gI=new pn("Platform Initializer"),mu=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vl=new pn("CSP nonce",{providedIn:"root",factory:()=>function Ws(){if(void 0!==hc)return hc;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Wy=(s,a)=>null;function zp(s,a){return Wy(s,a)}class ID{}class wI{}class ql{resolveComponentFactory(a){throw function II(s){const a=Error(`No component factory found for ${Q(s)}.`);return a.ngComponent=s,a}(a)}}let Js=(()=>{class s{}return s.NULL=new ql,s})();function a_(){return gc(An(),De())}function gc(s,a){return new Hh(qr(s,a))}let Hh=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=a_,s})();function jn(s){return s instanceof Hh?s.nativeElement:s}class Wp{}let Kp=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Jp(){const s=De(),c=cr(An().index,s);return(Bn(c)?c:s)[Ot]}(),s})(),TD=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class Qy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const TI=new Qy("16.0.4"),Yy={};function Qp(s){for(;s;){s[Lt]|=64;const a=ls(s);if(kr(s)&&!a)return s;s=a}return null}function oa(s){return s.ngOriginalError}class jl{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&oa(a);for(;c&&oa(c);)c=oa(c);return c||null}}const Gl=new pn("",{providedIn:"root",factory:()=>!1});function aa(s){return s instanceof Function?s():s}class l_ extends Pc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){Qp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,c,l){const h=Qn(this);this.trackingVersion++;try{a(c,l)}finally{Qn(h)}}destroy(){this.trackingVersion++}}let eg=null;function jh(){return eg??=new l_,eg}function Gh(s,a){return s[a]??jh()}function MI(s,a){const c=jh();c.hasReadASignal&&(s[a]=eg,c.lView=s,eg=new l_)}const at={};function n0(s){SI(zt(),De(),Jr()+s,!1)}function SI(s,a,c,l){if(!l)if(3==(3&a[Lt])){const p=s.preOrderCheckHooks;null!==p&&_l(a,p,c)}else{const p=s.preOrderHooks;null!==p&&zo(a,p,0,c)}po(c)}function d_(s,a=null,c=null,l){const h=$h(s,a,c,l);return h.resolveInjectorInitializers(),h}function $h(s,a=null,c=null,l,h=new Set){const p=[c||Ct,Vy(s)];return l=l||("object"==typeof s?void 0:Q(s)),new qy(p,a||Nh(),l||null,h)}let mc=(()=>{class s{static create(c,l){if(Array.isArray(c))return d_({name:""},l,c,"");{const h=c.name??"";return d_({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=Sr,s.NULL=new Uy,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>Yt(Fy)}),s.__NG_ELEMENT_ID__=-1,s})();function yu(s,a=$e.Default){const c=De();return null===c?Yt(s,a):Il(An(),c,Se(s),a)}function ng(){throw new Error("invalid")}function $l(s,a,c,l,h,p,_,E,T,A,k){const P=a.blueprint.slice();return P[Un]=h,P[Lt]=140|l,(null!==A||s&&2048&s[Lt])&&(P[Lt]|=2048),ol(P),P[En]=P[ss]=s,P[wn]=c,P[_s]=_||s&&s[_s],P[Ot]=E||s&&s[Ot],P[_r]=T||s&&s[_r]||null,P[Br]=p,P[Lo]=function wy(){return Ip++}(),P[Vn]=k,P[Od]=A,P[Rn]=2==a.type?s[Rn]:P,P}function zh(s,a,c,l,h){let p=s.data[a];if(null===p)p=function h_(s,a,c,l,h){const p=Xf(),_=$a(),T=s.data[a]=function p_(s,a,c,l,h,p){let _=a?a.injectorIndex:-1,E=0;return function qo(){return null!==mt.skipHydrationRootTNode}()&&(E|=128),{type:c,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,c,a,l,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(_?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(s,a,c,l,h),function Wd(){return mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=l,p.attrs=h;const _=function bi(){const s=mt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ws(p,!0),p}function _c(s,a,c,l){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(l),s.blueprint.push(l),s.data.push(null);return h}function s0(s,a,c,l,h){const p=Gh(a,Wu),_=Jr(),E=2&l;try{if(po(-1),E&&a.length>Ht&&SI(s,a,Ht,!1),Fi(E?2:0,h),E)p.runInContext(c,l,h);else{const A=Qn(null);try{c(l,h)}finally{Qn(A)}}}finally{E&&null===a[Wu]&&MI(a,Wu),po(_),Fi(E?3:1,h)}}function f_(s,a,c){if(Po(a)){const l=Qn(null);try{const p=a.directiveEnd;for(let _=a.directiveStart;_<p;_++){const E=s.data[_];E.contentQueries&&E.contentQueries(1,c[_],_)}}finally{Qn(l)}}}function rg(s,a,c){$d()&&(function d0(s,a,c,l){const h=c.directiveStart,p=c.directiveEnd;vs(c)&&function sg(s,a,c){const l=qr(a,s),_=E_(s,$l(s,o0(c),null,c.onPush?64:16,l,a,null,s[_s].rendererFactory.createRenderer(l,c),null,null,null));s[a.index]=_}(a,c,s.data[h+c.componentOffset]),s.firstCreatePass||Jo(c,a),Ir(l,a);const _=c.initialInputs;for(let E=h;E<p;E++){const T=s.data[E],A=us(a,s,E,c);Ir(A,a),null!==_&&Jh(0,E-h,A,T,0,_),vr(T)&&(cr(c.index,a)[wn]=us(a,s,E,c))}}(s,a,c,qr(c,a)),64==(64&c.flags)&&Wl(s,a,c))}function ig(s,a,c=qr){const l=a.localNames;if(null!==l){let h=a.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],E=-1===_?c(a,s):s[_];s[h++]=E}}}function o0(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Wh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Wh(s,a,c,l,h,p,_,E,T,A,k){const P=Ht+l,j=P+h,W=function LI(s,a){const c=[];for(let l=0;l<a;l++)c.push(l<s?null:at);return c}(P,j),ve="function"==typeof A?A():A;return W[We]={type:s,blueprint:W,template:c,queries:null,viewQuery:E,declTNode:a,data:W.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:ve,incompleteFirstPass:!1,ssrId:k}}let a0=s=>null;function ds(s,a,c,l){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===l?c0(c,a,h,p):l.hasOwnProperty(h)&&c0(c,a,l[h],p)}return c}function c0(s,a,c,l){s.hasOwnProperty(c)?s[c].push(a,l):s[c]=[a,l]}function l0(s,a,c,l){if($d()){const h=null===l?null:{"":-1},p=function HI(s,a){const c=s.directiveRegistry;let l=null,h=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];if(Ei(a,_.selectors,!1))if(l||(l=[]),vr(_))if(null!==_.findHostDirectiveDefs){const E=[];h=h||new Map,_.findHostDirectiveDefs(_,E,h),l.unshift(...E,_),To(s,a,E.length)}else l.unshift(_),To(s,a,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,l,h),l.push(_)}return null===l?null:[l,h]}(s,c);let _,E;null===p?_=E=null:[_,E]=p,null!==_&&g_(s,a,c,_,h,E),h&&function Qs(s,a,c){if(a){const l=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new te(-301,!1);l.push(a[h],p)}}}(c,l,h)}c.mergedAttrs=Jt(c.mergedAttrs,c.attrs)}function g_(s,a,c,l,h,p){for(let A=0;A<l.length;A++)Ai(Jo(c,a),s,l[A].type);!function m_(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,l.length);for(let A=0;A<l.length;A++){const k=l[A];k.providersResolver&&k.providersResolver(k)}let _=!1,E=!1,T=_c(s,a,l.length,null);for(let A=0;A<l.length;A++){const k=l[A];c.mergedAttrs=Jt(c.mergedAttrs,k.hostAttrs),__(s,c,a,T,k),pi(T,k,h),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const P=k.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),_=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),E=!0),T++}!function BI(s,a,c){const h=a.directiveEnd,p=s.data,_=a.attrs,E=[];let T=null,A=null;for(let k=a.directiveStart;k<h;k++){const P=p[k],j=c?c.get(P):null,ve=j?j.outputs:null;T=ds(P.inputs,k,T,j?j.inputs:null),A=ds(P.outputs,k,A,ve);const Ne=null===T||null===_||ro(a)?null:kD(T,k,_);E.push(Ne)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=A}(s,c,p)}function Wl(s,a,c){const l=c.directiveStart,h=c.directiveEnd,p=c.index,_=function $c(){return mt.lFrame.currentDirectiveIndex}();try{po(p);for(let E=l;E<h;E++){const T=s.data[E],A=a[E];fo(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&h0(T,A)}}finally{po(-1),fo(_)}}function h0(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function To(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function pi(s,a,c){if(c){if(a.exportAs)for(let l=0;l<a.exportAs.length;l++)c[a.exportAs[l]]=s;vr(a)&&(c[""]=s)}}function __(s,a,c,l,h){s.data[l]=h;const p=h.factory||(h.factory=Vs(h.type)),_=new yr(p,vr(h),yu);s.blueprint[l]=_,c[l]=_,function ca(s,a,c,l,h){const p=h.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const E=~a.index;(function ZI(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(_)!=E&&_.push(E),_.push(c,l,p)}}(s,a,l,_c(s,c,h.hostVars,at),h)}function Ms(s,a,c,l,h,p){const _=qr(s,a);!function v_(s,a,c,l,h,p,_){if(null==p)s.removeAttribute(a,h,c);else{const E=null==_?K(p):_(p,l||"",h);s.setAttribute(a,h,E,c)}}(a[Ot],_,p,s.value,c,l,h)}function Jh(s,a,c,l,h,p){const _=p[a];if(null!==_)for(let E=0;E<_.length;)qI(l,c,_[E++],_[E++],_[E++])}function qI(s,a,c,l,h){const p=Qn(null);try{null!==s.setInput?s.setInput(a,h,c,l):a[l]=h}finally{Qn(p)}}function kD(s,a,c){let l=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const _=s[p];for(let E=0;E<_.length;E+=2)if(_[E]===a){l.push(p,_[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function y_(s,a,c,l){return[s,!0,!1,a,null,0,l,c,null,null,null]}function jI(s,a){const c=s.contentQueries;if(null!==c)for(let l=0;l<c.length;l+=2){const p=c[l+1];if(-1!==p){const _=s.data[p];zc(c[l]),_.contentQueries(2,a[p],p)}}}function E_(s,a){return s[Wr]?s[Rd][ai]=a:s[Wr]=a,s[Rd]=a,a}function w_(s,a,c){zc(0);const l=Qn(null);try{a(s,c)}finally{Qn(l)}}function og(s){return s[so]||(s[so]=[])}function GI(s){return s.cleanup||(s.cleanup=[])}function Kl(s,a){const c=s[_r],l=c?c.get(jl,null):null;l&&l.handleError(a)}function I_(s,a,c,l,h){for(let p=0;p<c.length;){const _=c[p++],E=c[p++];qI(s.data[_],a[_],l,E,h)}}function Ln(s,a,c){const l=Zc(a,s);!function Rl(s,a,c){s.setValue(a,c)}(s[Ot],l,c)}function Qh(s,a){const c=cr(a,s),l=c[We];!function Eu(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(l,c);const h=c[Un];null!==h&&null===c[Vn]&&(c[Vn]=zp(h,c[_r])),ag(l,c,c[wn])}function ag(s,a,c){$o(a);try{const l=s.viewQuery;null!==l&&w_(1,l,c);const h=s.template;null!==h&&s0(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&jI(s,a),s.staticViewQueries&&w_(2,s.viewQuery,c);const p=s.components;null!==p&&function ND(s,a){for(let c=0;c<a.length;c++)Qh(s,a[c])}(a,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{a[Lt]&=-5,pl()}}let T_=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(c,l,h){const p=typeof Zone>"u"?null:Zone.current,_=new Bd(c,A=>{this.all.has(A)&&this.queue.set(A,p)},h);let E;this.all.add(_),_.notify();const T=()=>{_.cleanup(),E?.(),this.all.delete(_),this.queue.delete(_)};return E=l?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[c,l]of this.queue)this.queue.delete(c),l?l.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>new s}),s})();function ut(s,a,c){let l=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==a)for(let _=0;_<a.length;_++){const E=a[_];"number"==typeof E?p=E:1==p?h=Pe(h,E):2==p&&(l=Pe(l,E+": "+a[++_]+";"))}c?s.styles=l:s.stylesWithoutHost=l,c?s.classes=h:s.classesWithoutHost=h}function cg(s,a,c,l,h=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&l.push(In(p)),ui(p)){for(let E=ar;E<p.length;E++){const T=p[E],A=T[We].firstChild;null!==A&&cg(T[We],T,A,l)}p[Kr]!==p[Un]&&l.push(p[Kr])}const _=c.type;if(8&_)cg(s,a,c.child,l);else if(32&_){const E=mh(c,a);let T;for(;T=E();)l.push(T)}else if(16&_){const E=Pp(a,c);if(Array.isArray(E))l.push(...E);else{const T=ls(a[Rn]);cg(T[We],T,E,l,!0)}}c=h?c.projectionNext:c.next}return l}function Ke(s,a,c,l=!0){const h=a[_s].rendererFactory;h.begin&&h.begin();try{lr(s,a,s.template,c)}catch(_){throw l&&Kl(a,_),_}finally{h.end&&h.end(),a[_s].effectManager?.flush()}}function lr(s,a,c,l){const h=a[Lt];if(256!=(256&h)){a[_s].effectManager?.flush(),$o(a);try{ol(a),function Gc(s){return mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&s0(s,a,c,2,l);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&_l(a,A,null)}else{const A=s.preOrderHooks;null!==A&&zo(a,A,0,null),Xd(a,0)}if(function RD(s){for(let a=xp(s);null!==a;a=_h(a)){if(!a[os])continue;const c=a[ao];for(let l=0;l<c.length;l++){qd(c[l])}}}(a),function zI(s){for(let a=xp(s);null!==a;a=_h(a))for(let c=ar;c<a.length;c++){const l=a[c],h=l[We];Zo(l)&&lr(h,l,h.template,l[wn])}}(a),null!==s.contentQueries&&jI(s,a),_){const A=s.contentCheckHooks;null!==A&&_l(a,A)}else{const A=s.contentHooks;null!==A&&zo(a,A,1),Xd(a,1)}!function OI(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const l=Gh(a,oo);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)po(~p);else{const _=p,E=c[++h],T=c[++h];za(E,_),l.runInContext(T,2,a[_])}}}finally{null===a[oo]&&MI(a,oo),po(-1)}}(s,a);const E=s.components;null!==E&&function LD(s,a){for(let c=0;c<a.length;c++)OD(s,a[c])}(a,E);const T=s.viewQuery;if(null!==T&&w_(2,T,l),_){const A=s.viewCheckHooks;null!==A&&_l(a,A)}else{const A=s.viewHooks;null!==A&&zo(a,A,2),Xd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Lt]&=-73,al(a)}finally{pl()}}}function OD(s,a){const c=cr(a,s);if(Zo(c)){const l=c[We];80&c[Lt]?lr(l,c,l.template,c[wn]):c[Us]>0&&f0(c)}}function f0(s){for(let l=xp(s);null!==l;l=_h(l))for(let h=ar;h<l.length;h++){const p=l[h];if(Zo(p))if(1024&p[Lt]){const _=p[We];lr(_,p,_.template,p[wn])}else p[Us]>0&&f0(p)}const c=s[We].components;if(null!==c)for(let l=0;l<c.length;l++){const h=cr(c[l],s);Zo(h)&&h[Us]>0&&f0(h)}}class ug{get rootNodes(){const a=this._lView,c=a[We];return cg(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(a){this._lView[wn]=a}get destroyed(){return 256==(256&this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[En];if(ui(a)){const c=a[Ii],l=c?c.indexOf(this):-1;l>-1&&(du(a,l),uc(c,l))}this._attachedToViewContainer=!1}Rp(this._lView[We],this._lView)}onDestroy(a){!function cl(s,a){if(256==(256&s[Lt]))throw new te(911,!1);null===s[ci]&&(s[ci]=[]),s[ci].push(a)}(this._lView,a)}markForCheck(){Qp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-129}reattach(){this._lView[Lt]|=128}detectChanges(){Ke(this._lView[We],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Np(s,a){wt(s,a,a[Ot],2,null,null)}(this._lView[We],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=a}}class WI extends ug{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ke(a[We],a,a[wn],!1)}checkNoChanges(){}get context(){return null}}class KI extends Js{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Ft(a);return new Nt(c,this.ngModule)}}function PD(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class JI{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,l){l=V(l);const h=this.injector.get(a,Yy,l);return h!==Yy||c===Yy?h:this.parentInjector.get(a,c,l)}}class Nt extends wI{get inputs(){return PD(this.componentDef.inputs)}get outputs(){return PD(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function qf(s){return s.map(mm).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,l,h){let p=(h=h||this.ngModule)instanceof gu?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new JI(a,p):a,E=_.get(Wp,null);if(null===E)throw new te(407,!1);const k={rendererFactory:E,sanitizer:_.get(TD,null),effectManager:_.get(T_,null)},P=E.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",W=l?function PI(s,a,c,l){const p=l.get(Gl,!1)||c===_n.ShadowDom,_=s.selectRootElement(a,p);return function zl(s){a0(s)}(_),_}(P,l,this.componentDef.encapsulation,_):zi(P,j,function FD(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(j)),ve=this.componentDef.onPush?576:528,Ne=Wh(0,null,null,1,0,null,null,null,null,null,null),Ze=$l(null,Ne,null,ve,null,null,k,P,_,null,null);let ot,Ee;$o(Ze);try{const Et=this.componentDef;let Qt,gn=null;Et.findHostDirectiveDefs?(Qt=[],gn=new Map,Et.findHostDirectiveDefs(Et,Qt,gn),Qt.push(Et)):Qt=[Et];const xo=function Xn(s,a){const c=s[We],l=Ht;return s[l]=a,zh(c,l,2,"#host",null)}(Ze,W),Mc=function yt(s,a,c,l,h,p,_){const E=h[We];!function lg(s,a,c,l){for(const h of s)a.mergedAttrs=Jt(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(ut(a,a.mergedAttrs,!0),null!==c&&Bm(l,c,a))}(l,s,a,_);let T=null;null!==a&&(T=zp(a,h[_r]));const A=p.rendererFactory.createRenderer(a,c),k=$l(h,o0(c),null,c.onPush?64:16,h[s.index],s,p,A,null,null,T);return E.firstCreatePass&&To(E,s,l.length-1),E_(h,k),h[s.index]=k}(xo,W,Et,Qt,Ze,k,P);Ee=sl(Ne,Ht),W&&function VD(s,a,c,l){if(l)ct(s,c,["ng-version",TI.full]);else{const{attrs:h,classes:p}=function kc(s){const a=[],c=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++l]):8===h&&c.push(p);else{if(!oi(h))break;h=p}l++}return{attrs:a,classes:c}}(a.selectors[0]);h&&ct(s,c,h),p&&p.length>0&&Fp(s,c,p.join(" "))}}(P,Et,W,l),void 0!==c&&function dr(s,a,c){const l=s.projection=[];for(let h=0;h<a.length;h++){const p=c[h];l.push(null!=p?Array.from(p):null)}}(Ee,this.ngContentSelectors,c),ot=function on(s,a,c,l,h,p){const _=An(),E=h[We],T=qr(_,h);g_(E,h,_,c,null,l);for(let k=0;k<c.length;k++)Ir(us(h,E,_.directiveStart+k,_),h);Wl(E,h,_),T&&Ir(T,h);const A=us(h,E,_.directiveStart+_.componentOffset,_);if(s[wn]=h[wn]=A,null!==p)for(const k of p)k(A,a);return f_(E,_,s),A}(Mc,Et,Qt,gn,Ze,[Qe]),ag(Ne,Ze,null)}finally{pl()}return new Yh(this.componentType,ot,gc(Ee,Ze),Ze,Ee)}}class Yh extends ID{constructor(a,c,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new WI(h),this.componentType=a}setInput(a,c){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;I_(p[We],p,h,a,c),this.previousInputValues.set(a,c),Qp(cr(this._tNode.index,p))}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Qe(){const s=An();Ya(De()[We],s)}function hg(s){let a=function dg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const l=[s];for(;a;){let h;if(vr(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new te(903,!1);h=a.\u0275dir}if(h){if(c){l.push(h);const _=s;_.inputs=p0(s.inputs),_.declaredInputs=p0(s.declaredInputs),_.outputs=p0(s.outputs);const E=h.hostBindings;E&&fg(s,E);const T=h.viewQuery,A=h.contentQueries;if(T&&b_(s,T),A&&BD(s,A),Z(s.inputs,h.inputs),Z(s.declaredInputs,h.declaredInputs),Z(s.outputs,h.outputs),vr(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===hg&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Jl(s){let a=0,c=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=a+=h.hostVars,h.hostAttrs=Jt(h.hostAttrs,c=Jt(c,h.hostAttrs))}}(l)}function p0(s){return s===dn?{}:s===Ct?[]:s}function b_(s,a){const c=s.viewQuery;s.viewQuery=c?(l,h)=>{a(l,h),c(l,h)}:a}function BD(s,a){const c=s.contentQueries;s.contentQueries=c?(l,h,p)=>{a(l,h,p),c(l,h,p)}:a}function fg(s,a){const c=s.hostBindings;s.hostBindings=c?(l,h)=>{a(l,h),c(l,h)}:a}function hs(s){return!!ua(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function ua(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Ql(s,a,c,l){const h=Yr(s,a,c);return Yr(s,a+1,l)||h}function Yl(s,a,c,l){const h=De();return Yr(h,qs(),a)&&(zt(),Ms(bn(),h,s,a,c,l)),Yl}function ef(s,a,c,l,h,p,_,E){const A=function D_(s,a,c,l,h){const p=Ql(s,a,c,l);return Yr(s,a+2,h)||p}(s,Is(),c,h,_);return hn(3),A?a+K(c)+l+K(h)+p+K(_)+E:at}function ed(s,a,c,l,h,p,_,E,T,A){const P=function er(s,a,c,l,h,p){const _=Ql(s,a,c,l);return Ql(s,a+2,h,p)||_}(s,Is(),c,h,_,T);return hn(4),P?a+K(c)+l+K(h)+p+K(_)+E+K(T)+A:at}function _g(s,a,c,l,h,p,_,E){const T=De(),A=zt(),k=s+Ht,P=A.firstCreatePass?function bu(s,a,c,l,h,p,_,E,T){const A=a.consts,k=zh(a,s,4,_||null,Zs(A,E));l0(a,c,k,Zs(A,T)),Ya(a,k);const P=k.tView=Wh(2,k,l,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A,null);return null!==a.queries&&(a.queries.template(a,k),P.queries=a.queries.embeddedTView(k)),k}(k,A,T,a,c,l,h,p,_):A.data[k];ws(P,!1);const j=Ec(A,T,P,s);ml()&&wh(A,T,j,P),Ir(j,T),E_(T,T[k]=y_(j,T,j,P)),ys(P)&&rg(A,T,P),null!=_&&ig(T,P,E)}let Ec=function Co(s,a,c,l){return cs(!0),a[Ot].createComment("")};function yg(s,a,c){const l=De();return Yr(l,qs(),a)&&function As(s,a,c,l,h,p,_,E){const T=qr(a,c);let k,A=a.inputs;!E&&null!=A&&(k=A[l])?(I_(s,c,k,l,h),vs(a)&&function Io(s,a){const c=cr(a,s);16&c[Lt]||(c[Lt]|=64)}(c,a.index)):3&a.type&&(l=function Kh(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,a.value||"",l):h,p.setProperty(T,l,h))}(zt(),bn(),l,s,a,l[Ot],c,!1),yg}function cf(s,a,c,l,h){const _=h?"class":"style";I_(s,c,a.inputs[_],_,l)}function uf(s,a,c,l){const h=De(),p=zt(),_=Ht+s,E=h[Ot],T=p.firstCreatePass?function rd(s,a,c,l,h,p){const _=a.consts,T=zh(a,s,2,l,Zs(_,h));return l0(a,c,T,Zs(_,p)),null!==T.attrs&&ut(T,T.attrs,!1),null!==T.mergedAttrs&&ut(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(_,p,h,a,c,l):p.data[_],A=w0(p,h,T,E,a,s);h[_]=A;const k=ys(T);return ws(T,!0),Bm(E,A,T),32!=(32&T.flags)&&ml()&&wh(p,h,A,T),0===function ul(){return mt.lFrame.elementDepthCount}()&&Ir(A,h),function Yf(){mt.lFrame.elementDepthCount++}(),k&&(rg(p,h,T),f_(p,T,h)),null!==l&&ig(h,T),uf}function Cu(){let s=An();$a()?function Go(){mt.lFrame.isParent=!1}():(s=s.parent,ws(s,!1));const a=s;(function ja(s){return mt.skipHydrationRootTNode===s})(a)&&function zd(){mt.skipHydrationRootTNode=null}(),function Gd(){mt.lFrame.elementDepthCount--}();const c=zt();return c.firstCreatePass&&(Ya(c,s),Po(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Wo(s){return 0!=(8&s.flags)}(a)&&cf(c,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function El(s){return 0!=(16&s.flags)}(a)&&cf(c,a,De(),a.stylesWithoutHost,!1),Cu}function M_(s,a,c,l){return uf(s,a,c,l),Cu(),M_}let w0=(s,a,c,l,h,p)=>(cs(!0),zi(l,h,function np(){return mt.lFrame.currentNamespace}()));function Pn(){return De()}function ha(s){return!!s&&"function"==typeof s.then}function C0(s){return!!s&&"function"==typeof s.subscribe}function x_(s,a,c,l){const h=De(),p=zt(),_=An();return function A0(s,a,c,l,h,p,_){const E=ys(l),A=s.firstCreatePass&&GI(s),k=a[wn],P=og(a);let j=!0;if(3&l.type||_){const Ne=qr(l,a),Ze=_?_(Ne):Ne,ot=P.length,Ee=_?Qt=>_(In(Qt[l.index])):l.index;let Et=null;if(!_&&E&&(Et=function QD(s,a,c,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===c&&h[p+1]===l){const E=a[so],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof _&&(p+=2)}return null}(s,a,h,l.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,j=!1;else{p=vn(l,a,k,p,!1);const Qt=c.listen(Ze,h,p);P.push(p,Qt),A&&A.push(h,Ee,ot,ot+1)}}else p=vn(l,a,k,p,!1);const W=l.outputs;let ve;if(j&&null!==W&&(ve=W[h])){const Ne=ve.length;if(Ne)for(let Ze=0;Ze<Ne;Ze+=2){const gn=a[ve[Ze]][ve[Ze+1]].subscribe(p),xo=P.length;P.push(p,gn),A&&A.push(h,l.index,xo,-(xo+1))}}}(p,h,h[Ot],_,s,a,l),x_}function Xt(s,a,c,l){try{return Fi(6,a,c),!1!==c(l)}catch(h){return Kl(s,h),!1}finally{Fi(7,a,c)}}function vn(s,a,c,l,h){return function p(_){if(_===Function)return l;Qp(s.componentOffset>-1?cr(s.index,a):a);let T=Xt(a,c,l,_),A=p.__ngNextListenerFn__;for(;A;)T=Xt(a,c,A,_)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&_.preventDefault(),T}}function sd(s=1){return function Ja(s){return(mt.lFrame.contextLView=function ep(s,a){for(;s>0;)a=a[ss],s--;return a}(s,mt.lFrame.contextLView))[wn]}(s)}function R_(s,a){return s<<17|a<<2}function Au(s){return s>>17&32767}function wc(s){return 2|s}function Ao(s){return(131068&s)>>2}function lf(s,a){return-131069&s|a<<2}function L_(s){return 1|s}function L0(s,a,c,l,h){const p=s[c+1],_=null===a;let E=l?Au(p):Ao(p),T=!1;for(;0!==E&&(!1===T||_);){const k=s[E+1];P0(s[E],a)&&(T=!0,s[E+1]=l?L_(k):wc(k)),E=l?Au(k):Ao(k)}T&&(s[c+1]=l?wc(p):L_(p))}function P0(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&S(s,a)>=0}function V_(s,a){return function Qi(s,a,c,l){const h=De(),p=zt(),_=hn(2);p.firstUpdatePass&&function qt(s,a,c,l){const h=s.data;if(null===h[c+1]){const p=h[Jr()],_=function TT(s,a){return a>=s.expandoStartIndex}(s,c);(function ad(s,a){return 0!=(s.flags&(a?8:16))})(p,l)&&null===a&&!_&&(a=!1),a=function tC(s,a,c,l){const h=function Wa(s){const a=mt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=l?a.residualClasses:a.residualStyles;if(null===h)0===(l?a.classBindings:a.styleBindings)&&(c=xu(c=B_(null,s,a,c,l),a.attrs,l),p=null);else{const _=a.directiveStylingLast;if(-1===_||s[_]!==h)if(c=B_(h,s,a,c,l),null===p){let T=function V0(s,a,c){const l=c?a.classBindings:a.styleBindings;if(0!==Ao(l))return s[Au(l)]}(s,a,l);void 0!==T&&Array.isArray(T)&&(T=B_(null,s,a,T[1],l),T=xu(T,a.attrs,l),function bT(s,a,c,l){s[Au(c?a.classBindings:a.styleBindings)]=l}(s,a,l,T))}else p=function DT(s,a,c){let l;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)l=xu(l,s[p].hostAttrs,c);return xu(l,a.attrs,c)}(s,a,l)}return void 0!==p&&(l?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,l),function ET(s,a,c,l,h,p){let _=p?a.classBindings:a.styleBindings,E=Au(_),T=Ao(_);s[l]=c;let k,A=!1;if(Array.isArray(c)?(k=c[1],(null===k||S(c,k)>0)&&(A=!0)):k=c,h)if(0!==T){const j=Au(s[E+1]);s[l+1]=R_(j,E),0!==j&&(s[j+1]=lf(s[j+1],l)),s[E+1]=function O0(s,a){return 131071&s|a<<17}(s[E+1],l)}else s[l+1]=R_(E,0),0!==E&&(s[E+1]=lf(s[E+1],l)),E=l;else s[l+1]=R_(T,0),0===E?E=l:s[T+1]=lf(s[T+1],l),T=l;A&&(s[l+1]=wc(s[l+1])),L0(s,k,l,!0),L0(s,k,l,!1),function df(s,a,c,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&S(p,a)>=0&&(c[l+1]=L_(c[l+1]))}(a,k,s,l,p),_=R_(E,T),p?a.classBindings=_:a.styleBindings=_}(h,p,a,c,_,l)}}(p,s,_,l),a!==at&&Yr(h,_,a)&&function ku(s,a,c,l,h,p,_,E){if(!(3&a.type))return;const T=s.data,A=T[E+1],k=function O_(s){return 1==(1&s)}(A)?B0(T,a,c,h,Ao(A),_):void 0;ga(k)||(ga(p)||function YD(s){return 2==(2&s)}(A)&&(p=B0(T,null,c,h,E,_)),function by(s,a,c,l,h){if(a)h?s.addClass(c,l):s.removeClass(c,l);else{let p=-1===l.indexOf("-")?void 0:yo.DashCase;null==h?s.removeStyle(c,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=yo.Important),s.setStyle(c,l,h,p))}}(l,_,Zc(Jr(),c),h,p))}(p,p.data[Jr()],h,h[Ot],s,h[_+1]=function MT(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Q(fu(s)))),s}(a,c),l,_)}(s,a,null,!0),V_}function B_(s,a,c,l,h){let p=null;const _=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<_&&(p=a[E],l=xu(l,p.hostAttrs,h),p!==s);)E++;return null!==s&&(c.directiveStylingLast=E),l}function xu(s,a,c){const l=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const _=a[p];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),I(s,_,!!c||a[++p]))}return void 0===s?null:s}function B0(s,a,c,l,h,p){const _=null===a;let E;for(;h>0;){const T=s[h],A=Array.isArray(T),k=A?T[1]:T,P=null===k;let j=c[h+1];j===at&&(j=P?Ct:void 0);let W=P?b(j,l):k===l?j:void 0;if(A&&!ga(W)&&(W=b(T,l)),ga(W)&&(E=W,_))return E;const ve=s[h+1];h=_?Au(ve):Ao(ve)}if(null!==a){let T=p?a.residualClasses:a.residualStyles;null!=T&&(E=b(T,l))}return E}function ga(s){return void 0!==s}function Z0(s,a=""){const c=De(),l=zt(),h=s+Ht,p=l.firstCreatePass?zh(l,h,1,a,null):l.data[h],_=H0(l,c,p,a,s);c[h]=_,ml()&&wh(l,c,_,p),ws(p,!1)}let H0=(s,a,c,l,h)=>(cs(!0),function sa(s,a){return s.createText(a)}(a[Ot],l));function q0(s){return Sn("",s,""),q0}function Sn(s,a,c){const l=De(),h=function Xl(s,a,c,l){return Yr(s,qs(),c)?a+K(c)+l:at}(l,s,a,c);return h!==at&&Ln(l,Jr(),h),Sn}function pf(s,a,c,l,h,p,_){const E=De(),T=ef(E,s,a,c,l,h,p,_);return T!==at&&Ln(E,Jr(),T),pf}function Z_(s,a,c,l,h,p,_,E,T){const A=De(),k=ed(A,s,a,c,l,h,p,_,E,T);return k!==at&&Ln(A,Jr(),k),Z_}const ud=void 0;var VT=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UT(s){const c=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let Ef={};function tE(s){const a=function Mr(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=ld(a);if(c)return c;const l=a.split("-")[0];if(c=ld(l),c)return c;if("en"===l)return VT;throw new te(701,!1)}function j_(s){return tE(s)[St.PluralCase]}function ld(s){return s in Ef||(Ef[s]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[s]),Ef[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const ma="en-US";let rE=ma;function ev(s,a,c,l,h){if(s=Se(s),Array.isArray(s))for(let p=0;p<s.length;p++)ev(s[p],a,c,l,h);else{const p=zt(),_=De();let E=pu(s)?s:Se(s.provide),T=$y(s);const A=An(),k=1048575&A.providerIndexes,P=A.directiveStart,j=A.providerIndexes>>20;if(pu(s)||!s.multi){const W=new yr(T,h,yu),ve=_E(E,a,h?k:k+j,P);-1===ve?(Ai(Jo(A,_),p,E),gE(p,s,a.length),a.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(W),_.push(W)):(c[ve]=W,_[ve]=W)}else{const W=_E(E,a,k+j,P),ve=_E(E,a,k,k+j),Ze=ve>=0&&c[ve];if(h&&!Ze||!h&&!(W>=0&&c[W])){Ai(Jo(A,_),p,E);const ot=function s1(s,a,c,l,h){const p=new yr(s,c,yu);return p.multi=[],p.index=a,p.componentProviders=0,mE(p,h,l&&!c),p}(h?i1:tv,c.length,h,l,T);!h&&Ze&&(c[ve].providerFactory=ot),gE(p,s,a.length,0),a.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(ot),_.push(ot)}else gE(p,s,W>-1?W:ve,mE(c[h?ve:W],T,!h&&l));!h&&l&&Ze&&c[ve].componentProviders++}}}function gE(s,a,c,l){const h=pu(a),p=function mD(s){return!!s.useClass}(a);if(h||p){const T=(p?Se(a.useClass):a).prototype.ngOnDestroy;if(T){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const k=A.indexOf(c);-1===k?A.push(c,[l,T]):A[k+1].push(l,T)}else A.push(c,T)}}}function mE(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function _E(s,a,c,l){for(let h=c;h<l;h++)if(a[h]===s)return h;return-1}function tv(s,a,c,l){return vE(this.multi,[])}function i1(s,a,c,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=us(c,c[We],this.providerFactory.index,l);p=E.slice(0,_),vE(h,p);for(let T=_;T<E.length;T++)p.push(E[T])}else p=[],vE(h,p);return p}function vE(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function o1(s,a=[]){return c=>{c.providersResolver=(l,h)=>function TC(s,a,c){const l=zt();if(l.firstCreatePass){const h=vr(s);ev(c,l.data,l.blueprint,h,!0),ev(a,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,a)}}class pd{}class Uu{}function Og(s,a){return new nv(s,a??null,[])}class nv extends pd{constructor(a,c,l){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KI(this);const h=xr(a);this._bootstrapComponents=aa(h.bootstrap),this._r3Injector=$h(a,c,[{provide:pd,useValue:this},{provide:Js,useValue:this.componentFactoryResolver},...l],Q(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class yE extends Uu{constructor(a){super(),this.moduleType=a}create(a){return new nv(this.moduleType,a,[])}}class c1 extends pd{constructor(a){super(),this.componentFactoryResolver=new KI(this),this.instance=null;const c=new qy([...a.providers,{provide:pd,useValue:this},{provide:Js,useValue:this.componentFactoryResolver}],a.parent||Nh(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function u1(s,a,c=null){return new c1({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let EE=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const l=Ym(0,c.type),h=l.length>0?u1([l],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Kt({token:s,providedIn:"environment",factory:()=>new s(Yt(gu))}),s})();function jr(s){s.getStandaloneInjector=a=>a.get(EE).getOrCreateStandaloneInjector(s)}function Fg(s){return a=>{setTimeout(s,void 0,a)}}const Ys=class lv extends i.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,l){let h=a,p=c||(()=>null),_=l;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),p=T.error?.bind(T),_=T.complete?.bind(T)}this.__isAsync&&(p=Fg(p),h&&(h=Fg(h)),_&&(_=Fg(_)));const E=super.subscribe({next:h,error:p,complete:_});return a instanceof $.w0&&a.add(E),E}};function kE(){return this._results[Symbol.iterator]()}class dv{get changes(){return this._changes||(this._changes=new Ys)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=dv.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=kE)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const l=this;l.dirty=!1;const h=function Yn(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function sh(s,a,c){if(s.length!==a.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=a[l];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(l._results,h,c))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ug=(()=>{class s{}return s.__NG_ELEMENT_ID__=NE,s})();const I1=Ug,hv=class extends I1{constructor(a,c,l){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c,null)}createEmbeddedViewImpl(a,c,l){const h=this._declarationTContainer.tView,p=$l(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,c||null,l||null);p[Oo]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[wi];return null!==E&&(p[wi]=E.createEmbeddedView(h)),ag(h,p,a),new ug(p)}};function NE(){return fv(An(),De())}function fv(s,a){return 4&s.type?new hv(a,s,gc(s,a)):null}let _v=(()=>{class s{}return s.__NG_ELEMENT_ID__=OC,s})();function OC(){return vv(An(),De())}const RE=_v,C1=class extends RE{constructor(a,c,l){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=l}get element(){return gc(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const a=Gs(this._hostTNode,this._hostLView);if(qn(a)){const c=tc(a,this._hostLView),l=Mt(a);return new go(c[We].data[l+8],c)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=A1(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(a,c,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(a,c,l,h,p){const _=a&&!function Xo(s){return"function"==typeof s}(a);let E;if(_)E=c;else{const Ne=c||{};E=Ne.index,l=Ne.injector,h=Ne.projectableNodes,p=Ne.environmentInjector||Ne.ngModuleRef}const T=_?a:new Nt(Ft(a)),A=l||this.parentInjector;if(!p&&null==T.ngModule){const Ze=(_?A:this.parentInjector).get(gu,null);Ze&&(p=Ze)}Ft(T.componentType??{});const W=T.create(A,h,null,p);return this.insertImpl(W.hostView,E,false),W}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,l){const h=a._lView,p=h[We];if(function Hd(s){return ui(s[En])}(h)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const A=h[En],k=new C1(A,A[Br],A[En]);k.detach(k.indexOf(a))}}const _=this._adjustIndex(c),E=this._lContainer;if(function yh(s,a,c,l){const h=ar+l,p=c.length;l>0&&(c[h-1][ai]=a),l<p-ar?(a[ai]=c[h],zs(c,ar+l,a)):(c.push(a),a[ai]=null),a[En]=c;const _=a[Oo];null!==_&&c!==_&&function Ty(s,a){const c=s[ao];a[Rn]!==a[En][En][Rn]&&(s[os]=!0),null===c?s[ao]=[a]:c.push(a)}(_,a);const E=a[wi];null!==E&&E.insertView(s),a[Lt]|=128}(p,h,E,_),!l){const T=Ih(_,E),A=h[Ot],k=et(A,E[Kr]);null!==k&&function Um(s,a,c,l,h,p){l[Un]=h,l[Br]=a,wt(s,l,c,1,h,p)}(p,E[Br],A,h,k,T)}return a.attachToViewContainerRef(),zs(gd(E),_,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=A1(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),l=du(this._lContainer,c);l&&(uc(gd(this._lContainer),c),Rp(l[We],l))}detach(a){const c=this._adjustIndex(a,-1),l=du(this._lContainer,c);return l&&null!=uc(gd(this._lContainer),c)?new ug(l):null}_adjustIndex(a,c=0){return a??this.length+c}};function A1(s){return s[Ii]}function gd(s){return s[Ii]||(s[Ii]=[])}function vv(s,a){let c;const l=a[s.index];return ui(l)?c=l:(c=y_(l,a,null,s),a[s.index]=c,E_(a,c)),yv(c,a,s,l),new C1(c,s,a)}let yv=function Bg(s,a,c,l){if(s[Kr])return;let h;h=8&c.type?In(l):function kf(s,a){const c=s[Ot],l=c.createComment(""),h=qr(a,s);return x(c,et(c,h),l,function rt(s,a){return s.nextSibling(a)}(c,h),!1),l}(a,c),s[Kr]=h};class Ev{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ev(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hg{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const l=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<l;p++){const _=c.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Hg(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==BE(a,c).matches&&this.queries[c].setDirty()}}class wv{constructor(a,c,l=null){this.predicate=a,this.flags=c,this.read=l}}class ya{constructor(a=[]){this.queries=a}elementStart(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let l=0;l<this.length;l++){const h=null!==c?c.length:0,p=this.getByIndex(l).embeddedTView(a,h);p&&(p.indexInDeclarationView=l,null!==c?c.push(p):c=[p])}return null!==c?new ya(c):null}template(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Iv{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Iv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let l=a.parent;for(;null!==l&&8&l.type&&l.index!==c;)l=l.parent;return c===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(a,c,LC(c,p)),this.matchTNodeWithReadOption(a,c,Xc(c,a,p,!1,!1))}else l===Ug?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Xc(c,a,l,!1,!1))}matchTNodeWithReadOption(a,c,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Hh||h===_v||h===Ug&&4&c.type)this.addMatch(c.index,-2);else{const p=Xc(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,l)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function LC(s,a){const c=s.localNames;if(null!==c)for(let l=0;l<c.length;l+=2)if(c[l]===a)return c[l+1];return null}function PC(s,a,c,l){return-1===c?function LE(s,a){return 11&s.type?gc(s,a):4&s.type?fv(s,a):null}(a,s):-2===c?function PE(s,a,c){return c===Hh?gc(a,s):c===Ug?fv(a,s):c===_v?vv(a,s):void 0}(s,a,l):us(s,s[We],c,a)}function M1(s,a,c,l){const h=a[wi].queries[l];if(null===h.matches){const p=s.data,_=c.matches,E=[];for(let T=0;T<_.length;T+=2){const A=_[T];E.push(A<0?null:PC(a,p[A],_[T+1],c.metadata.read))}h.matches=E}return h.matches}function qg(s,a,c,l){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const _=M1(s,a,h,c);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)l.push(_[E/2]);else{const A=p[E+1],k=a[-T];for(let P=ar;P<k.length;P++){const j=k[P];j[Oo]===j[En]&&qg(j[We],j,A,l)}if(null!==k[ao]){const P=k[ao];for(let j=0;j<P.length;j++){const W=P[j];qg(W[We],W,A,l)}}}}}return l}function jg(s){const a=De(),c=zt(),l=Kd();zc(l+1);const h=BE(c,l);if(s.dirty&&function Cm(s){return 4==(4&s[Lt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?qg(c,a,l,[]):M1(c,a,h,l);s.reset(p,jn),s.notifyOnChanges()}return!0}return!1}function UE(s,a,c,l){const h=zt();if(h.firstCreatePass){const p=An();(function x1(s,a,c){null===s.queries&&(s.queries=new ya),s.queries.track(new Iv(a,c))})(h,new wv(a,c,l),p.index),function k1(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function S1(s,a,c){const l=new dv(4==(4&c));(function VI(s,a,c,l){const h=og(a);h.push(c),s.firstCreatePass&&GI(s).push(l,h.length-1)})(s,a,l,l.destroy),null===a[wi]&&(a[wi]=new Hg),a[wi].queries.push(new Ev(l))}(h,De(),c)}function md(){return function VE(s,a){return s[wi].queries[a].queryList}(De(),Kd())}function BE(s,a){return s.queries.getByIndex(a)}function bv(s){return!!xr(s)}const Nv=new pn("Application Initializer");let QE=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l}),this.appInits=$t(Nv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(ha(p))c.push(p);else if(C0(p)){const _=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});c.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{l()}).catch(h=>{this.reject(h)}),0===c.length&&l(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Rv=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ff=new pn("LocaleId",{providedIn:"root",factory:()=>$t(Ff,$e.Optional|$e.SkipSelf)||function Ac(){return typeof $localize<"u"&&$localize.locale||ma}()}),$C=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ov=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class zC{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let YE=(()=>{class s{compileModuleSync(c){return new yE(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const l=this.compileModuleSync(c),p=aa(xr(c).declarations).reduce((_,E)=>{const T=Ft(E);return T&&_.push(new Nt(T)),_},[]);return new zC(l,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const JC=(()=>Promise.resolve(0))();function ew(s){typeof Zone>"u"?JC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}function Pv(...s){}class _i{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ys(!1),this.onMicrotaskEmpty=new Ys(!1),this.onStable=new Ys(!1),this.onError=new Ys(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&c,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function QC(){let s=sn.requestAnimationFrame,a=sn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function YC(s){const a=()=>{!function Wg(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(sn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Kg(s),s.isCheckStableRunning=!0,nw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Kg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,l,h,p,_,E)=>{try{return rw(s),c.invokeTask(h,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),yd(s)}},onInvoke:(c,l,h,p,_,E,T)=>{try{return rw(s),c.invoke(h,p,_,E,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),yd(s)}},onHasTask:(c,l,h,p)=>{c.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Kg(s),nw(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,l,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new te(909,!1)}run(a,c,l){return this._inner.run(a,c,l)}runTask(a,c,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,a,tw,Pv,Pv);try{return p.runTask(_,c,l)}finally{p.cancelTask(_)}}runGuarded(a,c,l){return this._inner.runGuarded(a,c,l)}runOutsideAngular(a){return this._outer.run(a)}}const tw={};function nw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Kg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function yd(s){s._nesting--,nw(s)}class tb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ys,this.onMicrotaskEmpty=new Ys,this.onStable=new Ys,this.onError=new Ys}run(a,c,l){return a.apply(c,l)}runGuarded(a,c,l){return a.apply(c,l)}runOutsideAngular(a){return a()}runTask(a,c,l,h){return a.apply(c,l)}}const Jg=new pn("",{providedIn:"root",factory:nb});function nb(){const s=$t(_i);let a=!0;const c=new X.y(h=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(a),h.complete()})}),l=new X.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{_i.assertNotInAngularZone(),ew(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const _=s.onUnstable.subscribe(()=>{_i.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});return(0,ne.T)(c,l.pipe((0,fe.B)()))}const rb=new pn(""),ib=new pn("");let Yg,XC=(()=>{class s{constructor(c,l,h){this._ngZone=c,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yg||(function iw(s){Yg=s}(h),h.addToWindow(l)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),ew(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ew(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(c)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),c(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,l,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Yt(_i),Yt(Qg),Yt(ib))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),Qg=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,l){this._applications.set(c,l)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,l=!0){return Yg?.findTestabilityInTree(this,c,l)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ea=null;const sw=new pn("AllowMultipleToken"),Xg=new pn("PlatformDestroyListeners"),em=new pn("appBootstrapListener");class ob{constructor(a,c){this.name=a,this.token=c}}function ub(s,a,c=[]){const l=`Platform: ${a}`,h=new pn(l);return(p=[])=>{let _=cw();if(!_||_.injector.get(sw,!1)){const E=[...c,...p,{provide:h,useValue:!0}];s?s(E):function aw(s){if(Ea&&!Ea.get(sw,!1))throw new te(400,!1);(function ow(){!function Fc(s){Za=s}(()=>{throw new te(600,!1)})})(),Ea=s;const a=s.get(uw);(function Ed(s){s.get(gI,null)?.forEach(c=>c())})(s)}(function lb(s=[],a){return mc.create({name:a,providers:[{provide:Hy,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Ea=null])},...s]})}(E,l))}return function eA(s){const a=cw();if(!a)throw new te(401,!1);return a}()}}function cw(){return Ea?.get(uw)??null}let uw=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,l){const h=function nA(s="zone.js",a){return"noop"===s?new tb:"zone.js"===s?new _i(a):s}(l?.ngZone,function db(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return h.run(()=>{const p=function a1(s,a,c){return new nv(s,a,c)}(c.moduleType,this.injector,function en(s){return[{provide:_i,useFactory:s},{provide:xh,multi:!0,useFactory:()=>{const a=$t(gb,{optional:!0});return()=>a.initialize()}},{provide:lw,useFactory:pb},{provide:Jg,useFactory:nb}]}(()=>h)),_=p.injector.get(jl,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:T=>{_.handleError(T)}});p.onDestroy(()=>{tm(this._modules,p),E.unsubscribe()})}),function hb(s,a,c){try{const l=c();return ha(l)?l.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw a.runOutsideAngular(()=>s.handleError(l)),l}}(_,h,()=>{const E=p.injector.get(QE);return E.runInitializers(),E.donePromise.then(()=>(function iE(s){tt(s,"Expected localeId to be defined"),"string"==typeof s&&(rE=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ff,ma)||ma),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,l=[]){const h=fb({},l);return function Fv(s,a,c){const l=new yE(c);return Promise.resolve(l)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const l=c.injector.get(wd);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new te(-403,!1);c.instance.ngDoBootstrap(l)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const c=this._injector.get(Xg,null);c&&(c.forEach(l=>l()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Yt(mc))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function fb(s,a){return Array.isArray(a)?a.reduce(fb,s):{...s,...a}}let wd=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(lw),this.zoneIsStable=$t(Jg),this.componentTypes=[],this.components=[],this.isStable=$t(Ov).hasPendingTasks.pipe((0,Re.z)(c=>c?(0,le.of)(!1):this.zoneIsStable),(0,de.x)(),(0,fe.B)()),this._injector=$t(gu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,l){const h=c instanceof wI;if(!this._injector.get(QE).done)throw!h&&Fs(c),new te(405,!1);let _;_=h?c:this._injector.get(Js).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const E=function Uv(s){return s.isBoundToModule}(_)?void 0:this._injector.get(pd),A=_.create(mc.NULL,[],l||_.selector,E),k=A.location.nativeElement,P=A.injector.get(rb,null);return P?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),tm(this.components,A),P?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const l=c;this._views.push(l),l.attachToAppRef(this)}detachView(c){const l=c;tm(this._views,l),l.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const l=this._injector.get(em,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>tm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function tm(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const lw=new pn("",{providedIn:"root",factory:()=>$t(jl).handleError.bind(void 0)});function pb(){const s=$t(_i),a=$t(jl);return c=>s.runOutsideAngular(()=>a.handleError(c))}let gb=(()=>{class s{constructor(){this.zone=$t(_i),this.applicationRef=$t(wd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _b(){return!1}let wa=(()=>{class s{}return s.__NG_ELEMENT_ID__=vb,s})();function vb(s){return function iA(s,a,c){if(vs(s)&&!c){const l=cr(s.index,a);return new ug(l,l)}return 47&s.type?new ug(a[Rn],a):null}(An(),De(),16==(16&s))}class Ib{constructor(){}supports(a){return hs(a)}create(a){return new nm(a)}}const Tb=(s,a)=>a;class nm{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Tb}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,l=this._removalsHead,h=0,p=null;for(;c||l;){const _=!l||c&&c.currentIndex<uA(l,h,p)?c:l,E=uA(_,h,p),T=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{p||(p=[]);const A=E-h,k=T-h;if(A!=k){for(let j=0;j<A;j++){const W=j<p.length?p[j]:p[j]=0,ve=W+j;k<=ve&&ve<A&&(p[j]=W+1)}p[_.previousIndex]=k-A}}E!==T&&a(_,E,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!hs(a))throw new te(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,_,c=this._itHead,l=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],_=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,_)?(l&&(c=this._verifyReinsertion(c,p,_,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,_,E),l=!0),c=c._next}else h=0,function pg(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let l;for(;!(l=c.next()).done;)a(l.value)}}(a,E=>{_=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,_)?(l&&(c=this._verifyReinsertion(c,E,_,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,_,h),l=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,l,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new cA(c,l),p,h),a}_verifyReinsertion(a,c,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,l),this._addToMoves(a,l),a}_moveAfter(a,c,l){return this._unlink(a),this._insertAfter(a,c,l),this._addToMoves(a,l),a}_addAfter(a,c,l){return this._insertAfter(a,c,l),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,l){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ta),this._linkedRecords.put(a),a.currentIndex=l,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,l=a._next;return null===c?this._itHead=l:c._next=l,null===l?this._itTail=c:l._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class cA{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ia{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===c||c<=l.currentIndex)&&Object.is(l.trackById,a))return l;return null}remove(a){const c=a._prevDup,l=a._nextDup;return null===c?this._head=l:c._nextDup=l,null===l?this._tail=c:l._prevDup=c,null===this._head}}class Ta{constructor(){this.map=new Map}put(a){const c=a.trackById;let l=this.map.get(c);l||(l=new Ia,this.map.set(c,l)),l.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uA(s,a,c){const l=s.previousIndex;if(null===l)return l;let h=0;return c&&l<c.length&&(h=c[l]),l+a+h}class Vu{constructor(){}supports(a){return a instanceof Map||ua(a)}create(){return new qv}}class qv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||ua(a)))throw new te(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(l,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,l),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,l);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let l=c;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const l=a._prev;return c._next=a,c._prev=l,a._prev=c,l&&(l._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new lA(a);return this._records.set(a,l),l.currentValue=c,this._addToAdditions(l),l}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(l=>c(a[l],l))}}class lA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bb(){return new jv([new Ib])}let jv=(()=>{class s{constructor(c){this.factories=c}static create(c,l){if(null!=l){const h=l.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:l=>s.create(c,l||bb()),deps:[[s,new li,new qi]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(null!=l)return l;throw new te(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:bb}),s})();function rm(){return new vw([new Vu])}let vw=(()=>{class s{constructor(c){this.factories=c}static create(c,l){if(l){const h=l.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:l=>s.create(c,l||rm()),deps:[[s,new li,new qi]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(l)return l;throw new te(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:rm}),s})();const yw=ub(null,"core",[]);let fA=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Yt(wd))},s.\u0275mod=ms({type:s}),s.\u0275inj=zn({}),s})();function _A(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function yA(s){const a=Ft(s);if(!a)return null;const c=new Nt(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone}}}},3942:(lt,Ie,R)=>{R.d(Ie,{Z:()=>Je});var i=R(2090),$=R(4859),O=R(6881),X=R(1877);class ne{constructor(Ge,ke){this._delegate=Ge,this.firebase=ke,(0,O._addComponent)(Ge,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ge,ke=O._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Ge);return!ht.isInitialized()&&"EXPLICIT"===(null===(_t=ht.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:ke})}_removeServiceInstance(Ge,ke=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(ke)}_addComponent(Ge){(0,O._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,O._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function de(){const Se=function Re(Se){const Ge={},ke={__esModule:!0,initializeApp:function te(Ce,Ue={}){const ie=O.initializeApp(Ce,Ue);if((0,i.r3)(Ge,ie.name))return Ge[ie.name];const He=new Se(ie,ke);return Ge[ie.name]=He,He},app:ht,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function K(Ce){const Ue=Ce.name,ie=Ue.replace("-compat","");if(O._registerComponent(Ce)&&"PUBLIC"===Ce.type){const He=(jt=ht())=>{if("function"!=typeof jt[ie])throw fe.create("invalid-app-argument",{appName:Ue});return jt[ie]()};void 0!==Ce.serviceProps&&(0,i.ZB)(He,Ce.serviceProps),ke[ie]=He,Se.prototype[ie]=function(...jt){return this._getService.bind(this,Ue).apply(this,Ce.multipleInstances?jt:[])}}return"PUBLIC"===Ce.type?ke[ie]:null},removeApp:function _t(Ce){delete Ge[Ce]},useAsService:function he(Ce,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:O}};function ht(Ce){if(!(0,i.r3)(Ge,Ce=Ce||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Ce});return Ge[Ce]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function pe(){return Object.keys(Ge).map(Ce=>Ge[Ce])}}),ht.App=Se,ke}(ne);return Se.INTERNAL=Object.assign(Object.assign({},Se.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ge(ke){(0,i.ZB)(Se,ke)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),Se}(),Z=new X.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=U;!function be(Se){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Se)}()},6881:(lt,Ie,R)=>{R.r(Ie),R.d(Ie,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>no,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>zr,_apps:()=>vt,_clearComponents:()=>cn,_components:()=>ln,_getProvider:()=>pr,_registerComponent:()=>sn,_removeServiceInstance:()=>Ma,deleteApp:()=>gr,getApp:()=>ii,getApps:()=>ts,initializeApp:()=>Sa,onLog:()=>ns,registerVersion:()=>mn,setLogLevel:()=>Yt});var i=R(5861),$=R(4859),O=R(1877),X=R(2090);const ne=(ce,ee)=>ee.some(xe=>ce instanceof xe);let le,fe;const U=new WeakMap,Z=new WeakMap,Q=new WeakMap,Pe=new WeakMap,be=new WeakMap;let Ge={get(ce,ee,xe){if(ce instanceof IDBTransaction){if("done"===ee)return Z.get(ce);if("objectStoreNames"===ee)return ce.objectStoreNames||Q.get(ce);if("store"===ee)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return te(ce[ee])},set:(ce,ee,xe)=>(ce[ee]=xe,!0),has:(ce,ee)=>ce instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ce};function ht(ce){return"function"==typeof ce?function _t(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ee){return ce.apply(pe(this),ee),te(U.get(this))}:function(...ee){return te(ce.apply(pe(this),ee))}:function(ee,...xe){const ct=ce.call(pe(this),ee,...xe);return Q.set(ct,ee.sort?ee.sort():[ee]),te(ct)}}(ce):(ce instanceof IDBTransaction&&function Se(ce){if(Z.has(ce))return;const ee=new Promise((xe,ct)=>{const At=()=>{ce.removeEventListener("complete",Pt),ce.removeEventListener("error",Jt),ce.removeEventListener("abort",Jt)},Pt=()=>{xe(),At()},Jt=()=>{ct(ce.error||new DOMException("AbortError","AbortError")),At()};ce.addEventListener("complete",Pt),ce.addEventListener("error",Jt),ce.addEventListener("abort",Jt)});Z.set(ce,ee)}(ce),ne(ce,function Re(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Ge):ce)}function te(ce){if(ce instanceof IDBRequest)return function Je(ce){const ee=new Promise((xe,ct)=>{const At=()=>{ce.removeEventListener("success",Pt),ce.removeEventListener("error",Jt)},Pt=()=>{xe(te(ce.result)),At()},Jt=()=>{ct(ce.error),At()};ce.addEventListener("success",Pt),ce.addEventListener("error",Jt)});return ee.then(xe=>{xe instanceof IDBCursor&&U.set(xe,ce)}).catch(()=>{}),be.set(ee,ce),ee}(ce);if(Pe.has(ce))return Pe.get(ce);const ee=ht(ce);return ee!==ce&&(Pe.set(ce,ee),be.set(ee,ce)),ee}const pe=ce=>be.get(ce),Ce=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],ie=new Map;function He(ce,ee){if(!(ce instanceof IDBDatabase)||ee in ce||"string"!=typeof ee)return;if(ie.get(ee))return ie.get(ee);const xe=ee.replace(/FromIndex$/,""),ct=ee!==xe,At=Ue.includes(xe);if(!(xe in(ct?IDBIndex:IDBObjectStore).prototype)||!At&&!Ce.includes(xe))return;const Pt=function(){var Jt=(0,i.Z)(function*(rr,...Kn){const gs=this.transaction(rr,At?"readwrite":"readonly");let ro=gs.store;return ct&&(ro=ro.index(Kn.shift())),(yield Promise.all([ro[xe](...Kn),At&&gs.done]))[0]});return function(Kn){return Jt.apply(this,arguments)}}();return ie.set(ee,Pt),Pt}!function ke(ce){Ge=ce(Ge)}(ce=>({...ce,get:(ee,xe,ct)=>He(ee,xe)||ce.get(ee,xe,ct),has:(ee,xe)=>!!He(ee,xe)||ce.has(ee,xe)}));class jt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function fr(ce){const ee=ce.getComponent();return"VERSION"===ee?.type}(xe)){const ct=xe.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(xe=>xe).join(" ")}}const Gr="@firebase/app",oe=new O.Yd("@firebase/app"),$e="[DEFAULT]",pt={[Gr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,ln=new Map;function Cn(ce,ee){try{ce.container.addComponent(ee)}catch(xe){oe.debug(`Component ${ee.name} failed to register with FirebaseApp ${ce.name}`,xe)}}function zr(ce,ee){ce.container.addOrOverwriteComponent(ee)}function sn(ce){const ee=ce.name;if(ln.has(ee))return oe.debug(`There were multiple attempts to register component ${ee}.`),!1;ln.set(ee,ce);for(const xe of vt.values())Cn(xe,ce);return!0}function pr(ce,ee){const xe=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),ce.container.getProvider(ee)}function Ma(ce,ee,xe=$e){pr(ce,ee).clearInstance(xe)}function cn(){ln.clear()}const Bt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class es{constructor(ee,xe,ct){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const no="9.23.0";function Sa(ce,ee={}){let xe=ce;"object"!=typeof ee&&(ee={name:ee});const ct=Object.assign({name:$e,automaticDataCollectionEnabled:!1},ee),At=ct.name;if("string"!=typeof At||!At)throw Bt.create("bad-app-name",{appName:String(At)});if(xe||(xe=(0,X.aH)()),!xe)throw Bt.create("no-options");const Pt=vt.get(At);if(Pt){if((0,X.vZ)(xe,Pt.options)&&(0,X.vZ)(ct,Pt.config))return Pt;throw Bt.create("duplicate-app",{appName:At})}const Jt=new $.H0(At);for(const Kn of ln.values())Jt.addComponent(Kn);const rr=new es(xe,ct,Jt);return vt.set(At,rr),rr}function ii(ce=$e){const ee=vt.get(ce);if(!ee&&ce===$e&&(0,X.aH)())return Sa();if(!ee)throw Bt.create("no-app",{appName:ce});return ee}function ts(){return Array.from(vt.values())}function gr(ce){return nr.apply(this,arguments)}function nr(){return(nr=(0,i.Z)(function*(ce){const ee=ce.name;vt.has(ee)&&(vt.delete(ee),yield Promise.all(ce.container.getProviders().map(xe=>xe.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function mn(ce,ee,xe){var ct;let At=null!==(ct=pt[ce])&&void 0!==ct?ct:ce;xe&&(At+=`-${xe}`);const Pt=At.match(/\s|\//),Jt=ee.match(/\s|\//);if(Pt||Jt){const rr=[`Unable to register library "${At}" with version "${ee}":`];return Pt&&rr.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Pt&&Jt&&rr.push("and"),Jt&&rr.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void oe.warn(rr.join(" "))}sn(new $.wA(`${At}-version`,()=>({library:At,version:ee}),"VERSION"))}function ns(ce,ee){if(null!==ce&&"function"!=typeof ce)throw Bt.create("invalid-log-argument");(0,O.Am)(ce,ee)}function Yt(ce){(0,O.Ub)(ce)}const rs="firebase-heartbeat-database",$t=1,V="firebase-heartbeat-store";let F=null;function G(){return F||(F=function K(ce,ee,{blocked:xe,upgrade:ct,blocking:At,terminated:Pt}={}){const Jt=indexedDB.open(ce,ee),rr=te(Jt);return ct&&Jt.addEventListener("upgradeneeded",Kn=>{ct(te(Jt.result),Kn.oldVersion,Kn.newVersion,te(Jt.transaction),Kn)}),xe&&Jt.addEventListener("blocked",Kn=>xe(Kn.oldVersion,Kn.newVersion,Kn)),rr.then(Kn=>{Pt&&Kn.addEventListener("close",()=>Pt()),At&&Kn.addEventListener("versionchange",gs=>At(gs.oldVersion,gs.newVersion,gs))}).catch(()=>{}),rr}(rs,$t,{upgrade:(ce,ee)=>{0===ee&&ce.createObjectStore(V)}}).catch(ce=>{throw Bt.create("idb-open",{originalErrorMessage:ce.message})})),F}function se(){return(se=(0,i.Z)(function*(ce){try{return yield(yield G()).transaction(V).objectStore(V).get(Rt(ce))}catch(ee){if(ee instanceof X.ZR)oe.warn(ee.message);else{const xe=Bt.create("idb-get",{originalErrorMessage:ee?.message});oe.warn(xe.message)}}})).apply(this,arguments)}function nt(ce,ee){return gt.apply(this,arguments)}function gt(){return(gt=(0,i.Z)(function*(ce,ee){try{const ct=(yield G()).transaction(V,"readwrite");yield ct.objectStore(V).put(ee,Rt(ce)),yield ct.done}catch(xe){if(xe instanceof X.ZR)oe.warn(xe.message);else{const ct=Bt.create("idb-set",{originalErrorMessage:xe?.message});oe.warn(ct.message)}}})).apply(this,arguments)}function Rt(ce){return`${ce.name}!${ce.options.appId}`}class Ct{constructor(ee){this.container=ee,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new yi(xe),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var ee=this;return(0,i.Z)(function*(){const ct=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Gt();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==At&&!ee._heartbeatsCache.heartbeats.some(Pt=>Pt.date===At))return ee._heartbeatsCache.heartbeats.push({date:At,agent:ct}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Pt=>{const Jt=new Date(Pt.date).valueOf();return Date.now()-Jt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,i.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const xe=Gt(),{heartbeatsToSend:ct,unsentEntries:At}=function mr(ce,ee=1024){const xe=[];let ct=ce.slice();for(const At of ce){const Pt=xe.find(Jt=>Jt.agent===At.agent);if(Pt){if(Pt.dates.push(At.date),is(xe)>ee){Pt.dates.pop();break}}else if(xe.push({agent:At.agent,dates:[At.date]}),is(xe)>ee){xe.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:xe,unsentEntries:ct}}(ee._heartbeatsCache.heartbeats),Pt=(0,X.L)(JSON.stringify({version:2,heartbeats:ct}));return ee._heartbeatsCache.lastSentHeartbeatDate=xe,At.length>0?(ee._heartbeatsCache.heartbeats=At,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Pt})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class yi{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,i.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function ye(ce){return se.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var xe=this;return(0,i.Z)(function*(){var ct;if(yield xe._canUseIndexedDBPromise){const Pt=yield xe.read();return nt(xe.app,{lastSentHeartbeatDate:null!==(ct=ee.lastSentHeartbeatDate)&&void 0!==ct?ct:Pt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var xe=this;return(0,i.Z)(function*(){var ct;if(yield xe._canUseIndexedDBPromise){const Pt=yield xe.read();return nt(xe.app,{lastSentHeartbeatDate:null!==(ct=ee.lastSentHeartbeatDate)&&void 0!==ct?ct:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ee.heartbeats]})}})()}}function is(ce){return(0,X.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function si(ce){sn(new $.wA("platform-logger",ee=>new jt(ee),"PRIVATE")),sn(new $.wA("heartbeat",ee=>new Ct(ee),"PRIVATE")),mn(Gr,"0.9.13",ce),mn(Gr,"0.9.13","esm2017"),mn("fire-js","")}("")},4859:(lt,Ie,R)=>{R.d(Ie,{H0:()=>Re,wA:()=>O});var i=R(5861),$=R(2090);class O{constructor(U,Z,Q){this.name=U,this.instanceFactory=Z,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const X="[DEFAULT]";class ne{constructor(U,Z){this.name=U,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const Z=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(Z)){const Q=new $.BH;if(this.instancesDeferred.set(Z,Q),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:Z});Pe&&Q.resolve(Pe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(U){var Z;const Q=this.normalizeInstanceIdentifier(U?.identifier),Pe=null!==(Z=U?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(be){if(Pe)return null;throw be}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function fe(de){return"EAGER"===de.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[Z,Q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(Z);try{const be=this.getOrInitializeService({instanceIdentifier:Pe});Q.resolve(be)}catch{}}}}clearInstance(U=X){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,i.Z)(function*(){const Z=Array.from(U.instances.values());yield Promise.all([...Z.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...Z.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=X){return this.instances.has(U)}getOptions(U=X){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:Z={}}=U,Q=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Q,options:Z});for(const[be,Je]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(be)&&Je.resolve(Pe);return Pe}onInit(U,Z){var Q;const Pe=this.normalizeInstanceIdentifier(Z),be=null!==(Q=this.onInitCallbacks.get(Pe))&&void 0!==Q?Q:new Set;be.add(U),this.onInitCallbacks.set(Pe,be);const Je=this.instances.get(Pe);return Je&&U(Je,Pe),()=>{be.delete(U)}}invokeOnInitCallbacks(U,Z){const Q=this.onInitCallbacks.get(Z);if(Q)for(const Pe of Q)try{Pe(U,Z)}catch{}}getOrInitializeService({instanceIdentifier:U,options:Z={}}){let Q=this.instances.get(U);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=U,de===X?void 0:de),options:Z}),this.instances.set(U,Q),this.instancesOptions.set(U,Z),this.invokeOnInitCallbacks(Q,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Q)}catch{}var de;return Q||null}normalizeInstanceIdentifier(U=X){return this.component?this.component.multipleInstances?U:X:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const Z=this.getProvider(U.name);if(Z.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);Z.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const Z=new ne(U,this);return this.providers.set(U,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Ie,R)=>{R.d(Ie,{Am:()=>de,Ub:()=>Re,Yd:()=>fe,in:()=>$});const i=[];var $=(()=>(($=$||{})[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",$))();const O={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},X=$.INFO,ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},le=(U,Z,...Q)=>{if(Z<U.logLevel)return;const Pe=(new Date).toISOString(),be=ne[Z];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[be](`[${Pe}]  ${U.name}:`,...Q)};class fe{constructor(Z){this.name=Z,this._logLevel=X,this._logHandler=le,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function Re(U){i.forEach(Z=>{Z.setLogLevel(U)})}function de(U,Z){for(const Q of i){let Pe=null;Z&&Z.level&&(Pe=O[Z.level]),Q.userLogHandler=null===U?null:(be,Je,...Se)=>{const Ge=Se.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");Je>=(Pe??be.logLevel)&&U({level:$[Je].toLowerCase(),message:Ge,args:Se,type:be.name})}}}},259:(lt,Ie,R)=>{R.d(Ie,{C6:()=>i.getApps,Mq:()=>i.getApp});var i=R(6881);(0,i.registerVersion)("firebase","9.23.0","app")},9260:(lt,Ie,R)=>{R.d(Ie,{Z:()=>i.Z});var i=R(3942);i.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(lt,Ie,R)=>{R.r(Ie);var i=R(5861),$=R(3942),O=R(2090),X=R(6881),ne=R(7582),le=R(1877),fe=R(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Je=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Se=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new le.Yd("@firebase/auth");function te(v,...f){_t.logLevel<=le.in.ERROR&&_t.error(`Auth (${X.SDK_VERSION}): ${v}`,...f)}function pe(v,...f){throw Ue(v,...f)}function K(v,...f){return Ue(v,...f)}function he(v,f,g){const y=Object.assign(Object.assign({},Se()),{[f]:g});return new O.LL("auth","Firebase",y).create(f,{appName:v.name})}function Ce(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&pe(v,"argument-error"),he(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(v,...f){if("string"!=typeof v){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=v.name),v._errorFactory.create(g,...y)}return Ge.create(v,...f)}function ie(v,f,...g){if(!v)throw Ue(f,...g)}function He(v){const f="INTERNAL ASSERTION FAILED: "+v;throw te(f),new Error(f)}function jt(v,f){v||He(f)}function fr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Gr(){return"http:"===Ls()||"https:"===Ls()}function Ls(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class we{constructor(f,g){this.shortDelay=f,this.longDelay=g,jt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gr()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(v,f){jt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class qe{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tt=new we(3e4,6e4);function Xe(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Vt(v,f,g,y){return tt.apply(this,arguments)}function tt(){return(tt=(0,i.Z)(function*(v,f,g,y,C={}){return ft(v,C,(0,i.Z)(function*(){let x={},B={};y&&("GET"===f?B=y:x={body:JSON.stringify(y)});const J=(0,O.xO)(Object.assign({key:v.config.apiKey},B)).slice(1),Ae=yield v._getAdditionalHeaders();return Ae["Content-Type"]="application/json",v.languageCode&&(Ae["X-Firebase-Locale"]=v.languageCode),qe.fetch()(Kt(v,v.config.apiHost,g,J),Object.assign({method:f,headers:Ae,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ft(v,f,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,i.Z)(function*(v,f,g){v._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ve),f);try{const C=new ti(v),x=yield Promise.race([g(),C.promise]);C.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw zn(v,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const J=x.ok?B.errorMessage:B.error.message,[Ae,je]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw zn(v,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ae)throw zn(v,"email-already-in-use",B);if("USER_DISABLED"===Ae)throw zn(v,"user-disabled",B);const et=y[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw he(v,et,je);pe(v,et)}}catch(C){if(C instanceof O.ZR)throw C;pe(v,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function tn(v,f,g,y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,i.Z)(function*(v,f,g,y,C={}){const x=yield Vt(v,f,g,y,C);return"mfaPendingCredential"in x&&pe(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Kt(v,f,g,y){const C=`${f}${g}?${y}`;return v.config.emulator?Me(v.config,C):`${v.config.apiScheme}://${C}`}class ti{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(K(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(v,f,g){const y={appName:v.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const C=K(v,f,y);return C.customData._tokenResponse=g,C}function Wn(){return(Wn=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function to(){return(to=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ni(){return(ni=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ri(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function $e(){return($e=(0,i.Z)(function*(v,f=!1){const g=(0,O.m9)(v),y=yield g.getIdToken(f),C=vt(y);ie(C&&C.exp&&C.auth_time&&C.iat,g.auth,"internal-error");const x="object"==typeof C.firebase?C.firebase:void 0,B=x?.sign_in_provider;return{claims:C,token:y,authTime:ri(pt(C.auth_time)),issuedAtTime:ri(pt(C.iat)),expirationTime:ri(pt(C.exp)),signInProvider:B||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function pt(v){return 1e3*Number(v)}function vt(v){const[f,g,y]=v.split(".");if(void 0===f||void 0===g||void 0===y)return te("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,O.tV)(g);return C?JSON.parse(C):(te("Failed to decode base64 JWT payload"),null)}catch(C){return te("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Cn(v,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,i.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof O.ZR&&function sn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(y)&&v.auth.currentUser===v&&(yield v.auth.signOut()),y}})).apply(this,arguments)}class pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const C=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,i.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,i.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ma{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(v){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,i.Z)(function*(v){var f;const g=v.auth,y=yield v.getIdToken(),C=yield Cn(v,function Ca(v,f){return ni.apply(this,arguments)}(g,{idToken:y}));ie(C?.users.length,g,"internal-error");const x=C.users[0];v._notifyReloadListener(x);const B=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function Sa(v){return v.map(f=>{var{providerId:g}=f,y=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(x.providerUserInfo):[],J=function no(v,f){return[...v.filter(y=>!f.some(C=>C.providerId===y.providerId)),...f]}(v.providerData,B),et=!!v.isAnonymous&&!(v.email&&x.passwordHash||J?.length),rt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:J,metadata:new Ma(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(v,rt)}),Sr.apply(this,arguments)}function es(){return(es=(0,i.Z)(function*(v){const f=(0,O.m9)(v);yield cn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ts(){return(ts=(0,i.Z)(function*(v,f){const g=yield ft(v,{},(0,i.Z)(function*(){const y=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:C,apiKey:x}=v.config,B=Kt(v,C,"/v1/token",`key=${x}`),J=yield v._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(B,{method:"POST",headers:J,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ln(v){const f=vt(v);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,i.Z)(function*(){return ie(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,i.Z)(function*(){const{accessToken:C,refreshToken:x,expiresIn:B}=yield function ii(v,f){return ts.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(C,x,Number(B))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:C,expirationTime:x}=g,B=new gr;return y&&(ie("string"==typeof y,"internal-error",{appName:f}),B.refreshToken=y),C&&(ie("string"==typeof C,"internal-error",{appName:f}),B.accessToken=C),x&&(ie("number"==typeof x,"internal-error",{appName:f}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return He("not implemented")}}function nr(v,f){ie("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class mn{constructor(f){var{uid:g,auth:y,stsTokenManager:C}=f,x=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Ma(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,i.Z)(function*(){const y=yield Cn(g,g.stsTokenManager.getToken(g.auth,f));return ie(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function Aa(v){return $e.apply(this,arguments)}(this,f)}reload(){return function Bt(v){return es.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new mn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,i.Z)(function*(){let C=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),C=!0),g&&(yield cn(y)),yield y.auth._persistUserIfCurrent(y),C&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,i.Z)(function*(){const g=yield f.getIdToken();return yield Cn(f,function $r(v,f){return Wn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,C,x,B,J,Ae,je,et;const rt=null!==(y=g.displayName)&&void 0!==y?y:void 0,On=null!==(C=g.email)&&void 0!==C?C:void 0,Ds=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Eh=null!==(B=g.photoURL)&&void 0!==B?B:void 0,Op=null!==(J=g.tenantId)&&void 0!==J?J:void 0,Lp=null!==(Ae=g._redirectEventId)&&void 0!==Ae?Ae:void 0,wh=null!==(je=g.createdAt)&&void 0!==je?je:void 0,Ol=null!==(et=g.lastLoginAt)&&void 0!==et?et:void 0,{uid:Pp,emailVerified:Ih,isAnonymous:Th,providerData:Si,stsTokenManager:bh}=g;ie(Pp&&bh,f,"internal-error");const wt=gr.fromJSON(this.name,bh);ie("string"==typeof Pp,f,"internal-error"),nr(rt,f.name),nr(On,f.name),ie("boolean"==typeof Ih,f,"internal-error"),ie("boolean"==typeof Th,f,"internal-error"),nr(Ds,f.name),nr(Eh,f.name),nr(Op,f.name),nr(Lp,f.name),nr(wh,f.name),nr(Ol,f.name);const Tr=new mn({uid:Pp,auth:f,email:On,emailVerified:Ih,displayName:rt,isAnonymous:Th,photoURL:Eh,phoneNumber:Ds,tenantId:Op,stsTokenManager:wt,createdAt:wh,lastLoginAt:Ol});return Si&&Array.isArray(Si)&&(Tr.providerData=Si.map(hu=>Object.assign({},hu))),Lp&&(Tr._redirectEventId=Lp),Tr}static _fromIdTokenResponse(f,g,y=!1){return(0,i.Z)(function*(){const C=new gr;C.updateFromServerResponse(g);const x=new mn({uid:g.localId,auth:f,stsTokenManager:C,isAnonymous:y});return yield cn(x),x})()}}const ns=new Map;function Yt(v){jt(v instanceof Function,"Expected a class definition");let f=ns.get(v);return f?(jt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,ns.set(v,f),f)}const $t=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(g,y){var C=this;return(0,i.Z)(function*(){C.storage[g]=y})()}_get(g){var y=this;return(0,i.Z)(function*(){const C=y.storage[g];return void 0===C?null:C})()}_remove(g){var y=this;return(0,i.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return v.type="NONE",v})();function V(v,f,g){return`firebase:${v}:${f}:${g}`}class F{constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:C,name:x}=this.auth;this.fullUserKey=V(this.userKey,C.apiKey,x),this.fullPersistenceKey=V("persistence",C.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,i.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?mn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,i.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,i.Z)(function*(){if(!g.length)return new F(Yt($t),f,y);const C=(yield Promise.all(g.map(function(){var je=(0,i.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return je.apply(this,arguments)}}()))).filter(je=>je);let x=C[0]||Yt($t);const B=V(y,f.config.apiKey,f.name);let J=null;for(const je of g)try{const et=yield je._get(B);if(et){const rt=mn._fromJSON(f,et);je!==x&&(J=rt),x=je;break}}catch{}const Ae=C.filter(je=>je._shouldAllowMigration);return x._shouldAllowMigration&&Ae.length?(x=Ae[0],J&&(yield x._set(B,J.toJSON())),yield Promise.all(g.map(function(){var je=(0,i.Z)(function*(et){if(et!==x)try{yield et._remove(B)}catch{}});return function(et){return je.apply(this,arguments)}}())),new F(x,f,y)):new F(x,f,y)})()}}function G(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(gt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ye(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_n(f))return"Blackberry";if(dn(f))return"Webos";if(se(f))return"Safari";if((f.includes("chrome/")||nt(f))&&!f.includes("edge/"))return"Chrome";if(Rt(f))return"Android";{const y=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function ye(v=(0,O.z$)()){return/firefox\//i.test(v)}function se(v=(0,O.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nt(v=(0,O.z$)()){return/crios\//i.test(v)}function gt(v=(0,O.z$)()){return/iemobile/i.test(v)}function Rt(v=(0,O.z$)()){return/android/i.test(v)}function _n(v=(0,O.z$)()){return/blackberry/i.test(v)}function dn(v=(0,O.z$)()){return/webos/i.test(v)}function Ct(v=(0,O.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function is(v=(0,O.z$)()){return Ct(v)||Rt(v)||dn(v)||_n(v)||/windows phone/i.test(v)||gt(v)}function ce(v,f=[]){let g;switch(v){case"Browser":g=G((0,O.z$)());break;case"Worker":g=`${G((0,O.z$)())}-${v}`;break;default:g=v}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${X.SDK_VERSION}/${y}`}function xe(){return(xe=(0,i.Z)(function*(v){return(yield Vt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ct(v,f){return At.apply(this,arguments)}function At(){return(At=(0,i.Z)(function*(v,f){return Vt(v,"GET","/v2/recaptchaConfig",Xe(v,f))})).apply(this,arguments)}function Pt(v){return void 0!==v&&void 0!==v.getResponse}function Jt(v){return void 0!==v&&void 0!==v.enterprise}class rr{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function gs(v){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",v),y.onload=f,y.onerror=C=>{const x=K("internal-error");x.customData=C,g(x)},y.type="text/javascript",y.charset="UTF-8",function Kn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(y)})}function ro(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Md{constructor(f){this.type="recaptcha-enterprise",this.auth=Jn(f)}verify(f="verify",g=!1){var y=this;return(0,i.Z)(function*(){function x(){return x=(0,i.Z)(function*(J){if(!g){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Ae=(0,i.Z)(function*(je,et){ct(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const On=new rr(rt);return null==J.tenantId?J._agentRecaptchaConfig=On:J._tenantRecaptchaConfigs[J.tenantId]=On,je(On.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{et(rt)})});return function(je,et){return Ae.apply(this,arguments)}}())}),x.apply(this,arguments)}function B(J,Ae,je){const et=window.grecaptcha;Jt(et)?et.enterprise.ready(()=>{et.enterprise.execute(J,{action:f}).then(rt=>{Ae(rt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Ae)=>{(function C(J){return x.apply(this,arguments)})(y.auth).then(je=>{if(!g&&Jt(window.grecaptcha))B(je,J,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));gs("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{B(je,J,Ae)}).catch(et=>{Ae(et)})}}).catch(je=>{Ae(je)})})})()}}function Ei(v,f,g){return qu.apply(this,arguments)}function qu(){return(qu=(0,i.Z)(function*(v,f,g,y=!1){const C=new Md(v);let x;try{x=yield C.verify(g)}catch{x=yield C.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,y?{captchaResp:x}:{captchaResponse:x}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class ju{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=x=>new Promise((B,J)=>{try{B(f(x))}catch(Ae){J(Ae)}});y.onAbort=g,this.queue.push(y);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,i.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const C of g.queue)yield C(f),C.onAbort&&y.push(C.onAbort)}catch(C){y.reverse();for(const x of y)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}class Sd{constructor(f,g,y,C){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=y,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new No(this),this.idTokenSubscription=new No(this),this.beforeStateQueue=new ju(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=Yt(g)),this._initializationPromise=this.queue((0,i.Z)(function*(){var C,x;if(!y._deleted&&(y.persistenceManager=yield F.create(y,f),!y._deleted)){if(null!==(C=y._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(x=y.currentUser)||void 0===x?void 0:x.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,i.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,i.Z)(function*(){var y;const C=yield g.assertedPersistence.getCurrentUser();let x=C,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const J=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,Ae=x?._redirectEventId,je=yield g.tryRedirectSignIn(f);(!J||J===Ae)&&je?.user&&(x=je.user,B=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(x)}catch(J){x=C,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(J))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var g=this;return(0,i.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,i.Z)(function*(){try{yield cn(f)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,i.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,i.Z)(function*(){const y=f?(0,O.m9)(f):null;return y&&ie(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,i.Z)(function*(){if(!y._deleted)return f&&ie(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,i.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,i.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,i.Z)(function*(){yield g.assertedPersistence.setPersistence(Yt(f))}))}initializeRecaptchaConfig(){var f=this;return(0,i.Z)(function*(){const g=yield ct(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new rr(g);null==f.tenantId?f._agentRecaptchaConfig=y:f._tenantRecaptchaConfigs[f.tenantId]=y,y.emailPasswordEnabled&&new Md(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,i.Z)(function*(){const C=yield y.getOrInitRedirectPersistenceManager(g);return null===f?C.removeCurrentUser():C.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,i.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&Yt(f)||g._popupRedirectResolver;ie(y,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[Yt(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,i.Z)(function*(){var y,C;return g._isInitialized&&(yield g.queue((0,i.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,i.Z)(function*(){if(f===g.currentUser)return g.queue((0,i.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,C){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,y,C):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,i.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,i.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const C=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();C&&(y["X-Firebase-Client"]=C);const x=yield f._getAppCheckToken();return x&&(y["X-Firebase-AppCheck"]=x),y})()}_getAppCheckToken(){var f=this;return(0,i.Z)(function*(){var g;const y=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return y?.error&&function ht(v,...f){_t.logLevel<=le.in.WARN&&_t.warn(`Auth (${X.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function Jn(v){return(0,O.m9)(v)}class No{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function io(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function kd(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class ms{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,g){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function jf(v,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:resetPassword",Xe(v,f))})).apply(this,arguments)}function Gu(v,f){return $u.apply(this,arguments)}function $u(){return($u=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function or(){return(or=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:update",Xe(v,f))})).apply(this,arguments)}function un(v,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithPassword",Xe(v,f))})).apply(this,arguments)}function xr(v,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:sendOobCode",Xe(v,f))})).apply(this,arguments)}function Ro(){return(Ro=(0,i.Z)(function*(v,f){return xr(v,f)})).apply(this,arguments)}function Na(v,f){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,i.Z)(function*(v,f){return xr(v,f)})).apply(this,arguments)}function Un(v,f){return We.apply(this,arguments)}function We(){return(We=(0,i.Z)(function*(v,f){return xr(v,f)})).apply(this,arguments)}function En(){return(En=(0,i.Z)(function*(v,f){return xr(v,f)})).apply(this,arguments)}function Us(){return(Us=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithEmailLink",Xe(v,f))})).apply(this,arguments)}function so(){return(so=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithEmailLink",Xe(v,f))})).apply(this,arguments)}class wn extends ms{constructor(f,g,y,C=null){super("password",y),this._email=f,this._password=g,this._tenantId=C}static _fromEmailAndPassword(f,g){return new wn(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new wn(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,i.Z)(function*(){var y;switch(g.signInMethod){case"password":const C={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=f._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const x=yield Ei(f,C,"signInWithPassword");return un(f,x)}return un(f,C).catch(function(){var x=(0,i.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield Ei(f,C,"signInWithPassword");return un(f,J)}return Promise.reject(B)});return function(B){return x.apply(this,arguments)}}());case"emailLink":return function ai(v,f){return Us.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:pe(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,i.Z)(function*(){switch(y.signInMethod){case"password":return Gu(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Br(v,f){return so.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _r(v,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithIdp",Xe(v,f))})).apply(this,arguments)}class Wr extends ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Wr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:C}=g,x=(0,ne._T)(g,["providerId","signInMethod"]);if(!y||!C)return null;const B=new Wr(y,C);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,_r(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function ss(){return(ss=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:sendVerificationCode",Xe(v,f))})).apply(this,arguments)}function Oo(){return(Oo=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithPhoneNumber",Xe(v,f))})).apply(this,arguments)}function wi(){return(wi=(0,i.Z)(function*(v,f){const g=yield tn(v,"POST","/v1/accounts:signInWithPhoneNumber",Xe(v,f));if(g.temporaryProof)throw zn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Lo={USER_NOT_FOUND:"user-not-found"};function ci(){return(ci=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithPhoneNumber",Xe(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Lo)})).apply(this,arguments)}class Vn extends ms{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Vn({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Vn({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Rn(v,f){return Oo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ra(v,f){return wi.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Od(v,f){return ci.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:C}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:C}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:C,temporaryProof:x}=f;return y||g||C||x?new Vn({verificationId:g,verificationCode:y,phoneNumber:C,temporaryProof:x}):null}}class Ht{constructor(f){var g,y,C,x,B,J;const Ae=(0,O.zd)((0,O.pd)(f)),je=null!==(g=Ae.apiKey)&&void 0!==g?g:null,et=null!==(y=Ae.oobCode)&&void 0!==y?y:null,rt=function Wu(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=Ae.mode)&&void 0!==C?C:null);ie(je&&et&&rt,"argument-error"),this.apiKey=je,this.operation=rt,this.code=et,this.continueUrl=null!==(x=Ae.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=Ae.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(J=Ae.tenantId)&&void 0!==J?J:null}static parseLink(f){const g=function oo(v){const f=(0,O.zd)((0,O.pd)(v)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,y=(0,O.zd)((0,O.pd)(v)).deep_link_id;return(y?(0,O.zd)((0,O.pd)(y)).link:null)||y||g||f||v}(f);try{return new Ht(g)}catch{return null}}}let Rc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,y){return wn._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const C=Ht.parseLink(y);return ie(C,"argument-error"),wn._fromEmailAndCode(g,C.code,C.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class os{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Kr extends os{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ii extends Kr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Wr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),Wr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ii.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ii.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:C,pendingToken:x,nonce:B,providerId:J}=f;if(!y&&!C&&!g&&!x||!J)return null;try{return new Ii(J)._credential({idToken:g,accessToken:y,nonce:B,pendingToken:x})}catch{return null}}}let ao=(()=>{class v extends Kr{constructor(){super("facebook.com")}static credential(g){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),co=(()=>{class v extends Kr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:C}=g;if(!y&&!C)return null;try{return v.credential(y,C)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ar=(()=>{class v extends Kr{constructor(){super("github.com")}static credential(g){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Bn extends ms{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,_r(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:C,pendingToken:x}=g;return y&&C&&x&&y===C?new Bn(y,x):null}static _create(f,g){return new Bn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Po extends os{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Po.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Po.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Bn.fromJSON(f);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return Bn._create(y,g)}catch{return null}}}let vs=(()=>{class v extends Kr{constructor(){super("twitter.com")}static credential(g,y){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:C}=g;if(!y||!C)return null;try{return v.credential(y,C)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ys(v,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signUp",Xe(v,f))})).apply(this,arguments)}class kr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,C=!1){return(0,i.Z)(function*(){const x=yield mn._fromIdTokenResponse(f,y,C),B=uo(y);return new kr({user:x,providerId:B,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,i.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const C=uo(y);return new kr({user:f,providerId:C,_tokenResponse:y,operationType:g})})()}}function uo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ku(){return(Ku=(0,i.Z)(function*(v){var f;const g=Jn(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new kr({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield ys(g,{returnSecureToken:!0}),C=yield kr._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(C.user),C})).apply(this,arguments)}class Oa extends O.ZR{constructor(f,g,y,C){var x;super(g.code,g.message),this.operationType=y,this.user=C,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,C){return new Oa(f,g,y,C)}}function Gf(v,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Oa._fromErrorAndOperation(v,x,f,y):x})}function $f(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function as(){return as=(0,i.Z)(function*(v,f){const g=(0,O.m9)(v);yield La(!0,g,f);const{providerUserInfo:y}=yield function eo(v,f){return to.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),C=$f(y||[]);return g.providerData=g.providerData.filter(x=>C.has(x.providerId)),C.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),as.apply(this,arguments)}function Ju(v,f){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,i.Z)(function*(v,f,g=!1){const y=yield Cn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return kr._forOperation(v,"link",y)})).apply(this,arguments)}function La(v,f,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,i.Z)(function*(v,f,g){yield cn(f);const C=!1===v?"provider-already-linked":"no-such-provider";ie($f(f.providerData).has(g)===v,f.auth,C)})).apply(this,arguments)}function zf(v,f){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,i.Z)(function*(v,f,g=!1){const{auth:y}=v,C="reauthenticate";try{const x=yield Cn(v,Gf(y,C,f,v),g);ie(x.idToken,y,"internal-error");const B=vt(x.idToken);ie(B,y,"internal-error");const{sub:J}=B;return ie(v.uid===J,y,"user-mismatch"),kr._forOperation(v,C,x)}catch(x){throw"auth/user-not-found"===x?.code&&pe(y,"user-mismatch"),x}})).apply(this,arguments)}function Pd(v,f){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,i.Z)(function*(v,f,g=!1){const y="signIn",C=yield Gf(v,y,f),x=yield kr._fromIdTokenResponse(v,y,C);return g||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Pa(v,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,i.Z)(function*(v,f){return Pd(Jn(v),f)})).apply(this,arguments)}function wm(v,f){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,i.Z)(function*(v,f){const g=(0,O.m9)(v);return yield La(!1,g,f.providerId),Ju(g,f)})).apply(this,arguments)}function Zn(v,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,i.Z)(function*(v,f){return zf((0,O.m9)(v),f)})).apply(this,arguments)}function Im(){return(Im=(0,i.Z)(function*(v,f){return tn(v,"POST","/v1/accounts:signInWithCustomToken",Xe(v,f))})).apply(this,arguments)}function Pi(){return Pi=(0,i.Z)(function*(v,f){const g=Jn(v),y=yield function Wf(v,f){return Im.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),C=yield kr._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(C.user),C}),Pi.apply(this,arguments)}class Oc{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ua._fromServerResponse(f,g):"totpInfo"in g?Ud._fromServerResponse(f,g):pe(f,"internal-error")}}class Ua extends Oc{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ua(g)}}class Ud extends Oc{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Ud(g)}}function Va(v,f,g){var y;ie((null===(y=g.url)||void 0===y?void 0:y.length)>0,v,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Zr(){return Zr=(0,i.Z)(function*(v,f,g){var y;const C=Jn(v),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=C._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const B=yield Ei(C,x,"getOobCode",!0);g&&Va(C,B,g),yield Na(C,B)}else g&&Va(C,x,g),yield Na(C,x).catch(function(){var B=(0,i.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield Ei(C,x,"getOobCode",!0);g&&Va(C,Ae,g),yield Na(C,Ae)}});return function(J){return B.apply(this,arguments)}}())}),Zr.apply(this,arguments)}function Qn(){return(Qn=(0,i.Z)(function*(v,f,g){yield jf((0,O.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ti(){return Ti=(0,i.Z)(function*(v,f){yield function Ft(v,f){return or.apply(this,arguments)}((0,O.m9)(v),{oobCode:f})}),Ti.apply(this,arguments)}function Ba(v,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,i.Z)(function*(v,f){const g=(0,O.m9)(v),y=yield jf(g,{oobCode:f}),C=y.requestType;switch(ie(C,g,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(y.mfaInfo,g,"internal-error");default:ie(y.email,g,"internal-error")}let x=null;return y.mfaInfo&&(x=Oc._fromServerResponse(Jn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:x},operation:C}})).apply(this,arguments)}function Vo(){return(Vo=(0,i.Z)(function*(v,f){const{data:g}=yield Ba((0,O.m9)(v),f);return g.email})).apply(this,arguments)}function Za(){return Za=(0,i.Z)(function*(v,f,g){var y;const C=Jn(v),x={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(y=C._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const je=yield Ei(C,x,"signUpPassword");B=ys(C,je)}else B=ys(C,x).catch(function(){var je=(0,i.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield Ei(C,x,"signUpPassword");return ys(C,rt)}return Promise.reject(et)});return function(et){return je.apply(this,arguments)}}());const J=yield B.catch(je=>Promise.reject(je)),Ae=yield kr._fromIdTokenResponse(C,"signIn",J);return yield C._updateCurrentUser(Ae.user),Ae}),Za.apply(this,arguments)}function lo(){return lo=(0,i.Z)(function*(v,f,g){var y;const C=Jn(v),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(J,Ae){ie(Ae.handleCodeInApp,C,"argument-error"),Ae&&Va(C,J,Ae)}if(null!==(y=C._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const J=yield Ei(C,x,"getOobCode",!0);B(J,g),yield Un(C,J)}else B(x,g),yield Un(C,x).catch(function(){var J=(0,i.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield Ei(C,x,"getOobCode",!0);B(je,g),yield Un(C,je)}});return function(Ae){return J.apply(this,arguments)}}())}),lo.apply(this,arguments)}function Jf(){return(Jf=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v),C=Rc.credentialWithLink(f,g||fr());return ie(C._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Pa(y,C)})).apply(this,arguments)}function tl(){return(tl=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:createAuthUri",Xe(v,f))})).apply(this,arguments)}function nl(){return nl=(0,i.Z)(function*(v,f){const y={identifier:f,continueUri:Gr()?fr():"http://localhost"},{signinMethods:C}=yield function Vd(v,f){return tl.apply(this,arguments)}((0,O.m9)(v),y);return C||[]}),nl.apply(this,arguments)}function Ha(){return Ha=(0,i.Z)(function*(v,f){const g=(0,O.m9)(v),C={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Va(g.auth,C,f);const{email:x}=yield function zu(v,f){return Ro.apply(this,arguments)}(g.auth,C);x!==v.email&&(yield v.reload())}),Ha.apply(this,arguments)}function Vc(){return Vc=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&Va(y.auth,x,g);const{email:B}=yield function Lt(v,f){return En.apply(this,arguments)}(y.auth,x);B!==v.email&&(yield v.reload())}),Vc.apply(this,arguments)}function Bc(){return(Bc=(0,i.Z)(function*(v,f){return Vt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bo(){return Bo=(0,i.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,O.m9)(v),x={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield Cn(y,function il(v,f){return Bc.apply(this,arguments)}(y.auth,x));y.displayName=B.displayName||null,y.photoURL=B.photoUrl||null;const J=y.providerData.find(({providerId:Ae})=>"password"===Ae);J&&(J.displayName=y.displayName,J.photoURL=y.photoURL),yield y._updateTokensIfNecessary(B)}),Bo.apply(this,arguments)}function Zd(v,f,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,i.Z)(function*(v,f,g){const{auth:y}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const B=yield Cn(v,Gu(y,x));yield v._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class ho{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class Zc extends ho{constructor(f,g,y,C){super(f,g,y),this.username=C}}class qr extends ho{constructor(f,g){super(f,"facebook.com",g)}}class Hc extends Zc{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class sl extends ho{constructor(f,g){super(f,"google.com",g)}}class Bs extends Zc{constructor(f,g,y){super(f,"twitter.com",g,y)}}function cr(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function In(v){var f,g;if(!v)return null;const{providerId:y}=v,C=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!y&&v?.idToken){const B=null===(g=null===(f=vt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new ho(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!y)return null;switch(y){case"facebook.com":return new qr(x,C);case"github.com":return new Hc(x,C);case"google.com":return new sl(x,C);case"twitter.com":return new Bs(x,C,v.screenName||null);case"custom":case"anonymous":return new ho(x,null);default:return new ho(x,y,C)}}(g)}class mt{constructor(f,g,y){this.type=f,this.credential=g,this.auth=y}static _fromIdtoken(f,g){return new mt("enroll",f,g)}static _fromMfaPendingCredential(f){return new mt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return mt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return mt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Hs{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=Jn(f),C=g.customData._serverResponse,x=(C.mfaInfo||[]).map(J=>Oc._fromServerResponse(y,J));ie(C.mfaPendingCredential,y,"internal-error");const B=mt._fromMfaPendingCredential(C.mfaPendingCredential);return new Hs(B,x,function(){var J=(0,i.Z)(function*(Ae){const je=yield Ae._process(y,B);delete C.mfaInfo,delete C.mfaPendingCredential;const et=Object.assign(Object.assign({},C),{idToken:je.idToken,refreshToken:je.refreshToken});switch(g.operationType){case"signIn":const rt=yield kr._fromIdTokenResponse(y,g.operationType,et);return yield y._updateCurrentUser(rt.user),rt;case"reauthenticate":return ie(g.user,y,"internal-error"),kr._forOperation(g.user,g.operationType,et);default:pe(y,"internal-error")}});return function(Ae){return J.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,i.Z)(function*(){return g.signInResolver(f)})()}}class ja{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Oc._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new ja(f)}getSession(){var f=this;return(0,i.Z)(function*(){return mt._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var y=this;return(0,i.Z)(function*(){const C=f,x=yield y.getSession(),B=yield Cn(y.user,C._process(y.user.auth,x,g));return yield y.user._updateTokensIfNecessary(B),y.user.reload()})()}unenroll(f){var g=this;return(0,i.Z)(function*(){const y="string"==typeof f?f:f.uid,C=yield g.user.getIdToken();try{const x=yield Cn(g.user,function qo(v,f){return Vt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(v,f))}(g.user.auth,{idToken:C,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==y),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const Ga=new WeakMap,jo="__sak";class zd{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(jo,"1"),this.storage.removeItem(jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const An=(()=>{class v extends zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function De(){const v=(0,O.z$)();return se(v)||Ct(v)}()&&function si(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const C=this.storage.getItem(y),x=this.localCache[y];C!==x&&g(y,x,C)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((J,Ae,je)=>{this.notifyListeners(J,je)});const C=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(C);if(g.newValue!==J)null!==g.newValue?this.storage.setItem(C,g.newValue):this.storage.removeItem(C);else if(this.localCache[C]===g.newValue&&!y)return}const x=()=>{const J=this.storage.getItem(C);!y&&this.localCache[C]===J||this.notifyListeners(C,J)},B=this.storage.getItem(C);!function yi(){return(0,O.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,y){this.localCache[g]=y;const C=this.listeners[g];if(C)for(const x of Array.from(C))x(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var C=()=>super._set,x=this;return(0,i.Z)(function*(){yield C().call(x,g,y),x.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,C=this;return(0,i.Z)(function*(){const x=yield y().call(C,g);return C.localCache[g]=JSON.stringify(x),x})()}_remove(g){var y=()=>super._remove,C=this;return(0,i.Z)(function*(){yield y().call(C,g),delete C.localCache[g]})()}}return v.type="LOCAL",v})(),bi=(()=>{class v extends zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return v.type="SESSION",v})();let $a=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(x=>x.isListeningto(g));if(y)return y;const C=new v(g);return this.receivers.push(C),C}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,i.Z)(function*(){const C=g,{eventId:x,eventType:B,data:J}=C.data,Ae=y.handlersMap[B];if(!Ae?.size)return;C.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const je=Array.from(Ae).map(function(){var rt=(0,i.Z)(function*(On){return On(C.origin,J)});return function(On){return rt.apply(this,arguments)}}()),et=yield function ws(v){return Promise.all(v.map(function(){var f=(0,i.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(je);C.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:et})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Go(v="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return v+g}class fy{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var C=this;return(0,i.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,J;return new Promise((Ae,je)=>{const et=Go("",20);x.port1.start();const rt=setTimeout(()=>{je(new Error("unsupported_event"))},y);J={messageChannel:x,onMessage(On){const Ds=On;if(Ds.data.eventId===et)switch(Ds.data.status){case"ack":clearTimeout(rt),B=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ae(Ds.data.response);break;default:clearTimeout(rt),clearTimeout(B),je(new Error("invalid_response"))}}},C.handlers.add(J),x.port1.addEventListener("message",J.onMessage),C.target.postMessage({eventType:f,eventId:et,data:g},[x.port2])}).finally(()=>{J&&C.removeMessageHandler(J)})})()}}function Hn(){return window}function Nr(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Gc(){return(Gc=(0,i.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wd="firebaseLocalStorageDb",za="firebaseLocalStorage",$c="fbase_key";class fo{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Wa(v,f){return v.transaction([za],f?"readwrite":"readonly").objectStore(za)}function zc(){const v=indexedDB.open(Wd,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const y=v.result;try{y.createObjectStore(za,{keyPath:$c})}catch(C){g(C)}}),v.addEventListener("success",(0,i.Z)(function*(){const y=v.result;y.objectStoreNames.contains(za)?f(y):(y.close(),yield function Kd(){const v=indexedDB.deleteDatabase(Wd);return new fo(v).toPromise()}(),f(yield zc()))}))})}function Wc(v,f,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,i.Z)(function*(v,f,g){const y=Wa(v,!0).put({[$c]:f,value:g});return new fo(y).toPromise()})).apply(this,arguments)}function Ui(){return(Ui=(0,i.Z)(function*(v,f){const g=Wa(v,!1).get(f),y=yield new fo(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function fl(v,f){const g=Wa(v,!0).delete(f);return new fo(g).toPromise()}const Ja=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,i.Z)(function*(){return g.db||(g.db=yield zc()),g.db})()}_withRetries(g){var y=this;return(0,i.Z)(function*(){let C=0;for(;;)try{const x=yield y._openDb();return yield g(x)}catch(x){if(C++>3)throw x;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,i.Z)(function*(){return Nr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,i.Z)(function*(){g.receiver=$a._getInstance(function hn(){return Nr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,i.Z)(function*(C,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(C,x){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,i.Z)(function*(C,x){return["keyChanged"]});return function(C,x){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,i.Z)(function*(){var y,C;if(g.activeServiceWorker=yield function Is(){return Gc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fy(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(y=x[0])&&void 0!==y&&y.fulfilled&&null!==(C=x[0])&&void 0!==C&&C.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,i.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function qs(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const g=yield zc();return yield Wc(g,jo,"1"),yield fl(g,jo),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,i.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var C=this;return(0,i.Z)(function*(){return C._withPendingWrite((0,i.Z)(function*(){return yield C._withRetries(x=>Wc(x,g,y)),C.localCache[g]=y,C.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,i.Z)(function*(){const C=yield y._withRetries(x=>function $o(v,f){return Ui.apply(this,arguments)}(x,g));return y.localCache[g]=C,C})()}_remove(g){var y=this;return(0,i.Z)(function*(){return y._withPendingWrite((0,i.Z)(function*(){return yield y._withRetries(C=>fl(C,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,i.Z)(function*(){const y=yield g._withRetries(B=>{const J=Wa(B,!1).getAll();return new fo(J).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const C=[],x=new Set;for(const{fbase_key:B,value:J}of y)x.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(J)&&(g.notifyListeners(B,J),C.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!x.has(B)&&(g.notifyListeners(B,null),C.push(B));return C})()}notifyListeners(g,y){this.localCache[g]=y;const C=this.listeners[g];if(C)for(const x of Array.from(C))x(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Qa=1e12;class tp{constructor(f){this.auth=f,this.counter=Qa,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new Qd(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||Qa;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Qa))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,i.Z)(function*(){var y;return null===(y=g._widgets.get(f||Qa))||void 0===y||y.execute(),""})()}}class Qd{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof f?document.getElementById(f):f;ie(C,"argument-error",{appName:g}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function np(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<v;y++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=ro("rcb"),ml=new we(3e4,6e4);class Yd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Hn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ie(function Ya(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Pt(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((y,C)=>{const x=Hn().setTimeout(()=>{C(K(f,"network-request-failed"))},ml.get());Hn()[gl]=()=>{Hn().clearTimeout(x),delete Hn()[gl];const J=Hn().grecaptcha;if(!J||!Pt(J))return void C(K(f,"internal-error"));const Ae=J.render;J.render=(je,et)=>{const rt=Ae(je,et);return this.counter++,rt},this.hostLanguage=g,y(J)},gs(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:gl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),C(K(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Hn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _l{load(f){return(0,i.Z)(function*(){return new tp(f)})()}clearedOneInstance(){}}const zo="recaptcha",Xd={theme:"light",type:"image"};class vl{constructor(f,g=Object.assign({},Xd),y){this.parameters=g,this.type=zo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jn(y),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof f?document.getElementById(f):f;ie(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _l:new Yd,this.validateStartingState()}verify(){var f=this;return(0,i.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(x=>{const B=J=>{J&&(f.tokenChangeListeners.delete(B),x(J))};f.tokenChangeListeners.add(B),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=Hn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,i.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,i.Z)(function*(){ie(Gr()&&!Nr(),f.auth,"internal-error"),yield function rp(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ee(v){return xe.apply(this,arguments)}(f.auth);ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jc{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Vn._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function yr(){return(yr=(0,i.Z)(function*(v,f,g){const y=Jn(v),C=yield Wo(y,f,(0,O.m9)(g));return new Jc(C,x=>Pa(y,x))})).apply(this,arguments)}function Qc(){return(Qc=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v);yield La(!1,y,"phone");const C=yield Wo(y.auth,f,(0,O.m9)(g));return new Jc(C,x=>wm(y,x))})).apply(this,arguments)}function yl(){return(yl=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v),C=yield Wo(y.auth,f,(0,O.m9)(g));return new Jc(C,x=>Zn(y,x))})).apply(this,arguments)}function Wo(v,f,g){return El.apply(this,arguments)}function El(){return El=(0,i.Z)(function*(v,f,g){var y;const C=yield g.verify();try{let x;if(ie("string"==typeof C,v,"argument-error"),ie(g.type===zo,v,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const B=x.session;if("phoneNumber"in x)return ie("enroll"===B.type,v,"internal-error"),(yield function ul(v,f){return Vt(v,"POST","/v2/accounts/mfaEnrollment:start",Xe(v,f))}(v,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ie("signin"===B.type,v,"internal-error");const J=(null===(y=x.multiFactorHint)||void 0===y?void 0:y.uid)||x.multiFactorUid;return ie(J,v,"missing-multi-factor-info"),(yield function ep(v,f){return Vt(v,"POST","/v2/accounts/mfaSignIn:start",Xe(v,f))}(v,{mfaPendingCredential:B.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function Rd(v,f){return ss.apply(this,arguments)}(v,{phoneNumber:x.phoneNumber,recaptchaToken:C});return B}}finally{g._reset()}}),El.apply(this,arguments)}function Ko(){return(Ko=(0,i.Z)(function*(v,f){yield Ju((0,O.m9)(v),f)})).apply(this,arguments)}let qn=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Jn(g)}verifyPhoneNumber(g,y){return Wo(this.auth,g,(0,O.m9)(y))}static credential(g,y){return Vn._fromVerification(g,y)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:C}=g;return y&&C?Vn._fromTokenResponse(y,C):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Mt(v,f){return f?Yt(f):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Di extends ms{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _r(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _r(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _r(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function tc(v){return Pd(v.auth,new Di(v),v.bypassAuthState)}function nc(v){const{auth:f,user:g}=v;return ie(g,f,"internal-error"),zf(g,new Di(v),v.bypassAuthState)}function js(v){return wl.apply(this,arguments)}function wl(){return(wl=(0,i.Z)(function*(v){const{auth:f,user:g}=v;return ie(g,f,"internal-error"),Ju(g,new Di(v),v.bypassAuthState)})).apply(this,arguments)}class rc{constructor(f,g,y,C,x=!1){this.auth=f,this.resolver=y,this.user=C,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,i.Z)(function*(y,C){f.pendingPromise={resolve:y,reject:C};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(y,C){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,i.Z)(function*(){const{urlResponse:y,sessionId:C,postBody:x,tenantId:B,error:J,type:Ae}=f;if(J)return void g.reject(J);const je={auth:g.auth,requestUri:y,sessionId:C,tenantId:B||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ae)(je))}catch(et){g.reject(et)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return tc;case"linkViaPopup":case"linkViaRedirect":return js;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:pe(this.auth,"internal-error")}}resolve(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Er=new we(2e3,1e4);function Vi(){return(Vi=(0,i.Z)(function*(v,f,g){const y=Jn(v);Ce(v,f,os);const C=Mt(y,g);return new Gs(y,"signInViaPopup",f,C).executeNotNull()})).apply(this,arguments)}function Jo(){return(Jo=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v);Ce(y.auth,f,os);const C=Mt(y.auth,g);return new Gs(y.auth,"reauthViaPopup",f,C,y).executeNotNull()})).apply(this,arguments)}function Yc(){return(Yc=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v);Ce(y.auth,f,os);const C=Mt(y.auth,g);return new Gs(y.auth,"linkViaPopup",f,C,y).executeNotNull()})).apply(this,arguments)}let Gs=(()=>{class v extends rc{constructor(g,y,C,x,B){super(g,y,x,B),this.provider=C,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,i.Z)(function*(){const y=yield g.execute();return ie(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,i.Z)(function*(){jt(1===g.filter.length,"Popup operations only handle one event");const y=Go();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(C=>{g.reject(C)}),g.resolver._isIframeWebStorageSupported(g.auth,C=>{C||g.reject(K(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(K(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,C;this.pollId=null!==(C=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(K(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Er.get())};g()}}return v.currentPopupAction=null,v})();const Ai="pendingRedirect",ic=new Map;class Or extends rc{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,i.Z)(function*(){let y=ic.get(g.auth._key());if(!y){try{const x=(yield function Bi(v,f){return Il.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(x)}catch(C){y=()=>Promise.reject(C)}ic.set(g.auth._key(),y)}return g.bypassAuthState||ic.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,i.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const C=yield y.auth._redirectUserForId(f.eventId);if(C)return y.user=C,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Il(){return(Il=(0,i.Z)(function*(v,f){const g=sc(f),y=rh(v);if(!(yield y._isAvailable()))return!1;const C="true"===(yield y._get(g));return yield y._remove(g),C})).apply(this,arguments)}function nh(v,f){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,i.Z)(function*(v,f){return rh(v)._set(sc(f),"true")})).apply(this,arguments)}function us(v,f){ic.set(v._key(),f)}function rh(v){return Yt(v._redirectPersistence)}function sc(v){return V(Ai,v.config.apiKey,v.name)}function eu(v,f,g){return function go(v,f,g){return tu.apply(this,arguments)}(v,f,g)}function tu(){return(tu=(0,i.Z)(function*(v,f,g){const y=Jn(v);Ce(v,f,os),yield y._initializationPromise;const C=Mt(y,g);return yield nh(C,y),C._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function oc(v,f,g){return function nu(v,f,g){return ru.apply(this,arguments)}(v,f,g)}function ru(){return(ru=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v);Ce(y.auth,f,os),yield y.auth._initializationPromise;const C=Mt(y.auth,g);yield nh(C,y.auth);const x=yield Zi(y);return C._openRedirect(y.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function bl(v,f,g){return function Dl(v,f,g){return $s.apply(this,arguments)}(v,f,g)}function $s(){return($s=(0,i.Z)(function*(v,f,g){const y=(0,O.m9)(v);Ce(y.auth,f,os),yield y.auth._initializationPromise;const C=Mt(y.auth,g);yield La(!1,y,f.providerId),yield nh(C,y.auth);const x=yield Zi(y);return C._openRedirect(y.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Ts(){return(Ts=(0,i.Z)(function*(v,f){return yield Jn(v)._initializationPromise,_o(v,f,!1)})).apply(this,arguments)}function _o(v,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,i.Z)(function*(v,f,g=!1){const y=Jn(v),C=Mt(y,f),B=yield new Or(y,C,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield y._persistUserIfCurrent(B.user),yield y._setRedirectUser(null,f)),B})).apply(this,arguments)}function Zi(v){return ac.apply(this,arguments)}function ac(){return(ac=(0,i.Z)(function*(v){const f=Go(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class su{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Cl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yo(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!Yo(f)){const C=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(K(this.auth,C))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cc(f))}saveEventToCache(f){this.cachedEventUids.add(cc(f)),this.lastProcessedEventTime=Date.now()}}function cc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Yo({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function sp(v){return ih.apply(this,arguments)}function ih(){return(ih=(0,i.Z)(function*(v,f={}){return Vt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function Tn(){return(Tn=(0,i.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield sp(v);for(const g of f)try{if(ap(g))return}catch{}pe(v,"unauthorized-domain")})).apply(this,arguments)}function ap(v){const f=fr(),{protocol:g,hostname:y}=new URL(f);if(v.startsWith("chrome-extension://")){const B=new URL(v);return""===B.hostname&&""===y?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===y}if(!vo.test(g))return!1;if(ur.test(v))return y===v;const C=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(y)}const Xo=new we(3e4,6e4);function sh(){const v=Hn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Hi=null;const uc=new we(5e3,15e3),ou="__/auth/iframe",cp="emulator/auth/iframe",py={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(v){const f=v.config;ie(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?Me(f,cp):`https://${v.config.authDomain}/${ou}`,y={apiKey:f.apiKey,appName:v.name,v:X.SDK_VERSION},C=Mm.get(v.config.apiHost);C&&(y.eid=C);const x=v._getFrameworks();return x.length&&(y.fw=x.join(",")),`${g}?${(0,O.xO)(y).slice(1)}`}function b(){return b=(0,i.Z)(function*(v){const f=yield function zs(v){return Hi=Hi||function Yn(v){return new Promise((f,g)=>{var y,C,x;function B(){sh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{sh(),g(K(v,"network-request-failed"))},timeout:Xo.get()})}if(null!==(C=null===(y=Hn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==C&&C.Iframe)f(gapi.iframes.getContext());else{if(null===(x=Hn().gapi)||void 0===x||!x.load){const J=ro("iframefcb");return Hn()[J]=()=>{gapi.load?B():g(K(v,"network-request-failed"))},gs(`https://apis.google.com/js/api.js?onload=${J}`).catch(Ae=>g(Ae))}B()}}).catch(f=>{throw Hi=null,f})}(v),Hi}(v),g=Hn().gapi;return ie(g,v,"internal-error"),f.open({where:document.body,url:Jw(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:py,dontclear:!0},y=>new Promise(function(){var C=(0,i.Z)(function*(x,B){yield y.restyle({setHideOnLeave:!1});const J=K(v,"network-request-failed"),Ae=Hn().setTimeout(()=>{B(J)},uc.get());function je(){Hn().clearTimeout(Ae),x(y)}y.ping(je).then(je,()=>{B(J)})});return function(x,B){return C.apply(this,arguments)}}()))}),b.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ze{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bt="__/auth/handler",Dt="emulator/auth/handler",wr=encodeURIComponent("fac");function ir(v,f,g,y,C,x){return qi.apply(this,arguments)}function qi(){return(qi=(0,i.Z)(function*(v,f,g,y,C,x){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const B={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:y,v:X.SDK_VERSION,eventId:C};if(f instanceof os){f.setDefaultLanguage(v.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[et,rt]of Object.entries(x||{}))B[et]=rt}if(f instanceof Kr){const et=f.getScopes().filter(rt=>""!==rt);et.length>0&&(B.scopes=et.join(","))}v.tenantId&&(B.tid=v.tenantId);const J=B;for(const et of Object.keys(J))void 0===J[et]&&delete J[et];const Ae=yield v._getAppCheckToken(),je=Ae?`#${wr}=${encodeURIComponent(Ae)}`:"";return`${function Al({config:v}){return v.emulator?Me(v,Dt):`https://${v.authDomain}/${bt}`}(v)}?${(0,O.xO)(J).slice(1)}${je}`})).apply(this,arguments)}const li="webStorageSupport",ji=class Mi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bi,this._completeRedirectFn=_o,this._overrideRedirectResult=us}_openPopup(f,g,y,C){var x=this;return(0,i.Z)(function*(){var B;jt(null===(B=x.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const J=yield ir(f,g,y,fr(),C);return function Be(v,f,g,y=500,C=600){const x=Math.max((window.screen.availHeight-C)/2,0).toString(),B=Math.max((window.screen.availWidth-y)/2,0).toString();let J="";const Ae=Object.assign(Object.assign({},S),{width:y.toString(),height:C.toString(),top:x,left:B}),je=(0,O.z$)().toLowerCase();g&&(J=nt(je)?"_blank":g),ye(je)&&(f=f||"http://localhost",Ae.scrollbars="yes");const et=Object.entries(Ae).reduce((On,[Ds,Eh])=>`${On}${Ds}=${Eh},`,"");if(function mr(v=(0,O.z$)()){var f;return Ct(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(je)&&"_self"!==J)return function it(v,f){const g=document.createElement("a");g.href=v,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",J),new ze(null);const rt=window.open(f||"",J,et);ie(rt,v,"popup-blocked");try{rt.focus()}catch{}return new ze(rt)}(f,J,Go())})()}_openRedirect(f,g,y,C){var x=this;return(0,i.Z)(function*(){return yield x._originValidation(f),function hl(v){Hn().location.href=v}(yield ir(f,g,y,fr(),C)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:C,promise:x}=this.eventManagers[g];return C?Promise.resolve(C):(jt(x,"If manager is not set, promise should be"),x)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,i.Z)(function*(){const y=yield function I(v){return b.apply(this,arguments)}(f),C=new su(f);return y.register("authEvent",x=>(ie(x?.authEvent,f,"invalid-auth-event"),{status:C.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:C},g.iframes[f._key()]=y,C})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(li,{type:li},C=>{var x;const B=null===(x=C?.[0])||void 0===x?void 0:x[li];void 0!==B&&g(!!B),pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function op(v){return Tn.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return is()||se()||Ct()}};class lc{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return He("unexpected MultiFactorSessionType")}}}class ea extends lc{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ea(f)}_finalizeEnroll(f,g,y){return function Yf(v,f){return Vt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(v,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Jr(v,f){return Vt(v,"POST","/v2/accounts/mfaSignIn:finalize",Xe(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gy=(()=>{class v{constructor(){}static assertion(g){return ea._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Ml="@firebase/auth";class cu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,i.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ta(){return window}(0,O.Pz)("authIdTokenMaxAge"),function lp(v){(0,X._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),C=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:B,authDomain:J}=y.options;ie(B&&!B.includes(":"),"invalid-api-key",{appName:y.name});const Ae={apiKey:B,authDomain:J,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(v)},je=new Sd(y,C,x,Ae);return function qf(v,f){const g=f?.persistence||[],y=(Array.isArray(g)?g:[g]).map(Yt);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(y,f?.popupRedirectResolver)}(je,g),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new fe.wA("auth-internal",f=>{const g=Jn(f.getProvider("auth").getImmediate());return new cu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(Ml,"0.23.2",function ah(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,X.registerVersion)(Ml,"0.23.2","esm2017")}("Browser");function uh(){return uh=(0,i.Z)(function*(v,f,g){var y;const{BuildInfo:C}=ta();jt(f.sessionId,"AuthEvent did not contain a session ID");const x=yield function pp(v){return gp.apply(this,arguments)}(f.sessionId),B={};return Ct()?B.ibi=C.packageName:Rt()?B.apn=C.packageName:pe(v,"operation-not-supported-in-this-environment"),C.displayName&&(B.appDisplayName=C.displayName),B.sessionId=x,ir(v,g,f.type,void 0,null!==(y=f.eventId)&&void 0!==y?y:void 0,B)}),uh.apply(this,arguments)}function hp(){return(hp=(0,i.Z)(function*(v){const{BuildInfo:f}=ta(),g={};Ct()?g.iosBundleId=f.packageName:Rt()?g.androidPackageName=f.packageName:pe(v,"operation-not-supported-in-this-environment"),yield sp(v,g)})).apply(this,arguments)}function yy(){return(yy=(0,i.Z)(function*(v,f,g){const{cordova:y}=ta();let C=()=>{};try{yield new Promise((x,B)=>{let J=null;function Ae(){var rt;x();const On=null===(rt=y.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function je(){J||(J=window.setTimeout(()=>{B(K(v,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&je()}f.addPassiveListener(Ae),document.addEventListener("resume",je,!1),Rt()&&document.addEventListener("visibilitychange",et,!1),C=()=>{f.removePassiveListener(Ae),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",et,!1),J&&window.clearTimeout(J)}})}finally{C()}})).apply(this,arguments)}function gp(){return(gp=(0,i.Z)(function*(v){const f=function Nm(v){if(jt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let y=0;y<v.length;y++)g[y]=v.charCodeAt(y);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iD extends su{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,i.Z)(function*(){yield f.initPromise})()}}function dc(v){return uu.apply(this,arguments)}function uu(){return(uu=(0,i.Z)(function*(v){const f=yield vp()._get(na(v));return f&&(yield vp()._remove(na(v))),f})).apply(this,arguments)}function _p(){const v=[];for(let g=0;g<20;g++){const y=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return v.join("")}function vp(){return Yt(An)}function na(v){return V("authEvent",v.config.apiKey,v.name)}function lu(v){if(!v?.includes("?"))return{};const[f,...g]=v.split("?");return(0,O.zd)(g.join("?"))}const Ey=class Xw{constructor(){this._redirectPersistence=bi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_o,this._overrideRedirectResult=us}_initialize(f){var g=this;return(0,i.Z)(function*(){const y=f._key();let C=g.eventManagers.get(y);return C||(C=new iD(f),g.eventManagers.set(y,C),g.attachCallbackListeners(f,C)),C})()}_openPopup(f){pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,y,C){var x=this;return(0,i.Z)(function*(){!function km(v){var f,g,y,C,x,B,J,Ae,je,et;const rt=ta();ie("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(g=rt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(x=null===(C=null===(y=rt?.cordova)||void 0===y?void 0:y.plugins)||void 0===C?void 0:C.browsertab)||void 0===x?void 0:x.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Ae=null===(J=null===(B=rt?.cordova)||void 0===B?void 0:B.plugins)||void 0===J?void 0:J.browsertab)||void 0===Ae?void 0:Ae.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(et=null===(je=rt?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===et?void 0:et.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield x._initialize(f);yield B.initialized(),B.resetRedirect(),function Xc(){ic.clear()}(),yield x._originValidation(f);const J=function Yw(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:_p(),postBody:null,tenantId:v.tenantId,error:K(v,"no-auth-event")}}(f,y,C);yield function xl(v,f){return vp()._set(na(v),f)}(f,J);const Ae=yield function vy(v,f,g){return uh.apply(this,arguments)}(f,J,g),je=yield function fp(v){const{cordova:f}=ta();return new Promise(g=>{f.plugins.browsertab.isAvailable(y=>{let C=null;y?f.plugins.browsertab.openUrl(v):C=f.InAppBrowser.open(v,function Gt(v=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(C)})})}(Ae);return function xm(v,f,g){return yy.apply(this,arguments)}(f,B,je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rD(v){return hp.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:y,handleOpenURL:C,BuildInfo:x}=ta(),B=setTimeout((0,i.Z)(function*(){yield dc(f),g.onEvent(wp())}),500),J=function(){var et=(0,i.Z)(function*(rt){clearTimeout(B);const On=yield dc(f);let Ds=null;On&&rt?.url&&(Ds=function mp(v,f){var g,y;const C=function Ep(v){const f=lu(v),g=f.link?decodeURIComponent(f.link):void 0,y=lu(g).link,C=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return lu(C).link||C||y||g||v}(f);if(C.includes("/__/auth/callback")){const x=lu(C),B=x.firebaseError?function yp(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,J=null===(y=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===y?void 0:y[1],Ae=J?K(J):null;return Ae?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:C,postBody:null}}return null}(On,rt.url)),g.onEvent(Ds||wp())});return function(On){return et.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,J);const Ae=C,je=`${x.packageName.toLowerCase()}://`;ta().handleOpenURL=function(){var et=(0,i.Z)(function*(rt){if(rt.toLowerCase().startsWith(je)&&J({url:rt}),"function"==typeof Ae)try{Ae(rt)}catch(On){console.error(On)}});return function(rt){return et.apply(this,arguments)}}()}};function wp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:K("no-auth-event")}}function kl(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Om(v=(0,O.z$)()){return!("file:"!==kl()&&"ionic:"!==kl()&&"capacitor:"!==kl()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function dh(){try{const v=self.localStorage,f=Go();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Dp(v=(0,O.z$)()){return function di(){return(0,O.w1)()&&11===document?.documentMode}()||function bp(v=(0,O.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,O.hl)()}catch{return Ir()&&(0,O.hl)()}return!1}function Ir(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ra(){return(function Tp(){return"http:"===kl()||"https:"===kl()}()||(0,O.ru)()||Om())&&!function eI(){return(0,O.b$)()||(0,O.UG)()}()&&dh()&&!Ir()}function Cp(){return Om()&&typeof document<"u"}function Mp(){return(Mp=(0,i.Z)(function*(){return!!Cp()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const $i={LOCAL:"local",NONE:"none",SESSION:"session"},ia=ie,Lm="persistence";function ph(v){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,i.Z)(function*(v){yield v._initializationPromise;const f=mh(),g=V(Lm,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function mh(){var v;try{return(null===(v=function hh(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Pm=ie;class ls{constructor(){this.browserResolver=Yt(ji),this.cordovaResolver=Yt(Ey),this.underlyingResolver=null,this._redirectPersistence=bi,this._completeRedirectFn=_o,this._overrideRedirectResult=us}_initialize(f){var g=this;return(0,i.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,y,C){var x=this;return(0,i.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,y,C)})()}_openRedirect(f,g,y,C){var x=this;return(0,i.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,y,C)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Cp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,i.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ap(){return Mp.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Nl(v){return v.unwrap()}function xp(v){return kp(v)}function kp(v){const{_tokenResponse:f}=v instanceof O.ZR?v.customData:v;if(!f)return null;if(!(v instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return qn.credentialFromResult(v);const g=f.providerId;if(!g||g===de.PASSWORD)return null;let y;switch(g){case de.GOOGLE:y=co;break;case de.FACEBOOK:y=ao;break;case de.GITHUB:y=ar;break;case de.TWITTER:y=vs;break;default:const{oauthIdToken:C,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:J,nonce:Ae}=f;return x||B||C||J?J?g.startsWith("saml.")?Bn._create(g,J):Wr._fromParams({providerId:g,signInMethod:g,pendingToken:J,idToken:C,accessToken:x}):new Ii(g).credential({idToken:C,accessToken:x,rawNonce:Ae}):null}return v instanceof O.ZR?y.credentialFromError(v):y.credentialFromResult(v)}function Lr(v,f){return f.catch(g=>{throw g instanceof O.ZR&&function _h(v,f){var g;const y=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new vh(v,function jd(v,f){var g;const y=(0,O.m9)(v),C=f;return ie(f.customData.operationType,y,"argument-error"),ie(null===(g=C.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),Hs._fromError(y,C)}(v,f));else if(y){const C=kp(f),x=f;C&&(x.credential=C,x.tenantId=y.tenantId||void 0,x.email=y.email||void 0,x.phoneNumber=y.phoneNumber||void 0)}}(v,g),g}).then(g=>{const C=g.user;return{operationType:g.operationType,credential:xp(g),additionalUserInfo:cr(g),user:zi.getOrCreate(C)}})}function sa(v,f){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,i.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:y=>Lr(v,g.confirm(y))}})).apply(this,arguments)}class vh{constructor(f,g){this.resolver=g,this.auth=function Fm(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Lr(Nl(this.auth),this.resolver.resolveSignIn(f))}}class zi{constructor(f){this._delegate=f,this.multiFactor=function ll(v){const f=(0,O.m9)(v);return Ga.has(f)||Ga.set(f,ja._fromUser(f)),Ga.get(f)}(f)}static getOrCreate(f){return zi.USER_MAP.has(f)||zi.USER_MAP.set(f,new zi(f)),zi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,i.Z)(function*(){return Lr(g.auth,wm(g._delegate,f))})()}linkWithPhoneNumber(f,g){var y=this;return(0,i.Z)(function*(){return sa(y.auth,function ip(v,f,g){return Qc.apply(this,arguments)}(y._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,i.Z)(function*(){return Lr(g.auth,function th(v,f,g){return Yc.apply(this,arguments)}(g._delegate,f,ls))})()}linkWithRedirect(f){var g=this;return(0,i.Z)(function*(){return yield ph(Jn(g.auth)),bl(g._delegate,f,ls)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,i.Z)(function*(){return Lr(g.auth,Zn(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return sa(this.auth,function Xa(v,f,g){return yl.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Lr(this.auth,function eh(v,f,g){return Jo.apply(this,arguments)}(this._delegate,f,ls))}reauthenticateWithRedirect(f){var g=this;return(0,i.Z)(function*(){return yield ph(Jn(g.auth)),oc(g._delegate,f,ls)})()}sendEmailVerification(f){return function Uc(v,f){return Ha.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,i.Z)(function*(){return yield function Em(v,f){return as.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Qf(v,f){return Zd((0,O.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Fi(v,f){return Zd((0,O.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ec(v,f){return Ko.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Dm(v,f){return Bo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function rl(v,f,g){return Vc.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zi.USER_MAP=new WeakMap;const bs=ie;let Um=(()=>{class v{constructor(g,y){if(this.app=g,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=g.options;bs(C,"invalid-api-key",{appName:g.name}),bs(C,"invalid-api-key",{appName:g.name});const x=typeof window<"u"?ls:void 0;this._delegate=y.initialize({options:{persistence:Iy(C,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,y){!function kc(v,f,g){const y=Jn(v);ie(y._canInitEmulator,y,"emulator-config-failed"),ie(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const C=!!g?.disableWarnings,x=io(f),{host:B,port:J}=function xd(v){const f=io(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(y);if(C){const x=C[1];return{host:x,port:kd(y.substr(x.length+1))}}{const[x,B]=y.split(":");return{host:x,port:kd(B)}}}(f);y.config.emulator={url:`${x}//${B}${null===J?"":`:${J}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:B,port:J,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function _m(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,y)}applyActionCode(g){return function Pc(v,f){return Ti.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ba(this._delegate,g)}confirmPasswordReset(g,y){return function Lc(v,f,g){return Qn.apply(this,arguments)}(this._delegate,g,y)}createUserWithEmailAndPassword(g,y){var C=this;return(0,i.Z)(function*(){return Lr(C._delegate,function Kf(v,f,g){return Za.apply(this,arguments)}(C._delegate,g,y))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Bd(v,f){return nl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function bm(v,f){const g=Ht.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,i.Z)(function*(){bs(ra(),g._delegate,"operation-not-supported-in-this-environment");const y=yield function mo(v,f){return Ts.apply(this,arguments)}(g._delegate,ls);return y?Lr(g._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Rm(v,f){Jn(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,y,C){const{next:x,error:B,complete:J}=Np(g,y,C);return this._delegate.onAuthStateChanged(x,B,J)}onIdTokenChanged(g,y,C){const{next:x,error:B,complete:J}=Np(g,y,C);return this._delegate.onIdTokenChanged(x,B,J)}sendSignInLinkToEmail(g,y){return function Fc(v,f,g){return lo.apply(this,arguments)}(this._delegate,g,y)}sendPasswordResetEmail(g,y){return function Tm(v,f,g){return Zr.apply(this,arguments)}(this._delegate,g,y||void 0)}setPersistence(g){var y=this;return(0,i.Z)(function*(){let C;switch(function fh(v,f){ia(Object.values($i).includes(f),v,"invalid-persistence-type"),(0,O.b$)()?ia(f!==$i.SESSION,v,"unsupported-persistence-type"):(0,O.UG)()?ia(f===$i.NONE,v,"unsupported-persistence-type"):Ir()?ia(f===$i.NONE||f===$i.LOCAL&&(0,O.hl)(),v,"unsupported-persistence-type"):ia(f===$i.NONE||dh(),v,"unsupported-persistence-type")}(y._delegate,g),g){case $i.SESSION:C=bi;break;case $i.LOCAL:C=(yield Yt(Ja)._isAvailable())?Ja:An;break;case $i.NONE:C=$t;break;default:return pe("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lr(this._delegate,function ym(v){return Ku.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lr(this._delegate,Pa(this._delegate,g))}signInWithCustomToken(g){return Lr(this._delegate,function Es(v,f){return Pi.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,y){return Lr(this._delegate,function el(v,f,g){return Pa((0,O.m9)(v),Rc.credential(f,g))}(this._delegate,g,y))}signInWithEmailLink(g,y){return Lr(this._delegate,function Hr(v,f,g){return Jf.apply(this,arguments)}(this._delegate,g,y))}signInWithPhoneNumber(g,y){return sa(this._delegate,function fn(v,f,g){return yr.apply(this,arguments)}(this._delegate,g,y))}signInWithPopup(g){var y=this;return(0,i.Z)(function*(){return bs(ra(),y._delegate,"operation-not-supported-in-this-environment"),Lr(y._delegate,function Ci(v,f,g){return Vi.apply(this,arguments)}(y._delegate,g,ls))})()}signInWithRedirect(g){var y=this;return(0,i.Z)(function*(){return bs(ra(),y._delegate,"operation-not-supported-in-this-environment"),yield ph(y._delegate),eu(y._delegate,g,ls)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Uo(v,f){return Vo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=$i,v})();function Np(v,f,g){let y=v;"function"!=typeof v&&({next:y,error:f,complete:g}=v);const C=y;return{next:B=>C(B&&zi.getOrCreate(B)),error:f,complete:g}}function Iy(v,f){const g=function gh(v,f){const g=mh();if(!g)return[];const y=V(Lm,v,f);switch(g.getItem(y)){case $i.NONE:return[$t];case $i.LOCAL:return[Ja,bi];case $i.SESSION:return[bi];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(Ja)&&g.push(Ja),typeof window<"u")for(const y of[An,bi])g.includes(y)||g.push(y);return g.includes($t)||g.push($t),g}class yh{constructor(){this.providerId="phone",this._delegate=new qn(Nl($.Z.auth()))}static credential(f,g){return qn.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}yh.PHONE_SIGN_IN_METHOD=qn.PHONE_SIGN_IN_METHOD,yh.PROVIDER_ID=qn.PROVIDER_ID;const Ty=ie;class Vm{constructor(f,g,y=$.Z.app()){var C;Ty(null===(C=y.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new vl(f,g,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rp(v){v.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),y=f.getProvider("auth");return new Um(g,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Rc,FacebookAuthProvider:ao,GithubAuthProvider:ar,GoogleAuthProvider:co,OAuthProvider:Ii,SAMLAuthProvider:Po,PhoneAuthProvider:yh,PhoneMultiFactorGenerator:gy,RecaptchaVerifier:Vm,TwitterAuthProvider:vs,Auth:Um,AuthCredential:ms,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},5861:(lt,Ie,R)=>{function i(O,X,ne,le,fe,Re,de){try{var U=O[Re](de),Z=U.value}catch(Q){return void ne(Q)}U.done?X(Z):Promise.resolve(Z).then(le,fe)}function $(O){return function(){var X=this,ne=arguments;return new Promise(function(le,fe){var Re=O.apply(X,ne);function de(Z){i(Re,le,fe,de,U,"next",Z)}function U(Z){i(Re,le,fe,de,U,"throw",Z)}de(void 0)})}}R.d(Ie,{Z:()=>$})},7582:(lt,Ie,R)=>{function X(oe,_e){var we={};for(var Me in oe)Object.prototype.hasOwnProperty.call(oe,Me)&&_e.indexOf(Me)<0&&(we[Me]=oe[Me]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Me=Object.getOwnPropertySymbols(oe);qe<Me.length;qe++)_e.indexOf(Me[qe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Me[qe])&&(we[Me[qe]]=oe[Me[qe]])}return we}function Q(oe,_e,we,Me){return new(we||(we=Promise))(function(Ve,Tt){function Xe(ft){try{tt(Me.next(ft))}catch(yn){Tt(yn)}}function Vt(ft){try{tt(Me.throw(ft))}catch(yn){Tt(yn)}}function tt(ft){ft.done?Ve(ft.value):function qe(Ve){return Ve instanceof we?Ve:new we(function(Tt){Tt(Ve)})}(ft.value).then(Xe,Vt)}tt((Me=Me.apply(oe,_e||[])).next())})}function te(oe){return this instanceof te?(this.v=oe,this):new te(oe)}function pe(oe,_e,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Me=we.apply(oe,_e||[]),Ve=[];return qe={},Tt("next"),Tt("throw"),Tt("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function Tt(tn){Me[tn]&&(qe[tn]=function(Nn){return new Promise(function(Kt,ti){Ve.push([tn,Nn,Kt,ti])>1||Xe(tn,Nn)})})}function Xe(tn,Nn){try{!function Vt(tn){tn.value instanceof te?Promise.resolve(tn.value.v).then(tt,ft):yn(Ve[0][2],tn)}(Me[tn](Nn))}catch(Kt){yn(Ve[0][3],Kt)}}function tt(tn){Xe("next",tn)}function ft(tn){Xe("throw",tn)}function yn(tn,Nn){tn(Nn),Ve.shift(),Ve.length&&Xe(Ve[0][0],Ve[0][1])}}function he(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,_e=oe[Symbol.asyncIterator];return _e?_e.call(oe):(oe=function Se(oe){var _e="function"==typeof Symbol&&Symbol.iterator,we=_e&&oe[_e],Me=0;if(we)return we.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Me>=oe.length&&(oe=void 0),{value:oe&&oe[Me++],done:!oe}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),we={},Me("next"),Me("throw"),Me("return"),we[Symbol.asyncIterator]=function(){return this},we);function Me(Ve){we[Ve]=oe[Ve]&&function(Tt){return new Promise(function(Xe,Vt){!function qe(Ve,Tt,Xe,Vt){Promise.resolve(Vt).then(function(tt){Ve({value:tt,done:Xe})},Tt)}(Xe,Vt,(Tt=oe[Ve](Tt)).done,Tt.value)})}}}R.d(Ie,{FC:()=>pe,KL:()=>he,_T:()=>X,mG:()=>Q,qq:()=>te})}},lt=>{lt(lt.s=9199)}]);